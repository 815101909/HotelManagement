2025-05-20 09:23:28.242 [main] INFO  c.e.h.HotelManagementApplication - Starting HotelManagementApplication using Java 1.8.0_331 on LAPTOP-6LBVHJ60 with PID 40164 (D:\LearnProject\HotelManagement\target\classes started by 815101909 in D:\LearnProject\HotelManagement)
2025-05-20 09:23:28.244 [main] DEBUG c.e.h.HotelManagementApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-05-20 09:23:28.244 [main] INFO  c.e.h.HotelManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-20 09:23:28.866 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-20 09:23:28.882 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.
2025-05-20 09:23:29.362 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-20 09:23:29.363 [main] INFO  o.a.c.core.AprLifecycleListener - An older version [1.2.35] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.38]
2025-05-20 09:23:29.363 [main] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.35] using APR version [1.7.0].
2025-05-20 09:23:29.363 [main] INFO  o.a.c.core.AprLifecycleListener - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-20 09:23:29.363 [main] INFO  o.a.c.core.AprLifecycleListener - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-20 09:23:29.389 [main] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1q  5 Jul 2022]
2025-05-20 09:23:29.396 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-05-20 09:23:29.397 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-20 09:23:29.398 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-05-20 09:23:29.574 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-20 09:23:29.575 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1292 ms
2025-05-20 09:23:29.756 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-20 09:23:36.047 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-20 09:23:36.173 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-20 09:23:36.322 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-05-20 09:23:36.676 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-20 09:23:36.941 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-20 09:23:37.222 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-20 09:23:37.245 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 09:23:37.776 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 初始化订单表结构...
2025-05-20 09:23:37.884 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - payment_status字段已存在
2025-05-20 09:23:37.889 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - synced_to_finance字段已存在
2025-05-20 09:23:37.890 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 订单表结构初始化完成
2025-05-20 09:23:38.080 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-20 09:23:38.765 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-05-20 09:23:38.803 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-20 09:23:38.832 [main] INFO  c.e.h.HotelManagementApplication - Started HotelManagementApplication in 10.955 seconds (JVM running for 14.12)
2025-05-20 09:30:45.390 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-20 09:30:45.390 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-20 09:30:45.392 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-05-20 09:30:45.515 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:30:45.534 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:30:45.547 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:30:45.562 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:30:45.565 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:30:45.566 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:30:45.568 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:30:45.569 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:30:45.570 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:30:45.571 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:30:45.571 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:30:45.572 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:30:45.573 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:30:45.573 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:30:45.573 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:30:45.574 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:30:45.574 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:30:45.574 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 09:30:45.575 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:30:45.576 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:30:45.576 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:30:45.577 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:30:45.584 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 09:30:45.584 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 09:30:45.589 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 09:30:46.949 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:30:46.950 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:30:46.956 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:30:46.962 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:30:46.963 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:30:46.963 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:30:46.969 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:30:46.992 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:30:46.992 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:30:46.993 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:30:46.999 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:30:46.999 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:30:47.001 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:30:47.001 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:30:47.004 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:30:47.018 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:30:47.018 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:30:47.028 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:30:47.029 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:30:47.029 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:30:47.032 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:30:47.045 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:30:47.045 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:30:47.046 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:30:47.048 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:30:47.056 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:30:47.057 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:30:47.057 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:30:47.062 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:30:47.066 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 09:30:47.066 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 09:30:47.072 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 09:30:47.074 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:30:47.074 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:30:47.086 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:30:47.119 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:30:47.120 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:30:47.125 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:30:47.126 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:30:47.126 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:30:47.128 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:30:47.132 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:30:47.133 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:30:47.133 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:30:47.134 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:30:47.137 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:30:47.137 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:30:47.137 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:30:47.139 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:30:47.144 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:30:47.145 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:30:47.145 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:30:47.146 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:30:47.152 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:30:47.154 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:30:47.155 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:30:47.157 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:30:47.162 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:30:47.163 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:30:47.163 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:30:47.164 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:30:47.167 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:30:47.168 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:30:47.168 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:30:47.168 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:30:47.173 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:30:47.201 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:30:47.201 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:30:47.202 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:30:47.206 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:30:47.208 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:30:47.208 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:30:47.211 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:30:47.211 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:30:47.212 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:30:47.217 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:30:47.219 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:30:47.220 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:30:47.223 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:30:47.225 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:30:47.225 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:30:47.228 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:30:47.230 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:30:47.230 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 09:30:47.234 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:30:47.235 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:30:47.236 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:30:47.240 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:30:47.286 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:30:47.286 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:30:47.287 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:30:47.290 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:30:47.298 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:30:47.299 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:30:47.300 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:48:50.403 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 09:48:50.407 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-20 09:48:50.420 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-20 09:52:45.611 [main] INFO  c.e.h.HotelManagementApplication - Starting HotelManagementApplication using Java 1.8.0_331 on LAPTOP-6LBVHJ60 with PID 29608 (D:\LearnProject\HotelManagement\target\classes started by 815101909 in D:\LearnProject\HotelManagement)
2025-05-20 09:52:45.613 [main] DEBUG c.e.h.HotelManagementApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-05-20 09:52:45.614 [main] INFO  c.e.h.HotelManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-20 09:52:46.126 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-20 09:52:46.138 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 0 JPA repository interfaces.
2025-05-20 09:52:46.501 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-20 09:52:46.501 [main] INFO  o.a.c.core.AprLifecycleListener - An older version [1.2.35] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.38]
2025-05-20 09:52:46.501 [main] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.35] using APR version [1.7.0].
2025-05-20 09:52:46.501 [main] INFO  o.a.c.core.AprLifecycleListener - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-20 09:52:46.501 [main] INFO  o.a.c.core.AprLifecycleListener - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-20 09:52:46.521 [main] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1q  5 Jul 2022]
2025-05-20 09:52:46.528 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-05-20 09:52:46.529 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-20 09:52:46.529 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-05-20 09:52:46.672 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-20 09:52:46.672 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1026 ms
2025-05-20 09:52:46.791 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-20 09:52:49.546 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-20 09:52:49.580 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-20 09:52:49.627 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-05-20 09:52:49.773 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-20 09:52:49.885 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-20 09:52:50.032 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-20 09:52:50.042 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 09:52:50.249 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 初始化订单表结构...
2025-05-20 09:52:50.281 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - payment_status字段已存在
2025-05-20 09:52:50.283 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - synced_to_finance字段已存在
2025-05-20 09:52:50.283 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 订单表结构初始化完成
2025-05-20 09:52:50.342 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-20 09:52:50.586 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-05-20 09:52:50.599 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-20 09:52:50.608 [main] INFO  c.e.h.HotelManagementApplication - Started HotelManagementApplication in 5.287 seconds (JVM running for 10.628)
2025-05-20 09:56:04.640 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-20 09:56:04.641 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-20 09:56:04.643 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-05-20 09:56:04.831 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:56:04.855 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:56:04.876 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:56:04.893 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:04.894 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:04.894 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:04.908 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:05.014 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:05.014 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:05.014 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:05.022 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:05.024 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:05.024 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:05.024 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:05.031 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:05.042 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:05.043 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:05.052 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:05.053 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:05.054 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:05.058 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:05.071 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:05.072 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:05.072 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:05.076 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:05.087 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:05.088 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:05.089 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:05.095 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:05.098 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 09:56:05.098 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 09:56:05.102 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 09:56:05.103 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:05.105 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:05.111 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:05.162 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:56:05.162 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:56:05.164 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:56:05.164 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:05.165 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:05.165 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:05.166 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:05.168 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:05.169 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:05.169 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:05.172 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:05.172 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:05.172 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:05.172 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:05.175 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:05.175 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:05.176 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:05.176 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:05.179 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:05.179 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:05.180 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:05.182 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:05.186 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:05.188 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:05.189 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:05.189 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:05.192 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:05.192 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:05.192 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:05.193 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:05.196 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:05.210 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:05.210 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:05.210 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:05.213 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:05.215 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:05.216 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:56:05.220 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:05.220 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:05.220 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:56:05.221 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:05.222 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:05.223 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:56:05.224 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:05.224 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:05.224 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:56:05.226 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:05.227 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:05.227 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 09:56:05.228 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:05.228 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:05.229 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:56:05.230 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:05.242 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:05.242 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:05.242 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:05.244 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:05.251 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:56:05.252 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:56:05.257 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:56:06.921 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:56:06.923 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:56:06.926 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:56:06.943 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 09:56:06.944 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 09:56:06.945 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 09:56:06.960 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 09:56:08.990 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:56:08.991 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:56:08.995 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:56:08.996 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:08.997 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:08.998 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:09.003 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:09.025 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:09.026 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:09.026 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:09.029 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:09.030 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:09.030 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:09.030 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:09.032 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:09.055 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:09.056 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:09.060 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:09.060 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:09.062 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:09.064 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:09.072 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:09.072 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:09.072 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:09.075 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:09.076 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:09.076 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:09.076 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:09.079 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:09.079 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 09:56:09.079 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 09:56:09.081 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 09:56:09.084 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:09.084 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:09.089 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:09.098 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:56:09.098 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:56:09.100 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:56:09.100 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:09.100 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:09.100 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:09.103 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:09.104 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:09.104 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:09.104 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:09.107 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:09.107 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:09.108 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:09.109 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:09.111 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:09.112 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:09.113 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:09.113 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:09.120 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:09.121 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:09.122 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:09.122 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:09.127 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:09.128 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:09.128 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:09.129 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:09.133 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:09.133 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:09.134 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:09.134 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:09.136 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:09.150 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:09.152 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:09.152 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:09.156 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:09.157 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:09.157 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:56:09.159 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:09.160 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:09.160 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:56:09.162 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:09.162 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:09.163 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:56:09.164 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:09.165 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:09.165 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:56:09.167 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:09.167 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:09.168 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 09:56:09.169 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:09.169 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:09.170 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:56:09.171 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:09.188 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:09.188 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:09.188 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:09.191 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:09.191 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:56:09.192 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:56:09.193 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:56:10.360 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:56:10.360 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:56:10.365 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:56:10.373 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 09:56:10.374 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 09:56:10.375 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 09:56:10.384 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 09:56:12.455 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:56:12.455 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:56:12.457 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:56:12.458 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:12.458 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:12.458 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:12.460 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:12.471 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:12.471 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:12.471 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:12.473 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:12.473 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:12.473 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:12.473 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:12.475 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:12.490 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:12.491 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:12.493 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:12.493 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:12.494 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:12.497 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:12.512 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:12.513 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:12.513 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:12.515 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:12.516 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:12.516 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:12.517 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:12.520 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:12.521 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 09:56:12.521 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 09:56:12.523 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 09:56:12.523 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:12.523 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:12.526 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:12.535 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:56:12.535 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:56:12.536 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:56:12.537 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:12.537 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:12.537 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:12.538 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:12.538 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:12.539 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:12.539 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:12.540 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:12.540 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:12.540 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:12.540 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:12.542 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:12.543 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:12.543 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:12.543 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:12.546 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:12.546 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:12.546 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:12.546 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:12.548 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:12.549 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:12.549 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:12.549 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:12.552 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:12.553 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:12.553 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:12.553 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:12.554 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:12.564 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:12.564 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:12.565 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:12.567 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:12.568 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:12.568 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:56:12.569 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:12.570 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:12.570 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:56:12.572 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:12.572 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:12.572 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:56:12.575 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:12.576 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:12.576 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:56:12.578 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:12.578 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:12.578 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 09:56:12.581 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:12.581 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:12.581 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:56:12.582 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:12.596 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:12.596 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:12.596 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:12.598 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:12.598 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:56:12.598 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:56:12.599 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:56:14.832 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:56:14.833 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 09:56:14.834 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:56:14.837 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 09:56:14.837 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 09:56:14.838 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:56:14.875 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 09:56:18.853 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 09:56:18.854 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 09:56:18.854 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 09:56:18.856 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:18.856 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:18.861 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:56:18.861 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:56:18.862 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:18.863 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 09:56:18.865 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:56:21.046 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 09:56:21.046 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 09:56:21.049 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:21.051 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:21.051 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:21.053 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:21.054 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 09:56:21.054 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 09:56:21.055 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:21.055 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:56:21.057 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:21.058 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:21.058 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:56:21.061 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:21.061 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:21.061 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:56:21.062 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:21.062 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:21.062 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:56:21.063 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:21.063 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:21.063 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 09:56:21.065 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:21.065 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:21.066 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:56:21.066 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:21.076 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 09:56:21.077 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 09:56:21.081 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 09:56:26.310 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 09:56:26.311 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 09:56:26.311 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:26.311 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 09:56:26.312 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:26.314 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:26.316 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 09:56:26.321 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:56:26.321 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:56:26.323 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:56:27.650 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:56:27.651 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:56:27.654 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:56:27.655 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:27.655 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:27.655 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:27.658 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:27.680 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:27.681 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:27.681 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:27.685 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:27.685 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:27.687 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:27.687 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:27.690 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:27.708 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:27.708 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:27.711 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:27.712 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:27.712 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:27.713 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:27.741 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:27.741 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:27.741 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:27.743 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:27.743 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:27.744 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:27.744 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:27.745 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:27.746 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 09:56:27.746 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 09:56:27.746 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 09:56:27.747 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:27.747 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:27.748 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:27.759 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:56:27.759 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:56:27.760 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:56:27.760 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:27.761 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:27.761 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:27.762 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:27.763 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:27.763 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:27.763 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:27.764 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:27.765 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:27.765 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:27.765 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:27.766 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:27.766 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:27.767 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:27.767 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:27.768 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:27.768 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:27.768 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:27.768 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:27.770 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:27.770 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:27.770 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:27.770 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:27.772 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:27.772 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:27.772 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:27.772 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:27.774 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:27.786 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:27.787 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:27.787 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:27.791 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:27.791 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:27.791 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:56:27.792 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:27.793 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:27.793 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:56:27.794 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:27.794 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:27.794 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:56:27.796 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:27.796 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:27.796 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:56:27.797 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:27.798 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:27.798 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 09:56:27.799 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:27.799 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:27.799 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:56:27.801 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:27.812 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:27.812 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:27.813 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:27.815 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:27.815 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:56:27.816 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:56:27.819 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:56:29.858 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:56:29.859 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:56:29.860 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:56:29.864 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 09:56:29.865 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 09:56:29.865 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 09:56:29.868 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 09:56:31.607 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 09:56:31.607 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 09:56:31.608 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 09:56:31.611 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 09:56:31.625 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:31.626 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:31.628 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:56:31.628 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:56:31.630 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:31.630 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:56:32.562 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:32.562 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:32.565 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:32.565 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:32.566 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:32.568 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:32.568 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:32.569 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:32.572 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:32.588 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:32.589 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:32.591 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:32.593 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:32.593 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:32.596 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:32.597 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:32.597 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:32.600 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:32.609 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:32.609 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:32.612 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:32.612 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:32.612 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:32.614 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:32.614 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:32.615 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:32.619 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:32.620 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:32.620 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:32.623 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:32.624 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:32.625 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:32.627 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:37.438 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:56:37.438 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:56:37.440 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:56:37.441 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:37.441 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:37.441 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:37.443 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:37.455 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:37.456 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:37.456 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:37.458 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:37.458 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:37.459 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:37.459 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:37.460 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:37.480 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:37.481 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:37.484 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:37.485 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:37.485 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:37.488 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:37.497 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:37.498 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:37.498 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:37.499 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:37.499 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:37.499 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:37.499 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:37.500 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:37.501 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 09:56:37.501 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 09:56:37.508 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 09:56:37.509 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:37.509 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:37.512 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:37.523 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:56:37.523 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:56:37.524 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:56:37.524 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:37.525 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:37.525 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:37.526 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:37.526 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:37.527 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:37.527 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:37.529 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:37.529 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:37.530 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:37.530 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:37.532 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:37.532 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:37.532 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:37.534 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:37.535 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:37.535 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:37.536 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:37.536 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:37.537 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:37.538 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:37.538 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:37.538 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:37.539 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:37.540 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:37.540 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:37.540 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:37.541 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:37.551 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:37.551 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:37.551 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:37.553 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:37.554 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:37.554 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:56:37.555 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:37.555 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:37.557 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:56:37.558 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:37.559 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:37.559 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:56:37.560 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:37.560 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:37.561 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:56:37.562 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:37.563 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:37.563 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 09:56:37.564 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:37.564 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:37.564 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:56:37.565 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:37.576 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:37.577 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:37.577 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:37.579 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:37.579 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:56:37.580 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:56:37.581 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:56:38.828 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 09:56:38.829 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 09:56:38.829 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:56:38.830 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:56:38.830 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 09:56:38.831 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:56:38.832 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 09:56:39.707 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:56:39.707 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:56:39.709 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:56:39.710 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:39.710 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:39.710 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:39.713 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:39.740 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:39.741 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:39.742 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:39.744 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:39.744 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:39.745 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:39.745 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:39.746 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:39.764 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:39.765 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:39.767 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:39.768 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:39.768 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:39.770 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:39.788 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:39.789 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:39.789 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:39.790 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:39.791 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:39.791 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:39.791 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:39.793 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:39.794 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 09:56:39.794 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 09:56:39.795 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 09:56:39.795 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 09:56:39.795 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 09:56:39.797 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 09:56:39.806 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:56:39.806 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:56:39.808 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:56:39.808 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:39.809 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:39.809 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:39.810 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:39.810 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:39.810 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:39.810 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:39.811 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:39.811 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:39.811 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:39.811 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:39.812 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:39.812 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:39.812 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:39.812 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:39.814 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:39.814 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:39.814 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:39.814 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:39.816 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:39.817 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:39.817 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:39.818 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:39.820 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:39.820 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:39.821 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:39.821 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:39.822 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:39.832 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:39.833 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:39.833 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:39.835 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:39.835 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:39.835 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:56:39.836 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:39.837 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:39.837 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:56:39.838 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:39.838 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:39.838 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:56:39.839 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:39.839 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:39.839 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:56:39.841 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:39.841 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:39.841 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 09:56:39.842 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:39.843 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:39.843 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:56:39.844 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:39.863 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:39.863 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:39.863 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:39.866 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:39.867 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 09:56:39.867 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 09:56:39.868 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 09:56:42.869 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 09:56:42.869 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 09:56:42.869 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:56:42.870 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:56:42.870 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:56:42.873 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:56:42.873 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 09:56:42.874 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 09:56:42.874 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:42.874 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:56:42.876 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:42.877 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:42.877 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:56:42.878 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:42.878 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:42.878 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:56:42.878 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:42.880 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:42.880 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:56:42.880 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:42.880 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:42.880 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 09:56:42.881 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:42.882 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:56:42.882 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:56:42.885 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:56:42.886 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 09:56:42.886 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 09:56:42.888 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 09:57:06.966 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 09:57:06.966 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 09:57:06.966 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 09:57:06.968 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 09:57:10.962 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 09:57:10.963 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 09:57:10.963 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 09:57:10.966 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 09:57:14.954 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 09:57:14.955 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 09:57:14.956 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 09:57:14.958 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 09:57:29.966 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 09:57:29.968 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 09:57:29.968 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 09:57:29.970 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 09:57:38.776 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 09:57:38.777 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 09:57:38.777 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 09:57:38.780 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 09:57:39.816 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 09:57:39.816 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 09:57:39.816 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:57:39.818 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:57:39.819 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:57:39.822 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:57:39.822 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 09:57:39.823 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 09:57:39.823 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:57:39.823 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:57:39.824 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:57:39.825 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:57:39.826 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:57:39.828 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:57:39.829 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:57:39.829 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:57:39.831 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:57:39.831 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:57:39.832 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:57:39.834 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:57:39.836 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:57:39.837 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 09:57:39.839 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:57:39.840 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:57:39.840 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:57:39.841 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:57:39.842 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 09:57:39.843 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 09:57:39.845 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 09:57:40.643 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 09:57:40.643 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 09:57:40.643 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:57:40.644 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:57:40.644 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:57:40.646 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:57:40.646 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 09:57:40.647 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 09:57:40.647 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:57:40.647 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:57:40.650 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:57:40.651 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:57:40.651 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:57:40.653 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:57:40.654 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:57:40.654 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:57:40.656 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:57:40.656 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:57:40.656 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:57:40.658 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:57:40.658 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:57:40.658 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 09:57:40.659 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:57:40.659 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:57:40.660 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:57:40.660 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:57:40.661 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 09:57:40.661 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 09:57:40.666 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 09:57:41.350 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 09:57:41.350 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 09:57:41.350 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:57:41.351 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:57:41.351 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:57:41.353 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:57:41.353 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 09:57:41.353 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 09:57:41.353 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:57:41.353 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:57:41.355 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:57:41.356 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:57:41.356 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:57:41.358 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:57:41.358 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:57:41.358 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:57:41.359 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:57:41.360 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:57:41.360 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:57:41.361 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:57:41.362 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:57:41.362 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 09:57:41.363 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:57:41.363 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:57:41.363 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:57:41.364 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:57:41.364 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 09:57:41.365 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 09:57:41.366 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 09:57:42.571 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 09:57:42.571 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 09:57:42.571 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 09:57:42.572 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 09:57:42.573 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 09:57:42.575 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 09:57:42.575 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 09:57:42.575 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 09:57:42.575 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:57:42.576 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:57:42.579 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:57:42.580 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:57:42.580 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:57:42.582 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:57:42.583 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:57:42.583 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:57:42.587 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:57:42.588 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:57:42.589 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 09:57:42.592 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:57:42.593 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:57:42.594 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 09:57:42.597 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:57:42.598 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 09:57:42.599 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 09:57:42.602 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 09:57:42.603 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 09:57:42.603 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 09:57:42.607 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 09:58:06.966 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 09:58:06.966 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 09:58:06.968 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 09:58:06.971 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 09:58:10.968 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 09:58:10.969 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 09:58:10.969 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 09:58:10.973 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 09:58:14.967 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 09:58:14.968 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 09:58:14.969 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 09:58:14.971 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 09:58:29.954 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 09:58:29.957 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 09:58:29.957 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 09:58:29.961 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 09:58:38.957 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 09:58:38.958 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 09:58:38.958 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 09:58:38.961 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 09:59:06.958 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 09:59:06.959 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 09:59:06.959 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 09:59:06.961 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 09:59:10.966 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 09:59:10.967 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 09:59:10.967 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 09:59:10.969 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 09:59:14.964 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 09:59:14.965 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 09:59:14.965 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 09:59:14.968 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 09:59:29.964 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 09:59:29.965 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 09:59:29.965 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 09:59:29.977 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 09:59:38.962 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 09:59:38.963 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 09:59:38.964 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 09:59:38.966 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:00:06.966 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:00:06.966 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:00:06.967 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:00:06.969 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:00:10.957 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:00:10.958 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:00:10.958 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:00:10.960 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:00:14.961 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:00:14.962 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:00:14.962 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:00:14.965 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:00:29.963 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:00:29.964 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:00:29.964 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:00:29.966 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:00:38.964 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:00:38.965 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:00:38.965 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:00:38.967 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:01:06.956 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:01:06.957 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:01:06.957 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:01:06.958 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:01:10.961 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:01:10.963 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:01:10.963 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:01:10.965 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:01:14.961 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:01:14.961 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:01:14.961 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:01:14.963 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:01:29.955 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:01:29.955 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:01:29.956 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:01:29.957 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:01:32.644 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:01:32.645 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 10:01:32.645 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:01:32.645 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:01:32.645 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:01:32.646 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:01:32.648 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:01:32.648 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:01:32.648 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:01:32.648 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:01:32.649 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:01:32.650 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:01:32.650 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:01:32.651 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:01:32.651 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:01:32.652 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:01:32.653 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:01:32.654 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:01:32.654 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:01:32.655 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:01:32.655 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:01:32.655 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:01:32.656 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:01:32.656 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:01:32.657 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:01:32.658 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:01:32.659 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:01:32.659 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:01:32.661 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:02:02.908 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:02:02.908 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 10:02:02.908 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:02:02.908 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:02:02.908 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:02:02.910 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:02:02.910 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:02:02.910 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:02:02.910 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:02:02.910 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:02:02.913 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:02:02.913 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:02:02.913 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:02:02.914 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:02:02.915 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:02:02.915 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:02:02.915 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:02:02.916 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:02:02.916 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:02:02.917 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:02:02.917 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:02:02.917 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:02:02.918 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:02:02.918 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:02:02.919 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:02:02.919 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:02:02.919 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:02:02.920 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:02:02.920 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:02:29.497 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:02:29.497 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 10:02:29.497 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:02:29.498 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:02:29.498 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:02:29.500 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:02:29.500 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:02:29.500 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:02:29.500 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:02:29.500 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:02:29.501 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:02:29.501 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:02:29.501 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:02:29.502 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:02:29.502 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:02:29.502 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:02:29.502 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:02:29.502 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:02:29.503 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:02:29.503 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:02:29.503 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:02:29.503 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:02:29.504 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:02:29.505 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:02:29.505 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:02:29.506 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:02:29.506 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:02:29.506 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:02:29.507 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:02:30.779 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:02:30.779 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 10:02:30.779 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:02:30.780 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:02:30.781 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:02:30.782 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:02:30.782 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:02:30.783 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:02:30.783 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:02:30.783 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:02:30.785 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:02:30.785 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:02:30.786 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:02:30.787 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:02:30.787 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:02:30.788 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:02:30.789 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:02:30.789 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:02:30.790 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:02:30.791 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:02:30.791 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:02:30.792 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:02:30.793 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:02:30.793 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:02:30.794 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:02:30.794 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:02:30.794 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:02:30.794 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:02:30.795 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:02:32.135 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:02:32.136 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 10:02:32.136 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:02:32.136 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:02:32.136 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:02:32.138 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:02:32.138 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:02:32.138 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:02:32.138 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:02:32.138 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:02:32.140 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:02:32.140 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:02:32.140 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:02:32.141 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:02:32.141 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:02:32.141 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:02:32.142 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:02:32.142 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:02:32.142 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:02:32.143 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:02:32.143 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:02:32.144 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:02:32.144 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:02:32.145 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:02:32.145 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:02:32.146 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:02:32.146 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:02:32.146 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:02:32.148 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:45:43.162 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:45:43.166 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 10:45:43.168 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:43.182 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:43.186 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:43.199 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:43.200 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:45:43.202 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:45:43.204 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:43.205 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:43.211 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:43.211 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:43.212 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:45:43.213 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:43.213 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:43.213 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:43.214 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:43.215 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:43.215 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:43.216 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:43.216 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:43.217 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:45:43.217 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:43.217 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:43.217 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:45:43.219 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:43.222 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:45:43.222 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:45:43.228 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:45:44.618 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:45:44.619 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 10:45:44.619 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:44.619 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:44.619 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:44.622 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:44.622 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:45:44.622 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:45:44.721 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$a5bb981f.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 10:45:44.788 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:45:44.788 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:45:44.790 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:45:44.797 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:45:44.815 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:44.815 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:44.815 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:44.818 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:44.818 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:44.819 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:44.819 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:44.820 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:44.820 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 10:45:44.821 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 10:45:44.825 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 10:45:44.825 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:45:44.826 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:45:44.831 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:45:44.853 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:44.854 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:44.854 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:44.856 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:44.883 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:44.884 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:44.884 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:44.888 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:44.888 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:44.889 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:44.892 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:44.893 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:44.894 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:45:44.896 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:44.897 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:44.898 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:44.900 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:44.901 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:44.901 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:44.904 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:44.905 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:44.905 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:45:44.907 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:44.907 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:44.908 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:45:44.909 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:44.925 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:44.925 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:44.925 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:44.927 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:44.927 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:45:44.928 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:45:44.929 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:45:44.949 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:45:44.949 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:45:44.955 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:45:47.345 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:45:47.345 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 10:45:47.345 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:47.346 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:47.346 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:47.348 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:47.348 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:45:47.348 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:45:47.348 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:47.348 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:47.351 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:47.351 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:47.351 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:45:47.352 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:47.353 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:47.353 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:47.353 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:47.353 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:47.353 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:47.354 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:47.355 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:47.355 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:45:47.357 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:47.357 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:47.357 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:45:47.361 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:47.362 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:45:47.362 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:45:47.364 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:45:48.701 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:45:48.702 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 10:45:48.702 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:48.703 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:48.704 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:48.708 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:48.708 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:45:48.709 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:45:48.711 [http-nio-8080-exec-8] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$a5bb981f.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 10:45:48.726 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:45:48.726 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:45:48.727 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:45:48.729 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:45:48.747 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:48.747 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:48.747 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:48.750 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:48.751 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:48.752 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:48.752 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:48.755 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:48.757 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 10:45:48.757 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 10:45:48.762 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 10:45:48.763 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:45:48.763 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:45:48.765 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:45:48.778 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:48.779 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:48.779 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:48.780 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:48.790 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:48.790 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:48.791 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:48.792 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:48.793 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:48.793 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:48.794 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:48.795 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:48.795 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:45:48.795 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:48.795 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:48.797 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:48.797 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:48.798 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:48.798 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:48.798 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:48.798 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:48.799 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:45:48.800 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:48.800 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:48.800 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:45:48.801 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:48.811 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:48.811 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:48.812 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:48.813 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:48.813 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:45:48.813 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:45:48.814 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:45:48.822 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:45:48.822 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:45:48.823 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:45:51.397 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:45:51.398 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 开始日期: Sun May 18 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 10:45:51.398 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:51.399 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:51.399 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:51.402 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:51.402 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:45:51.402 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:45:51.405 [http-nio-8080-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$a5bb981f.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 10:45:51.423 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:45:51.423 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:45:51.423 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:45:51.424 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:45:51.434 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:51.434 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:51.434 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:51.435 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:51.435 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:51.435 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:51.436 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:51.437 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:51.438 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 10:45:51.438 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 10:45:51.440 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 10:45:51.440 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:45:51.440 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:45:51.442 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:45:51.454 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:51.454 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:51.454 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:51.455 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:51.465 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:51.465 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:51.465 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:51.467 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:51.467 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:51.467 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:51.468 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:51.468 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:51.468 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:45:51.470 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:51.471 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:51.471 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:51.472 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:51.472 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:51.473 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:51.473 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:51.473 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:51.475 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:45:51.476 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:51.476 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:51.476 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:45:51.477 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:51.490 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:51.491 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:51.491 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:51.492 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:51.492 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:45:51.492 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:45:51.493 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:45:51.500 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:45:51.501 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:45:51.502 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:45:52.963 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:45:52.964 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 开始日期: Wed Apr 30 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 10:45:52.964 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:52.965 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:52.965 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:52.967 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:52.967 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:45:52.967 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:45:52.970 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$a5bb981f.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor115.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 10:45:53.000 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:45:53.000 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:45:53.001 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:45:53.004 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:45:53.020 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:53.021 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:53.021 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:53.023 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:53.024 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:53.024 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:53.024 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:53.027 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:53.028 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 10:45:53.028 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 10:45:53.030 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 10:45:53.030 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:45:53.031 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:45:53.033 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:45:53.056 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:53.056 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:53.057 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:53.061 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:53.092 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:53.092 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:53.093 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:53.096 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:53.096 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:53.096 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:53.098 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:53.099 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:53.101 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:45:53.103 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:53.104 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:53.106 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:53.111 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:53.113 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:53.114 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:53.116 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:53.120 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:53.120 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:45:53.124 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:53.125 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:53.127 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:45:53.128 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:53.148 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:53.149 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:53.150 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:53.153 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:53.154 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:45:53.154 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:45:53.156 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:45:53.175 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:45:53.175 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:45:53.178 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:45:54.702 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:45:54.702 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 开始日期: Mon Mar 31 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 10:45:54.703 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:54.704 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:54.705 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:54.708 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:54.708 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:45:54.709 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:45:54.713 [http-nio-8080-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$a5bb981f.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor115.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 10:45:54.725 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:45:54.725 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:45:54.726 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:45:54.728 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:45:54.737 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:54.738 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:54.738 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:54.740 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:54.740 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:54.740 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:54.741 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:54.742 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:54.743 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 10:45:54.743 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 10:45:54.744 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 10:45:54.744 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:45:54.745 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:45:54.746 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:45:54.755 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:54.756 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:54.756 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:54.757 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:54.764 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:54.764 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:54.764 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:54.767 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:54.767 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:54.767 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:54.768 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:54.769 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:54.769 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:45:54.771 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:54.772 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:54.772 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:54.774 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:54.774 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:54.775 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:54.776 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:54.776 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:54.777 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:45:54.778 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:54.778 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:54.778 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:45:54.779 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:54.790 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:54.790 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:54.790 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:54.792 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:54.792 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:45:54.793 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:45:54.794 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:45:54.802 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:45:54.803 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:45:54.804 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:45:55.788 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:45:55.788 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 开始日期: Tue Dec 31 00:00:00 CST 2024, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 10:45:55.788 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:55.789 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:55.789 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:55.790 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:55.790 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:45:55.791 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:45:55.792 [http-nio-8080-exec-9] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$a5bb981f.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor115.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 10:45:55.805 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:45:55.805 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:45:55.806 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:45:55.808 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:45:55.816 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:55.816 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:55.816 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:55.817 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:55.818 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:55.818 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:55.818 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:55.819 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:55.819 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 10:45:55.819 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 10:45:55.820 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 10:45:55.821 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:45:55.821 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:45:55.823 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:45:55.835 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:55.835 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:55.835 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:55.838 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:55.850 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:55.850 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:55.850 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:55.851 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:55.852 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:55.852 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:55.852 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:55.853 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:55.853 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:45:55.855 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:55.855 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:55.855 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:55.856 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:55.856 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:55.856 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:55.857 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:55.858 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:55.858 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:45:55.859 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:55.859 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:55.859 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:45:55.860 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:55.869 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:55.869 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:55.869 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:55.872 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:55.872 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:45:55.872 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:45:55.874 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:45:55.881 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:45:55.882 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:45:55.883 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:45:57.990 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:45:57.990 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 开始日期: Tue Dec 31 00:00:00 CST 2024, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 10:45:57.990 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:57.991 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:57.991 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:57.993 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:57.993 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:45:57.993 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:45:57.995 [http-nio-8080-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$a5bb981f.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor115.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 10:45:58.032 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:45:58.032 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:45:58.032 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:45:58.035 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:45:58.049 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:58.050 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:58.050 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:58.051 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:58.052 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:58.052 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:58.052 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:58.054 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:58.055 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 10:45:58.055 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 10:45:58.057 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 10:45:58.057 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:45:58.058 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:45:58.060 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:45:58.077 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:58.078 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:58.078 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:58.080 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:58.090 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:58.090 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:58.090 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:58.091 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:58.091 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:58.091 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:58.094 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:58.094 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:58.095 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:45:58.096 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:58.096 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:58.096 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:58.097 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:58.098 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:58.098 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:58.099 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:58.100 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:58.100 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:45:58.101 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:58.101 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:58.102 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:45:58.104 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:58.120 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:58.120 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:58.121 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:58.122 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:58.123 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:45:58.123 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:45:58.125 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:45:58.134 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:45:58.134 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:45:58.137 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:45:58.948 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:45:58.948 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 开始日期: Mon Mar 31 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 10:45:58.948 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:58.949 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:58.949 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:58.950 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:58.951 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:45:58.951 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:45:58.952 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$a5bb981f.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor115.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 10:45:58.976 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:45:58.976 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:45:58.977 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:45:58.979 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:45:58.989 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:58.990 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:58.990 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:58.991 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:58.991 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:58.991 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:58.991 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:58.993 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:58.993 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 10:45:58.994 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 10:45:58.995 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 10:45:58.995 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:45:58.996 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:45:58.997 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:45:59.012 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:59.012 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:59.013 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:59.014 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:59.023 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:59.023 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:59.023 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:59.025 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:59.025 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:59.025 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:59.026 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:59.026 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:59.026 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:45:59.027 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:59.027 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:59.027 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:59.028 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:59.028 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:59.028 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:45:59.029 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:59.029 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:59.029 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:45:59.030 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:59.030 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:45:59.030 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:45:59.031 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:45:59.040 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:45:59.041 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:45:59.041 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:45:59.042 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:45:59.042 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:45:59.042 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:45:59.043 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:45:59.050 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:45:59.050 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:45:59.052 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:46:00.214 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:46:00.215 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 开始日期: Wed Apr 30 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 10:46:00.215 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:00.217 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:00.217 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:00.220 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:00.220 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:46:00.220 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:46:00.223 [http-nio-8080-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$a5bb981f.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor115.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 10:46:00.236 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:46:00.237 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:46:00.237 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:46:00.240 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:46:00.249 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:00.249 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:00.250 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:00.252 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:00.252 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:00.252 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:00.252 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:00.254 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:00.254 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 10:46:00.254 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 10:46:00.255 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 10:46:00.255 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:46:00.255 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:46:00.258 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:46:00.265 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:00.266 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:00.266 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:00.268 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:00.277 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:00.277 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:00.277 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:00.278 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:00.278 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:00.279 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:00.280 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:00.280 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:00.280 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:00.280 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:00.281 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:00.281 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:00.282 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:00.282 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:00.282 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:00.283 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:00.283 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:00.285 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:46:00.285 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:00.286 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:00.286 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:00.287 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:00.294 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:00.294 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:00.294 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:00.295 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:00.296 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:46:00.296 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:46:00.297 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:46:00.305 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:46:00.306 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:46:00.307 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:46:01.178 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:46:01.178 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 开始日期: Sun May 18 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 10:46:01.179 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:01.180 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:01.180 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:01.182 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:01.182 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:46:01.183 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:46:01.185 [http-nio-8080-exec-7] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$a5bb981f.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor115.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 10:46:01.214 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:46:01.215 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:46:01.216 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:46:01.219 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:46:01.251 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:01.251 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:01.252 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:01.253 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:01.253 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:01.254 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:01.254 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:01.255 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:01.255 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 10:46:01.255 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 10:46:01.256 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 10:46:01.257 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:46:01.257 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:46:01.259 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:46:01.272 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:01.272 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:01.272 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:01.276 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:01.285 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:01.285 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:01.285 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:01.287 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:01.287 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:01.288 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:01.289 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:01.289 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:01.289 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:01.291 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:01.291 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:01.291 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:01.293 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:01.293 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:01.293 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:01.294 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:01.294 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:01.294 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:46:01.295 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:01.295 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:01.296 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:01.297 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:01.308 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:01.308 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:01.308 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:01.310 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:01.310 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:46:01.310 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:46:01.311 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:46:01.319 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:46:01.320 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:46:01.320 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:46:02.173 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:46:02.174 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 10:46:02.174 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:02.175 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:02.175 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:02.177 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:02.177 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:46:02.177 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:46:02.178 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:02.178 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:02.179 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:02.180 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:02.180 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:02.181 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:02.181 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:02.181 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:02.182 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:02.182 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:02.182 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:02.183 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:02.183 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:02.183 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:46:02.184 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:02.184 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:02.185 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:02.185 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:02.186 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:46:02.186 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:46:02.186 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:46:12.285 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:46:12.285 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 10:46:12.285 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:12.286 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:12.287 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:12.290 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:12.290 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:46:12.291 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:46:12.293 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$a5bb981f.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor115.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 10:46:12.320 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:46:12.321 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:46:12.321 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:46:12.325 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:46:12.337 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:12.338 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:12.339 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:12.342 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:12.343 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:12.344 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:12.344 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:12.347 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:12.348 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 10:46:12.348 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 10:46:12.349 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 10:46:12.350 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:46:12.350 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:46:12.353 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:46:12.377 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:12.378 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:12.379 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:12.382 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:12.395 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:12.395 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:12.395 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:12.398 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:12.398 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:12.399 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:12.400 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:12.400 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:12.401 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:12.401 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:12.402 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:12.402 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:12.403 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:12.404 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:12.404 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:12.407 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:12.407 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:12.408 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:46:12.409 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:12.410 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:12.410 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:12.413 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:12.432 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:12.432 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:12.433 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:12.437 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:12.438 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:46:12.438 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:46:12.440 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:46:12.451 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:46:12.452 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:46:12.454 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:46:13.454 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:46:13.454 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 10:46:13.454 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:13.455 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:13.455 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:13.456 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:13.456 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:46:13.456 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:46:13.457 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:13.457 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:13.459 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:13.459 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:13.460 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:13.461 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:13.462 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:13.462 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:13.464 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:13.464 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:13.464 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:13.465 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:13.466 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:13.466 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:46:13.467 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:13.467 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:13.467 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:13.468 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:13.469 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:46:13.469 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:46:13.471 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:46:14.663 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:46:14.663 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 开始日期: Sun May 18 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 10:46:14.663 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:14.663 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:14.664 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:14.664 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:14.666 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:46:14.666 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:46:14.668 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$a5bb981f.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor115.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 10:46:14.682 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:46:14.682 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:46:14.683 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:46:14.684 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:46:14.697 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:14.697 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:14.697 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:14.700 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:14.700 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:14.702 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:14.702 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:14.703 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:14.703 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 10:46:14.703 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 10:46:14.706 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 10:46:14.706 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:46:14.706 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:46:14.710 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:46:14.733 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:14.733 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:14.733 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:14.736 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:14.747 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:14.747 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:14.747 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:14.749 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:14.749 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:14.749 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:14.750 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:14.750 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:14.750 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:14.751 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:14.751 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:14.751 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:14.751 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:14.751 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:14.751 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:14.753 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:14.753 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:14.753 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:46:14.754 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:14.755 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:14.755 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:14.756 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:14.763 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:14.763 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:14.763 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:14.765 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:14.765 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:46:14.765 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:46:14.767 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:46:14.781 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:46:14.781 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:46:14.783 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:46:15.497 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:46:15.497 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 开始日期: Wed Apr 30 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 10:46:15.497 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:15.499 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:15.499 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:15.501 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:15.501 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:46:15.501 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:46:15.506 [http-nio-8080-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$a5bb981f.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor115.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 10:46:15.528 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:46:15.529 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:46:15.530 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:46:15.533 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:46:15.553 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:15.553 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:15.553 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:15.555 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:15.555 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:15.555 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:15.555 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:15.558 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:15.559 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 10:46:15.559 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 10:46:15.561 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 10:46:15.562 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:46:15.562 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:46:15.565 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:46:15.579 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:15.579 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:15.579 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:15.581 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:15.591 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:15.591 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:15.591 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:15.594 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:15.594 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:15.594 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:15.596 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:15.596 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:15.596 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:15.598 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:15.599 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:15.599 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:15.600 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:15.600 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:15.600 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:15.602 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:15.603 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:15.603 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:46:15.606 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:15.606 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:15.606 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:15.614 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:15.633 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:15.634 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:15.634 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:15.635 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:15.635 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:46:15.635 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:46:15.636 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:46:15.647 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:46:15.647 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:46:15.649 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:46:17.512 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:46:17.512 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 开始日期: Mon Mar 31 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 10:46:17.513 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:17.514 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:17.515 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:17.518 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:17.518 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:46:17.518 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:46:17.521 [http-nio-8080-exec-7] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$a5bb981f.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor115.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 10:46:17.547 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:46:17.547 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:46:17.548 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:46:17.551 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:46:17.561 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:17.561 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:17.561 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:17.562 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:17.564 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:17.564 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:17.564 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:17.565 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:17.566 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 10:46:17.566 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 10:46:17.567 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 10:46:17.568 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:46:17.568 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:46:17.570 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:46:17.582 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:17.583 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:17.583 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:17.584 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:17.593 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:17.594 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:17.594 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:17.596 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:17.596 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:17.596 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:17.597 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:17.598 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:17.598 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:17.599 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:17.599 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:17.599 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:17.600 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:17.601 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:17.601 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:17.602 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:17.602 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:17.602 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:46:17.604 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:17.604 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:17.604 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:17.606 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:17.620 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:17.621 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:17.621 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:17.622 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:17.622 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:46:17.623 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:46:17.624 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:46:17.632 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:46:17.632 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:46:17.633 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:46:24.167 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:46:24.167 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 开始日期: Wed Apr 30 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 10:46:24.167 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:24.168 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:24.169 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:24.171 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:24.172 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:46:24.172 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:46:24.176 [http-nio-8080-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$a5bb981f.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor115.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 10:46:24.206 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:46:24.207 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:46:24.207 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:46:24.209 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:46:24.218 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:24.218 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:24.218 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:24.219 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:24.220 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:24.220 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:24.220 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:24.221 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:24.222 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 10:46:24.222 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 10:46:24.223 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 10:46:24.223 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:46:24.223 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:46:24.224 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:46:24.238 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:24.238 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:24.238 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:24.241 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:24.248 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:24.248 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:24.248 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:24.250 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:24.250 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:24.250 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:24.250 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:24.251 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:24.251 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:24.251 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:24.251 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:24.251 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:24.252 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:24.252 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:24.253 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:24.253 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:24.254 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:24.254 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:46:24.255 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:24.255 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:24.255 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:24.256 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:24.269 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:24.269 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:24.269 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:24.271 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:24.272 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:46:24.272 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:46:24.273 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:46:24.284 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:46:24.284 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:46:24.285 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:46:30.336 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:46:30.336 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 10:46:30.336 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:30.338 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:30.338 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:30.341 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:30.341 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:46:30.342 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:46:30.342 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:30.342 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:30.345 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:30.345 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:30.346 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:30.350 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:30.350 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:30.350 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:30.351 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:30.351 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:30.351 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:30.352 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:30.353 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:30.353 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:46:30.354 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:30.354 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:30.354 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:30.355 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:30.355 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:46:30.355 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:46:30.357 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:46:34.471 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:46:34.471 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 10:46:34.471 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:34.472 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:34.473 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:34.476 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:34.476 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:46:34.476 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:46:34.481 [http-nio-8080-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$a5bb981f.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor115.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 10:46:34.502 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:46:34.503 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:46:34.504 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:46:34.509 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:46:34.522 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:34.522 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:34.522 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:34.524 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:34.524 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:34.524 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:34.524 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:34.526 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:34.527 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 10:46:34.527 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 10:46:34.528 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 10:46:34.528 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:46:34.528 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:46:34.530 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:46:34.554 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:34.554 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:34.554 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:34.555 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:34.566 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:34.566 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:34.566 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:34.568 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:34.568 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:34.568 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:34.571 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:34.571 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:34.571 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:34.573 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:34.573 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:34.573 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:34.574 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:34.574 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:34.574 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:34.575 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:34.575 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:34.575 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:46:34.575 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:34.575 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:34.575 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:34.577 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:34.586 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:34.586 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:34.586 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:34.587 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:34.587 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:46:34.587 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:46:34.589 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:46:34.596 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:46:34.596 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:46:34.598 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:46:37.628 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:46:37.628 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 开始日期: Sun May 18 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 10:46:37.628 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:37.629 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:37.629 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:37.631 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:37.631 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:46:37.631 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:46:37.634 [http-nio-8080-exec-9] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor127.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$a5bb981f.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor115.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 10:46:37.652 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:46:37.652 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:46:37.652 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:46:37.654 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:46:37.664 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:37.664 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:37.664 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:37.665 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:37.665 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:37.665 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:37.665 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:37.668 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:37.668 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 10:46:37.668 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 10:46:37.670 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 10:46:37.670 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:46:37.670 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:46:37.674 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:46:37.687 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:37.687 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:37.687 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:37.688 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:37.697 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:37.697 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:37.698 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:37.699 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:37.699 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:37.699 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:37.700 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:37.700 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:37.700 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:37.701 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:37.701 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:37.701 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:37.702 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:37.702 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:37.703 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:37.704 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:37.705 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:37.705 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:46:37.706 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:37.707 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:37.707 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:37.708 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:37.722 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:37.722 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:37.722 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:37.724 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:37.724 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:46:37.724 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:46:37.725 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:46:37.740 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:46:37.741 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:46:37.744 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:46:39.827 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:46:39.828 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 开始日期: Wed Apr 30 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 10:46:39.828 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:39.829 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:39.830 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:39.832 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:39.833 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:46:39.833 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:46:39.837 [http-nio-8080-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor127.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$a5bb981f.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor115.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 10:46:39.857 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:46:39.857 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:46:39.858 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:46:39.859 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:46:39.868 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:39.868 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:39.868 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:39.869 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:39.870 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:39.870 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:39.870 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:39.872 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:39.872 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 10:46:39.872 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 10:46:39.874 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 10:46:39.874 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:46:39.874 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:46:39.877 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:46:39.889 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:39.889 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:39.889 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:39.892 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:39.911 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:39.911 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:39.911 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:39.914 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:39.914 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:39.915 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:39.916 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:39.917 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:39.917 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:39.918 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:39.918 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:39.919 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:39.919 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:39.920 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:39.920 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:39.921 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:39.921 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:39.921 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:46:39.922 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:39.922 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:39.922 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:39.923 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:39.938 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:39.938 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:39.938 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:39.940 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:39.940 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:46:39.940 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:46:39.941 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:46:39.949 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:46:39.950 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:46:39.951 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:46:43.924 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:46:43.924 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 10:46:43.925 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:46:43.925 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:46:43.926 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:46:43.930 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:46:43.930 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:46:43.930 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:46:43.931 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:43.931 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:43.933 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:43.934 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:43.934 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:43.936 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:43.937 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:43.938 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:43.940 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:43.940 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:43.940 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:46:43.942 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:43.943 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:43.943 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:46:43.945 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:43.945 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:46:43.945 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:46:43.947 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:46:43.948 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:46:43.948 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:46:43.950 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:50:20.300 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:50:20.302 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:50:20.306 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:50:20.310 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:50:20.313 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:50:20.313 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:50:20.317 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:50:22.457 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:50:22.458 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:50:22.460 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:50:22.461 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:50:22.462 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:50:22.462 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:50:22.464 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:50:22.483 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:50:22.483 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:50:22.483 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:50:22.485 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:50:22.486 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:50:22.486 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:50:22.486 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:50:22.489 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:50:22.510 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:50:22.510 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:50:22.513 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:50:22.514 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:50:22.514 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:50:22.515 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:50:22.525 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:50:22.525 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:50:22.525 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:50:22.526 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:50:22.527 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:50:22.527 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:50:22.527 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:50:22.528 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:50:22.528 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 10:50:22.529 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 10:50:22.529 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 10:50:22.529 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:50:22.529 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:50:22.530 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:50:22.542 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:50:22.542 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:50:22.544 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:50:22.544 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:50:22.544 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:50:22.544 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:50:22.545 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:50:22.545 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:50:22.545 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:50:22.545 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:50:22.545 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:50:22.545 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:50:22.546 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:50:22.546 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:50:22.546 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:50:22.546 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:50:22.546 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:50:22.546 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:50:22.547 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:50:22.547 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:50:22.547 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:50:22.547 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:50:22.549 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:50:22.549 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:50:22.549 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:50:22.550 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:50:22.550 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:50:22.550 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:50:22.550 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:50:22.550 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:50:22.551 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:50:22.563 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:50:22.564 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:50:22.564 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:50:22.564 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:50:22.564 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:50:22.565 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:50:22.565 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:50:22.565 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:50:22.565 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:50:22.566 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:50:22.566 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:50:22.566 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:50:22.566 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:50:22.566 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:50:22.567 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:50:22.567 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:50:22.567 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:50:22.567 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:50:22.568 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:50:22.568 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:50:22.568 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:50:22.568 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:50:22.585 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:50:22.585 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:50:22.585 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:50:22.586 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:50:22.587 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:50:22.587 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:50:22.588 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:50:59.007 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:50:59.007 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:50:59.007 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:50:59.008 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:50:59.012 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:50:59.024 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:50:59.024 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:50:59.024 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:50:59.026 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:50:59.034 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:50:59.034 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:50:59.036 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:50:59.036 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:50:59.037 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:50:59.038 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:50:59.039 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:50:59.039 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:50:59.041 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:50:59.047 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:50:59.047 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:50:59.049 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:50:59.049 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:50:59.049 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:50:59.050 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:50:59.050 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:50:59.050 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:50:59.052 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:50:59.052 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:50:59.052 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:50:59.053 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:50:59.053 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:50:59.053 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:50:59.054 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:51:04.350 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:51:04.350 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 10:51:04.350 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:51:04.350 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:51:04.350 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:51:04.351 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:51:04.351 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:51:04.351 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:51:04.351 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:51:04.351 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:51:04.352 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:51:04.352 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:51:04.353 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:51:04.353 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:51:04.353 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:51:04.353 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:51:04.354 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:51:04.354 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:51:04.354 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:51:04.355 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:51:04.355 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:51:04.356 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:51:04.357 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:51:04.357 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:51:04.357 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:51:04.357 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:51:04.359 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:51:04.359 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:51:04.359 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:51:10.996 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:51:10.997 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:51:10.997 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:51:10.999 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:51:11.000 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:51:11.000 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:51:11.002 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:51:11.003 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:51:11.003 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:51:11.005 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:51:12.020 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:51:12.021 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:51:12.022 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:51:12.030 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:51:12.031 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:51:12.031 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:51:12.034 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:51:14.271 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:51:14.272 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:51:14.274 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:51:14.278 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:51:14.293 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:51:14.293 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:51:14.295 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:51:14.295 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:51:14.295 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:51:14.296 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:51:20.322 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:51:20.323 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:51:20.323 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:51:20.325 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:52:07.982 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:52:07.982 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 10:52:07.983 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:52:07.987 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:52:07.989 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:52:07.994 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:52:07.994 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:52:07.994 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:52:07.995 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:52:07.995 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:52:07.998 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:52:07.999 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:52:07.999 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:52:08.000 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:52:08.002 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:52:08.002 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:52:08.004 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:52:08.005 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:52:08.005 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:52:08.006 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:52:08.007 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:52:08.007 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:52:08.008 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:52:08.008 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:52:08.009 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:52:08.010 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:52:08.010 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:52:08.011 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:52:08.015 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:52:10.317 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:52:10.317 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 10:52:10.317 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:52:10.320 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:52:10.320 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:52:10.326 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:52:10.326 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:52:10.326 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:52:10.327 [http-nio-8080-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor127.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$a5bb981f.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor115.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 10:52:10.347 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:52:10.347 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:52:10.348 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:52:10.353 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:52:10.369 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:52:10.369 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:52:10.369 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:52:10.372 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:52:10.372 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:52:10.372 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:52:10.372 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:52:10.374 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:52:10.375 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 10:52:10.375 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 10:52:10.378 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 10:52:10.378 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:52:10.379 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:52:10.381 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:52:10.390 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:52:10.390 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:52:10.390 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:52:10.391 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:52:10.399 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:52:10.399 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:52:10.399 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:52:10.400 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:52:10.401 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:52:10.401 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:52:10.402 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:52:10.402 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:52:10.402 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:52:10.403 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:52:10.403 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:52:10.405 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:52:10.405 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:52:10.405 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:52:10.405 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:52:10.406 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:52:10.406 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:52:10.406 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:52:10.407 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:52:10.407 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:52:10.407 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:52:10.408 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:52:10.416 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:52:10.416 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:52:10.416 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:52:10.417 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:52:10.417 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:52:10.417 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:52:10.419 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:52:10.428 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:52:10.428 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:52:10.429 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:52:12.009 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:52:12.010 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:52:12.010 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:52:12.014 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:52:20.304 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:52:20.305 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:52:20.305 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:52:20.309 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:52:52.178 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:52:52.180 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:52:52.183 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:52:52.190 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:52:52.190 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:52:52.190 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:52:52.196 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:53:12.010 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:53:12.011 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:53:12.017 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:53:12.020 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:53:20.311 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:53:20.312 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:53:20.312 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:53:20.318 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:53:52.174 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:53:52.175 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:53:52.175 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:53:52.177 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:54:12.018 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:54:12.019 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:54:12.019 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:54:12.022 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:54:20.313 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:54:20.320 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:54:20.321 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:54:20.324 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:54:37.266 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:54:37.266 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:54:37.268 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:54:37.268 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:54:37.268 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:54:37.268 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:54:37.269 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:54:37.282 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:54:37.282 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:54:37.282 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:54:37.284 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:54:37.284 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:54:37.284 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:54:37.284 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:54:37.286 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:54:37.297 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:54:37.297 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:54:37.300 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:54:37.300 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:54:37.300 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:54:37.303 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:54:37.318 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:54:37.318 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:54:37.318 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:54:37.319 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:54:37.319 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:54:37.319 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:54:37.319 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:54:37.320 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:54:37.320 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 10:54:37.320 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 10:54:37.321 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 10:54:37.321 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:54:37.321 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:54:37.323 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:54:37.330 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:54:37.330 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:54:37.331 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:54:37.331 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:54:37.331 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:54:37.331 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:54:37.332 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:54:37.332 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:54:37.332 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:54:37.332 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:54:37.333 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:54:37.333 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:54:37.333 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:54:37.334 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:54:37.334 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:54:37.334 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:54:37.334 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:54:37.334 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:54:37.335 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:54:37.335 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:54:37.335 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:54:37.335 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:54:37.335 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:54:37.335 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:54:37.335 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:54:37.335 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:54:37.336 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:54:37.336 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:54:37.338 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:54:37.338 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:54:37.339 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:54:37.348 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:54:37.348 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:54:37.348 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:54:37.349 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:54:37.349 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:54:37.349 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:54:37.350 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:54:37.350 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:54:37.350 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:54:37.351 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:54:37.351 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:54:37.351 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:54:37.351 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:54:37.352 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:54:37.352 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:54:37.352 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:54:37.352 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:54:37.352 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:54:37.353 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:54:37.353 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:54:37.353 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:54:37.353 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:54:37.361 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:54:37.361 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:54:37.361 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:54:37.363 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:54:37.363 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:54:37.363 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:54:37.364 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:54:52.168 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:54:52.169 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:54:52.169 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:54:52.172 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:55:06.196 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:55:06.196 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 10:55:06.196 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:55:06.197 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:55:06.197 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:55:06.200 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:55:06.200 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:55:06.201 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:55:06.201 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:06.201 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:55:06.202 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:06.203 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:06.203 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:55:06.204 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:06.205 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:06.205 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:55:06.206 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:06.206 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:06.206 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:55:06.206 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:06.207 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:06.207 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:55:06.208 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:06.208 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:06.208 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:55:06.209 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:06.209 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:55:06.209 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:55:06.213 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:55:07.297 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:55:07.297 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 10:55:07.297 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:55:07.298 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:55:07.298 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:55:07.299 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:55:07.299 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:55:07.299 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:55:07.300 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor127.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$a5bb981f.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor115.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 10:55:07.318 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:55:07.318 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:55:07.319 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:55:07.320 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:55:07.330 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:55:07.330 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:55:07.331 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:55:07.332 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:55:07.332 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:55:07.332 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:55:07.332 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:55:07.332 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:55:07.332 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 10:55:07.332 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 10:55:07.333 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 10:55:07.333 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:55:07.333 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:55:07.334 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:55:07.344 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:55:07.345 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:55:07.345 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:55:07.346 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:55:07.355 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:55:07.356 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:55:07.356 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:55:07.357 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:55:07.357 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:07.357 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:55:07.357 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:07.358 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:07.358 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:55:07.358 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:07.358 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:07.358 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:55:07.359 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:07.359 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:07.359 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:55:07.359 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:07.359 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:07.359 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:55:07.359 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:07.359 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:07.359 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:55:07.361 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:07.368 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:55:07.368 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:55:07.368 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:55:07.369 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:55:07.370 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:55:07.370 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:55:07.371 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:55:07.381 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:55:07.381 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:55:07.382 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:55:09.516 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:55:09.517 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 开始日期: Sun May 18 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 10:55:09.517 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:55:09.518 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:55:09.518 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:55:09.521 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:55:09.521 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:55:09.521 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:55:09.523 [http-nio-8080-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor127.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$a5bb981f.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor115.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 10:55:09.535 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:55:09.535 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:55:09.535 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:55:09.539 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:55:09.548 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:55:09.548 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:55:09.548 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:55:09.550 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:55:09.550 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:55:09.550 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:55:09.550 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:55:09.551 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:55:09.551 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 10:55:09.551 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 10:55:09.552 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 10:55:09.552 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:55:09.552 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:55:09.552 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:55:09.560 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:55:09.560 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:55:09.560 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:55:09.561 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:55:09.571 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:55:09.571 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:55:09.571 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:55:09.573 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:55:09.573 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:09.573 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:55:09.575 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:09.575 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:09.575 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:55:09.575 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:09.576 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:09.576 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:55:09.577 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:09.577 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:09.577 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:55:09.577 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:09.577 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:09.577 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:55:09.578 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:09.578 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:09.578 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:55:09.579 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:09.586 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:55:09.586 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:55:09.586 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:55:09.587 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:55:09.588 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:55:09.588 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:55:09.588 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:55:09.596 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:55:09.596 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:55:09.596 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:55:10.310 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:55:10.310 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 10:55:10.311 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:55:10.311 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:55:10.312 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:55:10.314 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:55:10.320 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:55:10.322 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:55:10.322 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:10.322 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:55:10.323 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:10.323 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:10.323 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:55:10.324 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:10.324 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:10.325 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:55:10.326 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:10.327 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:10.327 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:55:10.328 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:10.328 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:10.328 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:55:10.329 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:10.329 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:10.329 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:55:10.330 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:10.330 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:55:10.330 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:55:10.331 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:55:10.789 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 10:55:10.789 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 10:55:10.789 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:55:10.789 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:55:10.789 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:55:10.790 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:55:10.790 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 10:55:10.791 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 10:55:10.791 [http-nio-8080-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor127.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$a5bb981f.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor115.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 10:55:10.806 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:55:10.806 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:55:10.806 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:55:10.808 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:55:10.816 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:55:10.816 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:55:10.816 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:55:10.817 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:55:10.817 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:55:10.817 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:55:10.817 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:55:10.818 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:55:10.818 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 10:55:10.818 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 10:55:10.818 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 10:55:10.819 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 10:55:10.819 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 10:55:10.820 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 10:55:10.829 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:55:10.829 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:55:10.829 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:55:10.830 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:55:10.839 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:55:10.839 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:55:10.839 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:55:10.841 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:55:10.841 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:10.842 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:55:10.842 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:10.843 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:10.843 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:55:10.843 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:10.844 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:10.844 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:55:10.844 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:10.844 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:10.844 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 10:55:10.844 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:10.844 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:10.844 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 10:55:10.844 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:10.845 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 10:55:10.845 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 10:55:10.845 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 10:55:10.853 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 10:55:10.853 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 10:55:10.853 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 10:55:10.854 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 10:55:10.854 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 10:55:10.854 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 10:55:10.854 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 10:55:10.862 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 10:55:10.862 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 10:55:10.863 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 10:55:12.015 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:55:12.017 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:55:12.017 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:55:12.019 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:55:20.961 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:55:20.964 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:55:20.964 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:55:20.966 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:55:52.986 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:55:52.987 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:55:52.987 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:55:52.994 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:56:12.964 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:56:12.964 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:56:12.965 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:56:12.972 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:56:20.960 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:56:20.961 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:56:20.961 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:56:20.963 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:56:52.957 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:56:52.957 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:56:52.957 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:56:52.961 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:57:12.964 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:57:12.965 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:57:12.966 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:57:12.968 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:57:23.966 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:57:23.967 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:57:23.968 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:57:23.969 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:57:52.960 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:57:52.961 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:57:52.961 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:57:52.962 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:58:23.968 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:58:23.969 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:58:23.969 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:58:23.972 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:58:23.981 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:58:23.982 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:58:23.982 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:58:23.984 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:58:52.959 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:58:52.960 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:58:52.961 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:58:52.963 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:59:23.967 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:59:23.969 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:59:23.969 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:59:23.972 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 10:59:23.985 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 10:59:23.985 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 10:59:23.985 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 10:59:23.987 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 11:00:23.956 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 11:00:23.957 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 11:00:23.963 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 11:00:23.965 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 11:00:23.978 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 11:00:23.979 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 11:00:23.979 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 11:00:23.982 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 11:00:23.990 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 11:00:23.990 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 11:00:23.991 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 11:00:23.995 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 11:01:23.960 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 11:01:23.961 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 11:01:23.961 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 11:01:23.964 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 11:01:23.972 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 11:01:23.973 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 11:01:23.973 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 11:01:23.975 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 11:01:23.984 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 11:01:23.984 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 11:01:23.984 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 11:01:23.985 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 11:02:23.956 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 11:02:23.958 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 11:02:23.958 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 11:02:23.959 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 11:02:23.966 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 11:02:23.966 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 11:02:23.966 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 11:02:23.967 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 11:02:23.977 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 11:02:23.977 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 11:02:23.978 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 11:02:23.980 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 11:13:23.128 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 11:13:23.162 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-20 11:13:23.177 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-20 13:59:46.675 [main] INFO  c.e.h.HotelManagementApplication - Starting HotelManagementApplication using Java 1.8.0_331 on LAPTOP-6LBVHJ60 with PID 10692 (D:\LearnProject\HotelManagement\target\classes started by 815101909 in D:\LearnProject\HotelManagement)
2025-05-20 13:59:46.678 [main] DEBUG c.e.h.HotelManagementApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-05-20 13:59:46.679 [main] INFO  c.e.h.HotelManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-20 13:59:47.154 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-20 13:59:47.167 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 JPA repository interfaces.
2025-05-20 13:59:47.533 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-20 13:59:47.534 [main] INFO  o.a.c.core.AprLifecycleListener - An older version [1.2.35] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.38]
2025-05-20 13:59:47.534 [main] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.35] using APR version [1.7.0].
2025-05-20 13:59:47.535 [main] INFO  o.a.c.core.AprLifecycleListener - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-20 13:59:47.535 [main] INFO  o.a.c.core.AprLifecycleListener - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-20 13:59:47.539 [main] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1q  5 Jul 2022]
2025-05-20 13:59:47.544 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-05-20 13:59:47.545 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-20 13:59:47.545 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-05-20 13:59:47.673 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-20 13:59:47.673 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 965 ms
2025-05-20 13:59:47.778 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-20 13:59:49.933 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-20 13:59:49.966 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-20 13:59:50.010 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-05-20 13:59:50.147 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-20 13:59:50.248 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-20 13:59:50.414 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-20 13:59:50.424 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 13:59:50.615 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 初始化订单表结构...
2025-05-20 13:59:50.647 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - payment_status字段已存在
2025-05-20 13:59:50.648 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - synced_to_finance字段已存在
2025-05-20 13:59:50.648 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 订单表结构初始化完成
2025-05-20 13:59:50.709 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-20 13:59:50.952 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-05-20 13:59:50.965 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-20 13:59:50.973 [main] INFO  c.e.h.HotelManagementApplication - Started HotelManagementApplication in 4.624 seconds (JVM running for 7.827)
2025-05-20 14:00:07.540 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-20 14:00:07.540 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-20 14:00:07.542 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-05-20 14:00:07.653 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 14:00:07.667 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 14:00:07.679 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 14:00:07.687 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:07.687 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:07.687 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:07.696 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:07.764 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:07.764 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:07.764 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:07.768 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:07.768 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:07.768 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:07.769 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:07.773 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:07.802 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 14:00:07.803 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 14:00:07.810 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 14:00:07.811 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 14:00:07.811 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 14:00:07.813 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 14:00:07.836 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:07.836 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:07.836 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:07.839 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:07.847 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:07.847 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:07.847 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:07.849 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:07.850 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 14:00:07.851 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 14:00:07.852 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 14:00:07.852 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 14:00:07.853 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 14:00:07.855 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 14:00:07.895 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 14:00:07.895 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 14:00:07.896 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 14:00:07.897 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:07.897 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:07.897 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:07.898 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:07.899 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:07.899 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:07.899 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:07.900 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:07.901 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:07.901 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:07.901 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:07.902 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:07.903 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:07.903 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:07.903 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:07.904 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:07.904 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:07.904 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:07.905 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:07.906 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:07.907 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:07.907 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:07.908 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:07.909 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:07.909 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:07.909 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:07.910 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:07.911 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:07.923 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:07.923 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:07.924 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:07.925 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:07.926 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:07.927 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:00:07.928 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:07.928 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:07.928 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:00:07.929 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:07.929 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:07.929 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:00:07.930 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:07.930 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:07.930 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:00:07.931 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:07.932 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:07.932 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:00:07.932 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:07.932 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:07.932 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:00:07.933 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:07.945 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:07.945 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:07.945 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:07.947 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:07.949 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 14:00:07.949 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 14:00:07.952 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 14:00:12.385 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 14:00:12.387 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 14:00:12.387 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 14:00:12.388 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 14:00:12.388 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 14:00:12.391 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 14:00:12.403 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 14:00:13.221 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 14:00:13.223 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 14:00:13.223 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 14:00:13.223 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 14:00:13.231 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 14:00:13.231 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 14:00:13.232 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 14:00:13.233 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 14:00:13.238 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 14:00:13.248 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 14:00:13.248 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 14:00:13.251 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 14:00:13.252 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 14:00:13.252 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 14:00:13.256 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 14:00:13.257 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 14:00:13.258 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 14:00:13.261 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 14:00:13.272 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 14:00:13.273 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 14:00:13.275 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 14:00:13.276 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 14:00:13.277 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 14:00:13.279 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 14:00:13.280 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 14:00:13.281 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 14:00:13.283 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 14:00:13.284 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 14:00:13.285 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 14:00:13.287 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 14:00:13.287 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 14:00:13.288 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 14:00:13.290 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 14:00:14.424 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:00:14.424 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 14:00:14.426 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:14.426 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:14.426 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:14.429 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:14.429 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:00:14.430 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:00:14.430 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:14.430 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:00:14.432 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:14.432 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:14.433 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:00:14.435 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:14.435 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:14.436 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:00:14.438 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:14.438 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:14.438 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:00:14.440 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:14.441 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:14.442 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:00:14.448 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:14.449 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:14.449 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:00:14.451 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:14.461 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:00:14.461 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:00:14.463 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:00:16.656 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:00:16.656 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 14:00:16.656 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:16.658 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:16.658 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:16.660 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:16.661 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:00:16.661 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:00:16.661 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:16.661 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:00:16.664 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:16.665 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:16.665 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:00:16.667 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:16.667 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:16.668 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:00:16.669 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:16.670 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:16.671 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:00:16.672 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:16.672 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:16.672 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:00:16.674 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:16.674 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:16.675 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:00:16.676 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:16.677 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:00:16.677 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:00:16.679 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:00:19.190 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:00:19.190 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 14:00:19.190 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:19.191 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:19.191 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:19.193 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:19.193 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:00:19.193 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:00:19.215 [http-nio-8080-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 14:00:19.252 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 14:00:19.253 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 14:00:19.253 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 14:00:19.259 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 14:00:19.279 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:19.280 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:19.280 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:19.283 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:19.283 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:19.284 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:19.284 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:19.287 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:19.288 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 14:00:19.289 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 14:00:19.291 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 14:00:19.292 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 14:00:19.293 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 14:00:19.297 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 14:00:19.316 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:19.318 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:19.318 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:19.321 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:19.343 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:19.343 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:19.343 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:19.347 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:19.349 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:19.350 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:00:19.351 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:19.351 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:19.351 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:00:19.352 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:19.353 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:19.353 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:00:19.355 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:19.356 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:19.356 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:00:19.357 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:19.357 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:19.357 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:00:19.358 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:19.359 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:19.359 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:00:19.360 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:19.375 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:19.376 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:19.376 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:19.380 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:19.381 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 14:00:19.382 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 14:00:19.383 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 14:00:19.399 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:00:19.399 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:00:19.402 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:00:21.581 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:00:21.581 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 14:00:21.582 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:21.582 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:21.582 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:21.584 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:21.584 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:00:21.585 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:00:21.585 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:21.585 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:00:21.587 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:21.588 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:21.588 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:00:21.590 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:21.590 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:21.591 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:00:21.592 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:21.593 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:21.593 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:00:21.594 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:21.594 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:21.595 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:00:21.598 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:21.599 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:21.599 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:00:21.600 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:21.601 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:00:21.601 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:00:21.605 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:00:29.016 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:00:29.016 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 14:00:29.017 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:29.017 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:29.018 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:29.019 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:29.020 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:00:29.020 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:00:29.021 [http-nio-8080-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 14:00:29.034 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 14:00:29.034 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 14:00:29.034 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 14:00:29.046 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 14:00:29.065 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:29.065 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:29.065 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:29.068 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:29.069 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:29.069 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:29.069 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:29.072 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:29.072 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 14:00:29.072 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 14:00:29.074 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 14:00:29.075 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 14:00:29.075 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 14:00:29.078 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 14:00:29.093 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:29.093 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:29.093 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:29.097 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:29.114 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:29.114 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:29.114 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:29.117 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:29.117 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:29.117 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:00:29.120 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:29.120 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:29.121 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:00:29.122 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:29.123 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:29.123 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:00:29.125 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:29.125 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:29.125 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:00:29.126 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:29.127 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:29.127 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:00:29.128 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:29.129 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:29.129 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:00:29.131 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:29.148 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:29.149 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:29.150 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:29.152 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:29.153 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 14:00:29.153 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 14:00:29.154 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 14:00:29.172 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:00:29.173 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:00:29.175 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:00:47.349 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:00:47.349 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 14:00:47.349 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:00:47.351 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:00:47.351 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:00:47.353 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:00:47.353 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:00:47.353 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:00:47.354 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:47.354 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:00:47.355 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:47.355 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:47.355 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:00:47.356 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:47.357 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:47.357 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:00:47.358 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:47.359 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:47.359 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:00:47.359 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:47.359 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:47.360 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:00:47.361 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:47.361 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:00:47.361 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:00:47.364 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:00:47.364 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:00:47.364 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:00:47.366 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:01:12.955 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 14:01:12.957 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 14:01:12.957 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 14:01:12.961 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 14:02:12.967 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 14:02:12.969 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 14:02:12.969 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 14:02:12.973 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 14:02:48.972 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:02:48.972 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 14:02:48.972 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:02:48.972 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:02:48.972 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:02:48.974 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:02:48.974 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:02:48.975 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:02:48.975 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:02:48.975 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:02:48.976 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:02:48.976 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:02:48.976 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:02:48.977 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:02:48.977 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:02:48.978 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:02:48.978 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:02:48.979 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:02:48.979 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:02:48.979 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:02:48.980 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:02:48.980 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:02:48.981 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:02:48.981 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:02:48.981 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:02:48.982 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:02:48.982 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:02:48.982 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:02:48.986 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:03:08.264 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:03:08.264 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 14:03:08.265 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:03:08.265 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:03:08.266 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:03:08.268 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:03:08.268 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:03:08.268 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:03:08.268 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:03:08.268 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:03:08.269 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:03:08.270 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:03:08.270 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:03:08.271 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:03:08.271 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:03:08.271 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:03:08.273 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:03:08.274 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:03:08.274 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:03:08.275 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:03:08.275 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:03:08.276 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:03:08.277 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:03:08.277 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:03:08.277 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:03:08.278 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:03:08.279 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:03:08.279 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:03:08.280 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:03:58.034 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:03:58.034 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 14:03:58.034 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:03:58.034 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:03:58.034 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:03:58.035 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:03:58.035 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:03:58.035 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:03:58.036 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:03:58.036 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:03:58.037 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:03:58.037 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:03:58.037 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:03:58.039 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:03:58.039 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:03:58.040 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:03:58.040 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:03:58.041 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:03:58.041 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:03:58.042 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:03:58.043 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:03:58.043 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:03:58.044 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:03:58.044 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:03:58.044 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:03:58.045 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:03:58.046 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:03:58.046 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:03:58.047 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:03:59.180 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:03:59.180 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 14:03:59.180 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:03:59.181 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:03:59.181 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:03:59.183 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:03:59.183 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:03:59.183 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:03:59.183 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:03:59.183 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:03:59.184 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:03:59.185 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:03:59.185 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:03:59.186 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:03:59.187 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:03:59.187 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:03:59.187 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:03:59.188 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:03:59.188 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:03:59.189 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:03:59.189 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:03:59.189 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:03:59.190 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:03:59.191 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:03:59.191 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:03:59.192 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:03:59.192 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:03:59.192 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:03:59.194 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:04:02.332 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:04:02.332 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 14:04:02.332 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:04:02.333 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:04:02.333 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:04:02.334 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:04:02.334 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:04:02.334 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:04:02.335 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:04:02.335 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:04:02.336 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:04:02.336 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:04:02.336 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:04:02.338 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:04:02.338 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:04:02.338 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:04:02.339 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:04:02.339 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:04:02.339 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:04:02.340 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:04:02.341 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:04:02.341 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:04:02.342 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:04:02.342 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:04:02.342 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:04:02.343 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:04:02.344 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:04:02.344 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:04:02.345 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:04:32.311 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:04:32.311 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 14:04:32.312 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:04:32.313 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:04:32.313 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:04:32.314 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:04:32.314 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:04:32.314 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:04:32.314 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:04:32.314 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:04:32.315 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:04:32.315 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:04:32.315 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:04:32.316 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:04:32.316 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:04:32.317 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:04:32.317 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:04:32.317 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:04:32.318 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:04:32.318 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:04:32.319 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:04:32.319 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:04:32.320 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:04:32.320 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:04:32.320 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:04:32.321 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:04:32.321 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:04:32.321 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:04:32.323 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:04:33.692 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:04:33.692 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 14:04:33.692 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:04:33.693 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:04:33.693 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:04:33.694 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:04:33.695 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:04:33.695 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:04:33.695 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:04:33.695 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:04:33.696 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:04:33.696 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:04:33.696 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:04:33.697 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:04:33.697 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:04:33.697 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:04:33.698 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:04:33.698 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:04:33.698 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:04:33.699 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:04:33.700 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:04:33.700 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:04:33.701 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:04:33.701 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:04:33.702 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:04:33.702 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:04:33.702 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:04:33.704 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:04:33.705 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:05:41.143 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:05:41.143 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 14:05:41.143 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:41.144 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:41.144 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:41.145 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:41.145 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:05:41.145 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:05:41.145 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:41.146 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:41.146 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:41.148 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:41.148 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:05:41.149 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:41.149 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:41.149 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:41.150 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:41.151 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:41.151 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:41.152 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:41.152 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:41.153 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:05:41.154 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:41.155 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:41.156 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:05:41.157 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:41.157 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:05:41.157 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:05:41.159 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:05:43.109 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:05:43.109 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 14:05:43.110 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:43.110 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:43.111 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:43.113 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:43.113 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:05:43.113 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:05:43.114 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 14:05:43.127 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 14:05:43.128 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 14:05:43.128 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 14:05:43.132 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 14:05:43.145 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:43.145 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:43.145 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:43.147 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:43.148 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:43.148 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:43.148 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:43.149 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:43.150 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 14:05:43.150 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 14:05:43.151 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 14:05:43.151 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 14:05:43.151 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 14:05:43.154 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 14:05:43.174 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:43.174 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:43.174 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:43.176 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:43.193 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:43.193 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:43.193 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:43.195 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:43.196 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:43.196 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:43.198 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:43.198 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:43.198 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:05:43.199 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:43.200 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:43.200 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:43.201 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:43.201 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:43.201 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:43.202 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:43.203 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:43.203 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:05:43.204 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:43.204 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:43.204 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:05:43.205 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:43.217 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:43.218 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:43.218 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:43.220 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:43.221 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 14:05:43.221 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 14:05:43.223 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 14:05:43.238 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:05:43.238 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:05:43.241 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:05:44.289 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:05:44.289 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 14:05:44.289 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:44.290 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:44.290 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:44.291 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:44.291 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:05:44.291 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:05:44.291 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:44.291 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:44.292 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:44.294 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:44.294 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:05:44.295 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:44.295 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:44.296 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:44.296 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:44.296 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:44.297 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:44.297 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:44.297 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:44.297 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:05:44.298 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:44.298 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:44.298 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:05:44.299 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:44.300 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:05:44.300 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:05:44.301 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:05:45.562 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:05:45.562 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 14:05:45.562 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:45.563 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:45.563 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:45.564 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:45.565 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:05:45.565 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:05:45.566 [http-nio-8080-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 14:05:45.579 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 14:05:45.580 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 14:05:45.580 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 14:05:45.582 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 14:05:45.592 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:45.593 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:45.593 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:45.594 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:45.595 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:45.595 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:45.595 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:45.597 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:45.598 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 14:05:45.599 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 14:05:45.604 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 14:05:45.605 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 14:05:45.605 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 14:05:45.606 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 14:05:45.614 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:45.615 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:45.615 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:45.617 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:45.631 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:45.631 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:45.631 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:45.633 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:45.634 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:45.634 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:45.635 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:45.635 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:45.635 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:05:45.636 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:45.636 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:45.636 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:45.637 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:45.638 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:45.638 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:45.639 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:45.639 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:45.640 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:05:45.641 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:45.641 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:45.641 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:05:45.642 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:45.655 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:45.655 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:45.655 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:45.657 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:45.658 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 14:05:45.658 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 14:05:45.660 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 14:05:45.676 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:05:45.677 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:05:45.679 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:05:46.460 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:05:46.460 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 开始日期: Sun May 18 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 14:05:46.460 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:46.461 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:46.461 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:46.464 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:46.465 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:05:46.465 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:05:46.466 [http-nio-8080-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 14:05:46.477 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 14:05:46.477 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 14:05:46.478 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 14:05:46.480 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 14:05:46.492 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:46.492 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:46.492 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:46.494 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:46.494 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:46.494 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:46.494 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:46.495 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:46.496 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 14:05:46.496 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 14:05:46.497 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 14:05:46.498 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 14:05:46.498 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 14:05:46.500 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 14:05:46.518 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:46.518 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:46.519 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:46.520 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:46.536 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:46.536 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:46.536 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:46.538 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:46.539 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:46.539 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:46.543 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:46.544 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:46.544 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:05:46.545 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:46.546 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:46.546 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:46.548 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:46.548 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:46.548 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:46.549 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:46.550 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:46.550 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:05:46.552 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:46.552 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:46.552 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:05:46.553 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:46.563 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:46.564 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:46.564 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:46.565 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:46.565 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 14:05:46.565 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 14:05:46.566 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 14:05:46.575 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:05:46.575 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:05:46.576 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:05:47.363 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:05:47.363 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 14:05:47.363 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:47.363 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:47.363 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:47.365 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:47.365 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:05:47.365 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:05:47.366 [http-nio-8080-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 14:05:47.378 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 14:05:47.378 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 14:05:47.378 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 14:05:47.383 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 14:05:47.392 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:47.392 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:47.393 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:47.394 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:47.394 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:47.394 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:47.394 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:47.396 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:47.396 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 14:05:47.397 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 14:05:47.398 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 14:05:47.398 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 14:05:47.398 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 14:05:47.401 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 14:05:47.411 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:47.412 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:47.412 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:47.414 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:47.423 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:47.423 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:47.423 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:47.424 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:47.425 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:47.425 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:47.426 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:47.426 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:47.426 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:05:47.427 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:47.427 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:47.427 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:47.428 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:47.428 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:47.428 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:47.429 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:47.429 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:47.430 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:05:47.431 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:47.431 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:47.431 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:05:47.432 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:47.442 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:47.443 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:47.443 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:47.444 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:47.444 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 14:05:47.444 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 14:05:47.445 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 14:05:47.455 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:05:47.455 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:05:47.457 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:05:48.432 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:05:48.432 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 开始日期: Sun May 18 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 14:05:48.433 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:48.433 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:48.433 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:48.434 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:48.435 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:05:48.435 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:05:48.436 [http-nio-8080-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 14:05:48.449 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 14:05:48.450 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 14:05:48.450 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 14:05:48.452 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 14:05:48.460 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:48.460 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:48.460 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:48.461 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:48.461 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:48.461 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:48.462 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:48.463 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:48.463 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 14:05:48.463 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 14:05:48.465 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 14:05:48.467 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 14:05:48.468 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 14:05:48.475 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 14:05:48.487 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:48.488 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:48.488 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:48.489 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:48.499 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:48.499 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:48.500 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:48.501 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:48.501 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:48.502 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:48.503 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:48.503 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:48.503 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:05:48.503 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:48.504 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:48.504 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:48.505 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:48.505 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:48.505 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:48.506 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:48.506 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:48.506 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:05:48.506 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:48.507 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:48.507 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:05:48.508 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:48.519 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:48.519 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:48.519 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:48.521 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:48.521 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 14:05:48.521 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 14:05:48.522 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 14:05:48.537 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:05:48.537 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:05:48.538 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:05:49.515 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:05:49.515 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 开始日期: Wed Apr 30 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 14:05:49.515 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:49.516 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:49.516 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:49.517 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:49.517 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:05:49.517 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:05:49.519 [http-nio-8080-exec-7] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 14:05:49.530 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 14:05:49.532 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 14:05:49.532 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 14:05:49.534 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 14:05:49.545 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:49.546 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:49.546 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:49.547 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:49.547 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:49.548 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:49.548 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:49.549 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:49.550 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 14:05:49.550 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 14:05:49.551 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 14:05:49.552 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 14:05:49.552 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 14:05:49.554 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 14:05:49.566 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:49.566 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:49.567 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:49.569 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:49.582 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:49.582 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:49.582 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:49.585 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:49.585 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:49.585 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:49.587 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:49.587 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:49.589 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:05:49.591 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:49.591 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:49.591 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:49.592 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:49.592 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:49.593 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:49.595 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:49.595 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:49.595 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:05:49.596 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:49.597 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:49.597 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:05:49.598 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:49.611 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:49.613 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:49.613 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:49.615 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:49.615 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 14:05:49.616 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 14:05:49.617 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 14:05:49.630 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:05:49.630 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:05:49.631 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:05:51.050 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:05:51.050 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 14:05:51.050 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:51.051 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:51.051 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:51.052 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:51.052 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:05:51.052 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:05:51.053 [http-nio-8080-exec-8] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 14:05:51.064 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 14:05:51.065 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 14:05:51.065 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 14:05:51.067 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 14:05:51.077 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:51.078 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:51.078 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:51.079 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:51.079 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:51.079 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:51.080 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:51.080 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:51.081 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 14:05:51.081 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 14:05:51.081 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 14:05:51.081 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 14:05:51.081 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 14:05:51.083 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 14:05:51.098 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:51.098 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:51.098 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:51.100 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:51.116 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:51.117 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:51.118 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:51.120 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:51.120 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:51.120 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:51.121 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:51.121 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:51.123 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:05:51.124 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:51.124 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:51.125 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:51.126 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:51.126 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:51.127 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:05:51.128 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:51.128 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:51.129 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:05:51.130 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:51.130 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:05:51.131 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:05:51.132 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:05:51.147 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:05:51.147 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:05:51.148 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:05:51.149 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:05:51.150 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 14:05:51.150 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 14:05:51.152 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 14:05:51.166 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:05:51.167 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:05:51.169 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:06:27.413 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:06:27.413 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 开始日期: Sun May 18 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 14:06:27.414 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:06:27.414 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:06:27.414 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:06:27.415 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:06:27.416 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:06:27.416 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:06:27.417 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 14:06:27.429 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 14:06:27.430 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 14:06:27.430 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 14:06:27.432 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 14:06:27.442 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:06:27.442 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:06:27.442 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:06:27.443 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:06:27.443 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:06:27.444 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:06:27.444 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:06:27.445 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:06:27.445 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 14:06:27.445 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 14:06:27.446 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 14:06:27.446 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 14:06:27.446 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 14:06:27.447 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 14:06:27.458 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:06:27.459 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:06:27.459 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:06:27.460 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:06:27.469 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:06:27.470 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:06:27.470 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:06:27.471 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:06:27.471 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:06:27.472 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:06:27.474 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:06:27.474 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:06:27.474 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:06:27.475 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:06:27.475 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:06:27.475 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:06:27.476 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:06:27.476 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:06:27.476 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:06:27.477 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:06:27.478 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:06:27.478 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:06:27.478 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:06:27.479 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:06:27.479 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:06:27.480 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:06:27.494 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:06:27.494 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:06:27.494 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:06:27.495 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:06:27.495 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 14:06:27.495 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 14:06:27.496 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 14:06:27.507 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:06:27.507 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:06:27.507 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:06:29.872 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:06:29.872 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 14:06:29.873 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:06:29.873 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:06:29.873 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:06:29.875 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:06:29.875 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:06:29.875 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:06:29.877 [http-nio-8080-exec-9] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 14:06:29.888 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 14:06:29.889 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 14:06:29.890 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 14:06:29.891 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 14:06:29.900 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:06:29.900 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:06:29.900 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:06:29.902 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:06:29.902 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:06:29.902 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:06:29.902 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:06:29.903 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:06:29.903 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 14:06:29.903 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 14:06:29.903 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 14:06:29.905 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 14:06:29.905 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 14:06:29.906 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 14:06:29.921 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:06:29.921 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:06:29.921 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:06:29.925 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:06:29.940 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:06:29.940 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:06:29.941 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:06:29.943 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:06:29.943 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:06:29.945 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:06:29.947 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:06:29.947 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:06:29.948 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:06:29.949 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:06:29.949 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:06:29.950 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:06:29.950 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:06:29.951 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:06:29.951 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:06:29.953 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:06:29.953 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:06:29.953 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:06:29.954 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:06:29.955 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:06:29.955 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:06:29.956 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:06:29.970 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:06:29.970 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:06:29.970 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:06:29.971 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:06:29.972 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 14:06:29.972 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 14:06:29.973 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 14:06:29.991 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:06:29.991 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:06:29.993 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:07:13.102 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:07:13.102 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 14:07:13.103 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:07:13.103 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:07:13.103 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:07:13.104 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:07:13.104 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:07:13.105 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:07:13.105 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:07:13.105 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:07:13.106 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:07:13.106 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:07:13.107 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:07:13.107 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:07:13.108 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:07:13.108 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:07:13.108 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:07:13.109 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:07:13.109 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:07:13.110 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:07:13.110 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:07:13.110 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:07:13.111 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:07:13.111 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:07:13.111 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:07:13.112 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:07:13.112 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:07:13.112 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:07:13.113 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:07:55.181 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:07:55.182 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 14:07:55.182 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:07:55.182 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:07:55.182 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:07:55.184 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:07:55.184 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:07:55.184 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:07:55.184 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:07:55.184 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:07:55.185 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:07:55.185 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:07:55.185 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:07:55.186 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:07:55.186 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:07:55.186 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:07:55.187 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:07:55.188 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:07:55.188 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:07:55.188 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:07:55.188 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:07:55.189 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:07:55.189 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:07:55.189 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:07:55.189 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:07:55.191 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:07:55.191 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:07:55.191 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:07:55.192 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:07:56.183 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:07:56.183 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 14:07:56.183 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:07:56.184 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:07:56.185 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:07:56.186 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:07:56.186 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:07:56.186 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:07:56.187 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:07:56.187 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:07:56.189 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:07:56.189 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:07:56.189 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:07:56.190 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:07:56.190 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:07:56.191 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:07:56.191 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:07:56.191 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:07:56.192 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:07:56.193 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:07:56.193 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:07:56.193 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:07:56.194 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:07:56.194 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:07:56.194 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:07:56.195 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:07:56.195 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:07:56.195 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:07:56.196 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:08:32.934 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:08:32.935 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 14:08:32.935 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:08:32.935 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:08:32.935 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:08:32.936 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:08:32.936 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:08:32.936 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:08:32.936 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:08:32.936 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:08:32.937 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:08:32.937 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:08:32.937 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:08:32.938 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:08:32.938 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:08:32.938 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:08:32.939 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:08:32.939 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:08:32.939 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:08:32.940 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:08:32.940 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:08:32.940 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:08:32.941 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:08:32.941 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:08:32.941 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:08:32.942 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:08:32.942 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:08:32.942 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:08:32.943 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:08:33.921 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:08:33.921 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 14:08:33.921 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:08:33.922 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:08:33.922 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:08:33.923 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:08:33.923 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:08:33.923 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:08:33.923 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:08:33.924 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:08:33.924 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:08:33.924 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:08:33.924 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:08:33.925 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:08:33.925 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:08:33.925 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:08:33.926 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:08:33.927 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:08:33.927 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:08:33.927 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:08:33.928 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:08:33.928 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:08:33.929 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:08:33.929 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:08:33.929 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:08:33.930 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:08:33.930 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:08:33.930 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:08:33.931 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 14:09:07.764 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 14:09:07.764 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 14:09:07.764 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 14:09:07.764 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 14:09:07.764 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 14:09:07.765 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 14:09:07.765 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 14:09:07.765 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 14:09:07.767 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:09:07.767 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:09:07.767 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:09:07.767 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:09:07.769 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:09:07.770 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:09:07.770 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:09:07.770 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:09:07.770 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:09:07.771 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:09:07.771 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 14:09:07.772 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:09:07.772 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:09:07.772 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 14:09:07.772 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:09:07.774 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 14:09:07.774 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 14:09:07.774 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 14:09:07.775 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 14:09:07.775 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 14:09:07.777 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 17:43:05.084 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 17:43:05.085 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 17:43:05.085 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 17:43:05.086 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 17:43:05.086 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 17:43:05.090 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 17:43:05.090 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 17:43:05.090 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 17:43:05.091 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 17:43:05.091 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 17:43:05.094 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 17:43:05.095 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 17:43:05.095 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 17:43:05.096 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 17:43:05.096 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 17:43:05.096 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 17:43:05.097 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 17:43:05.097 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 17:43:05.097 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 17:43:05.098 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 17:43:05.098 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 17:43:05.098 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 17:43:05.099 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 17:43:05.100 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 17:43:05.100 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 17:43:05.101 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 17:43:05.101 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 17:43:05.101 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 17:43:05.105 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 17:43:19.937 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 17:43:19.937 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 17:43:19.937 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 17:43:19.939 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 17:43:19.939 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 17:43:19.941 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 17:43:19.941 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 17:43:19.941 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 17:43:19.941 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 17:43:19.941 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 17:43:19.942 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 17:43:19.942 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 17:43:19.942 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 17:43:19.943 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 17:43:19.943 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 17:43:19.943 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 17:43:19.944 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 17:43:19.944 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 17:43:19.944 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 17:43:19.945 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 17:43:19.945 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 17:43:19.945 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 17:43:19.946 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 17:43:19.947 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 17:43:19.947 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 17:43:19.947 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 17:43:19.948 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 17:43:19.948 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 17:43:19.950 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 17:43:34.679 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 17:43:34.679 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 17:43:34.679 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 17:43:34.681 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 17:43:34.681 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 17:43:34.682 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 17:43:34.682 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 17:43:34.682 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 17:43:34.682 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 17:43:34.682 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 17:43:34.683 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 17:43:34.683 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 17:43:34.683 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 17:43:34.684 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 17:43:34.684 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 17:43:34.684 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 17:43:34.685 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 17:43:34.685 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 17:43:34.685 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 17:43:34.686 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 17:43:34.686 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 17:43:34.686 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 17:43:34.686 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 17:43:34.686 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 17:43:34.687 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 17:43:34.687 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 17:43:34.687 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 17:43:34.687 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 17:43:34.689 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:14:23.288 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:14:23.288 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:14:23.288 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:14:23.290 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:14:23.290 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:14:23.296 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:14:23.296 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:14:23.297 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:14:23.297 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:14:23.297 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:14:23.299 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:14:23.299 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:14:23.300 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:14:23.300 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:14:23.301 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:14:23.301 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:14:23.301 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:14:23.302 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:14:23.302 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:14:23.304 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:14:23.304 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:14:23.304 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:14:23.304 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:14:23.304 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:14:23.306 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:14:23.306 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:14:23.306 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:14:23.307 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:14:23.309 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:14:24.323 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:14:24.323 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 20:14:24.323 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:14:24.324 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:14:24.324 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:14:24.326 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:14:24.326 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:14:24.326 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:14:24.328 [http-nio-8080-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 20:14:24.346 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:14:24.346 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:14:24.346 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:14:24.350 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:14:24.363 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:14:24.363 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:14:24.363 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:14:24.364 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:14:24.364 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:14:24.364 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:14:24.364 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:14:24.367 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:14:24.367 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 20:14:24.367 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 20:14:24.369 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 20:14:24.369 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 20:14:24.369 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 20:14:24.372 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 20:14:24.385 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:14:24.386 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:14:24.386 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:14:24.387 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:14:24.397 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:14:24.397 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:14:24.397 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:14:24.398 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:14:24.399 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:14:24.399 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:14:24.400 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:14:24.400 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:14:24.400 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:14:24.401 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:14:24.401 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:14:24.401 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:14:24.402 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:14:24.402 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:14:24.402 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:14:24.403 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:14:24.403 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:14:24.404 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:14:24.405 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:14:24.405 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:14:24.405 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:14:24.406 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:14:24.421 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:14:24.422 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:14:24.422 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:14:24.423 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:14:24.423 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 20:14:24.424 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 20:14:24.425 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 20:14:24.440 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:14:24.440 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:14:24.442 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:14:27.561 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:14:27.561 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:14:27.561 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:14:27.561 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:14:27.561 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:14:27.562 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:14:27.562 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:14:27.562 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:14:27.562 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:14:27.563 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:14:27.563 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:14:27.563 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:14:27.563 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:14:27.564 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:14:27.564 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:14:27.564 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:14:27.565 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:14:27.565 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:14:27.565 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:14:27.565 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:14:27.565 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:14:27.565 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:14:27.566 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:14:27.566 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:14:27.566 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:14:27.566 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:14:27.567 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:14:27.567 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:14:27.567 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:16:07.544 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:16:07.544 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:16:07.544 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:16:07.545 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:16:07.545 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:16:07.546 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:16:07.546 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:16:07.546 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:16:07.546 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:16:07.546 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:16:07.547 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:16:07.547 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:16:07.547 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:16:07.548 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:16:07.548 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:16:07.548 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:16:07.548 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:16:07.548 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:16:07.548 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:16:07.549 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:16:07.549 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:16:07.549 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:16:07.549 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:16:07.549 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:16:07.550 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:16:07.550 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:16:07.550 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:16:07.550 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:16:07.550 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:16:08.589 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:16:08.589 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:16:08.589 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:16:08.589 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:16:08.589 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:16:08.590 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:16:08.590 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:16:08.591 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:16:08.591 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:16:08.591 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:16:08.591 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:16:08.591 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:16:08.591 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:16:08.592 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:16:08.592 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:16:08.592 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:16:08.592 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:16:08.592 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:16:08.592 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:16:08.592 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:16:08.592 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:16:08.593 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:16:08.593 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:16:08.593 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:16:08.593 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:16:08.593 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:16:08.593 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:16:08.593 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:16:08.594 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:17:36.973 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:17:36.973 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:17:36.973 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:17:36.973 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:17:36.973 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:17:36.975 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:17:36.975 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:17:36.975 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:17:36.975 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:17:36.975 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:17:36.976 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:17:36.976 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:17:36.976 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:17:36.977 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:17:36.977 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:17:36.977 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:17:36.977 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:17:36.977 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:17:36.978 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:17:36.978 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:17:36.978 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:17:36.978 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:17:36.978 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:17:36.978 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:17:36.978 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:17:36.978 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:17:36.978 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:17:36.978 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:17:36.979 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:19:42.037 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:19:42.037 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:19:42.037 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:19:42.038 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:19:42.038 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:19:42.040 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:19:42.041 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:19:42.041 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:19:42.041 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:42.041 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:19:42.042 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:42.042 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:42.042 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:19:42.043 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:42.043 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:42.043 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:19:42.044 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:42.044 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:42.044 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:19:42.045 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:42.046 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:42.046 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:19:42.047 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:42.047 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:42.047 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:19:42.048 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:42.048 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:19:42.048 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:19:42.049 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:19:47.935 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:19:47.935 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 20:19:47.935 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:19:47.936 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:19:47.936 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:19:47.937 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:19:47.937 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:19:47.937 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:19:47.938 [http-nio-8080-exec-7] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 20:19:47.953 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:19:47.953 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:19:47.953 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:19:47.956 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:19:47.966 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:19:47.966 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:19:47.966 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:19:47.967 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:19:47.967 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:19:47.968 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:19:47.968 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:19:47.969 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:19:47.969 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 20:19:47.969 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 20:19:47.969 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 20:19:47.969 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 20:19:47.969 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 20:19:47.970 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 20:19:47.978 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:19:47.978 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:19:47.978 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:19:47.978 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:19:47.988 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:19:47.988 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:19:47.988 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:19:47.988 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:19:47.988 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:47.988 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:19:47.989 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:47.989 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:47.989 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:19:47.989 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:47.989 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:47.989 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:19:47.990 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:47.990 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:47.990 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:19:47.990 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:47.990 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:47.992 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:19:47.992 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:47.992 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:47.992 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:19:47.993 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:48.000 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:19:48.001 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:19:48.001 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:19:48.001 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:19:48.001 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 20:19:48.001 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 20:19:48.002 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 20:19:48.010 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:19:48.010 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:19:48.011 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:19:49.927 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:19:49.927 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:19:49.927 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:19:49.927 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:19:49.927 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:19:49.928 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:19:49.928 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:19:49.928 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:19:49.929 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:49.929 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:19:49.929 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:49.929 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:49.929 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:19:49.930 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:49.930 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:49.930 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:19:49.931 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:49.931 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:49.931 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:19:49.932 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:49.932 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:49.932 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:19:49.932 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:49.933 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:49.933 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:19:49.933 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:49.933 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:19:49.933 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:19:49.934 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:19:51.662 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:19:51.662 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 20:19:51.663 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:19:51.663 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:19:51.663 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:19:51.663 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:19:51.663 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:19:51.663 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:19:51.664 [http-nio-8080-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 20:19:51.675 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:19:51.675 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:19:51.675 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:19:51.677 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:19:51.687 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:19:51.687 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:19:51.687 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:19:51.689 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:19:51.689 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:19:51.689 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:19:51.689 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:19:51.690 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:19:51.691 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 20:19:51.691 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 20:19:51.691 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 20:19:51.692 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 20:19:51.692 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 20:19:51.693 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 20:19:51.702 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:19:51.703 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:19:51.703 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:19:51.703 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:19:51.711 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:19:51.711 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:19:51.711 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:19:51.712 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:19:51.712 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:51.712 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:19:51.713 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:51.714 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:51.714 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:19:51.714 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:51.714 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:51.714 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:19:51.715 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:51.715 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:51.715 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:19:51.715 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:51.715 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:51.715 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:19:51.715 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:51.715 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:51.715 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:19:51.715 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:51.722 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:19:51.722 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:19:51.723 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:19:51.723 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:19:51.723 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 20:19:51.723 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 20:19:51.725 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 20:19:51.731 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:19:51.732 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:19:51.733 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:19:55.327 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:19:55.327 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:19:55.327 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:19:55.328 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:19:55.328 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:19:55.329 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:19:55.329 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:19:55.329 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:19:55.329 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:55.329 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:19:55.330 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:55.330 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:55.330 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:19:55.330 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:55.330 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:55.330 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:19:55.331 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:55.331 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:55.331 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:19:55.331 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:55.331 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:55.331 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:19:55.332 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:55.332 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:55.332 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:19:55.332 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:55.333 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:19:55.333 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:19:55.333 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:19:56.154 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:19:56.154 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 20:19:56.155 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:19:56.155 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:19:56.155 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:19:56.156 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:19:56.156 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:19:56.156 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:19:56.157 [http-nio-8080-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 20:19:56.168 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:19:56.169 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:19:56.169 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:19:56.170 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:19:56.183 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:19:56.183 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:19:56.184 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:19:56.184 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:19:56.184 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:19:56.184 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:19:56.184 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:19:56.185 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:19:56.185 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 20:19:56.185 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 20:19:56.187 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 20:19:56.187 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 20:19:56.187 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 20:19:56.188 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 20:19:56.208 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:19:56.208 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:19:56.208 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:19:56.209 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:19:56.218 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:19:56.218 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:19:56.218 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:19:56.219 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:19:56.219 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:56.219 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:19:56.220 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:56.220 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:56.220 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:19:56.220 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:56.220 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:56.220 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:19:56.221 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:56.221 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:56.221 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:19:56.222 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:56.222 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:56.222 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:19:56.223 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:56.223 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:19:56.224 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:19:56.224 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:19:56.238 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:19:56.238 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:19:56.238 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:19:56.240 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:19:56.240 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 20:19:56.240 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 20:19:56.241 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 20:19:56.254 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:19:56.254 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:19:56.255 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:23:45.624 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:23:45.624 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:23:45.624 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:23:45.625 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:23:45.625 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:23:45.626 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:23:45.626 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:23:45.626 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:23:45.626 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:23:45.626 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:23:45.627 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:23:45.627 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:23:45.627 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:23:45.629 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:23:45.630 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:23:45.630 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:23:45.631 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:23:45.631 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:23:45.632 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:23:45.632 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:23:45.632 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:23:45.632 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:23:45.633 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:23:45.633 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:23:45.633 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:23:45.634 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:23:45.634 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:23:45.634 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:23:45.635 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:25:52.140 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:25:52.142 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:25:52.142 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:25:52.152 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:25:52.176 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:25:52.176 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:25:52.176 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:25:52.177 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:25:52.178 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:25:52.178 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:25:52.178 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:25:52.179 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:25:52.180 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 20:25:52.180 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 20:25:52.183 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 20:25:52.183 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 20:25:52.183 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 20:25:52.186 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 20:25:52.202 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:25:52.202 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:25:52.203 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:25:52.205 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:25:52.219 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:25:52.221 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:25:52.221 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:25:52.223 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:25:52.223 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:25:52.223 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:25:52.224 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:25:52.224 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:25:52.224 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:25:52.225 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:25:52.226 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:25:52.226 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:25:52.226 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:25:52.226 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:25:52.226 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:25:52.227 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:25:52.228 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:25:52.228 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:25:52.229 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:25:52.229 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:25:52.229 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:25:52.230 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:25:52.253 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:25:52.253 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:25:52.253 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:25:52.255 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:25:52.255 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 20:25:52.255 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 20:25:52.256 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 20:25:52.273 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:25:52.273 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:25:52.275 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:25:53.987 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:25:53.988 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:25:53.988 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:25:53.990 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:25:54.007 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:25:54.007 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:25:54.007 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:25:54.008 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:25:54.009 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:25:54.009 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:25:54.009 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:25:54.011 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:25:54.011 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 20:25:54.011 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 20:25:54.011 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 20:25:54.012 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 20:25:54.012 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 20:25:54.013 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 20:25:54.028 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:25:54.028 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:25:54.028 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:25:54.030 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:25:54.046 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:25:54.047 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:25:54.047 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:25:54.049 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:25:54.049 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:25:54.049 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:25:54.050 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:25:54.051 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:25:54.051 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:25:54.054 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:25:54.054 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:25:54.054 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:25:54.055 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:25:54.055 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:25:54.055 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:25:54.056 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:25:54.056 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:25:54.056 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:25:54.058 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:25:54.058 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:25:54.058 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:25:54.059 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:25:54.071 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:25:54.071 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:25:54.071 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:25:54.073 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:25:54.074 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 20:25:54.074 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 20:25:54.075 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 20:25:54.092 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:25:54.093 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:25:54.095 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:25:55.113 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:25:55.113 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:25:55.114 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:25:55.115 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:25:55.134 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:25:55.134 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:25:55.134 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:25:55.135 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:25:55.135 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:25:55.135 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:25:55.136 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:25:55.137 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:25:55.137 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 20:25:55.137 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 20:25:55.138 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 20:25:55.138 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 20:25:55.138 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 20:25:55.139 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 20:25:55.152 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:25:55.152 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:25:55.152 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:25:55.153 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:25:55.167 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:25:55.168 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:25:55.168 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:25:55.169 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:25:55.169 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:25:55.169 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:25:55.170 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:25:55.170 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:25:55.170 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:25:55.173 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:25:55.173 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:25:55.174 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:25:55.175 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:25:55.175 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:25:55.175 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:25:55.176 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:25:55.176 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:25:55.176 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:25:55.176 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:25:55.177 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:25:55.177 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:25:55.177 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:25:55.191 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:25:55.191 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:25:55.192 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:25:55.194 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:25:55.194 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 20:25:55.194 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 20:25:55.195 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 20:25:55.213 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:25:55.213 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:25:55.215 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:26:00.054 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:26:00.055 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:26:00.055 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:26:00.058 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:26:00.073 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:26:00.073 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:26:00.073 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:26:00.076 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:26:00.076 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:26:00.076 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:26:00.076 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:26:00.078 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:26:00.078 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 20:26:00.078 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 20:26:00.079 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 20:26:00.079 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 20:26:00.079 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 20:26:00.080 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 20:26:00.091 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:26:00.091 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:26:00.092 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:26:00.094 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:26:00.107 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:26:00.107 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:26:00.107 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:26:00.108 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:26:00.109 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:26:00.109 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:26:00.110 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:26:00.110 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:26:00.110 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:26:00.110 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:26:00.111 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:26:00.111 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:26:00.112 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:26:00.112 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:26:00.112 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:26:00.114 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:26:00.114 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:26:00.114 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:26:00.115 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:26:00.115 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:26:00.115 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:26:00.116 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:26:00.127 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:26:00.127 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:26:00.127 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:26:00.128 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:26:00.128 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 20:26:00.128 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 20:26:00.129 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 20:26:00.141 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:26:00.141 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:26:00.144 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:27:27.567 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:27:27.567 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:27:27.567 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:27:27.568 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:27:27.568 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:27:27.573 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:27:27.573 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:27:27.573 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:27:27.573 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:27:27.573 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:27:27.575 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:27:27.575 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:27:27.575 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:27:27.576 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:27:27.577 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:27:27.577 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:27:27.578 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:27:27.578 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:27:27.578 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:27:27.579 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:27:27.579 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:27:27.579 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:27:27.580 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:27:27.580 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:27:27.580 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:27:27.580 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:27:27.581 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:27:27.581 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:27:27.582 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:27:30.863 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:27:30.863 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:27:30.863 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:27:30.863 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:27:30.864 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:27:30.865 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:27:30.866 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:27:30.866 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:27:30.866 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:27:30.866 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:27:30.867 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:27:30.867 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:27:30.867 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:27:30.868 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:27:30.869 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:27:30.869 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:27:30.869 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:27:30.870 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:27:30.870 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:27:30.871 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:27:30.871 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:27:30.871 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:27:30.872 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:27:30.872 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:27:30.872 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:27:30.873 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:27:30.873 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:27:30.873 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:27:30.875 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:27:32.120 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:27:32.120 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:27:32.121 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:27:32.121 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:27:32.121 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:27:32.123 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:27:32.123 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:27:32.123 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:27:32.124 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:27:32.124 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:27:32.126 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:27:32.126 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:27:32.126 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:27:32.127 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:27:32.127 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:27:32.128 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:27:32.129 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:27:32.129 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:27:32.129 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:27:32.130 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:27:32.130 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:27:32.130 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:27:32.131 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:27:32.131 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:27:32.131 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:27:32.131 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:27:32.132 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:27:32.132 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:27:32.132 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:28:14.745 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:28:14.745 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:28:14.746 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:28:14.746 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:28:14.746 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:28:14.748 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:28:14.748 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:28:14.748 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:28:14.748 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:14.748 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:28:14.749 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:14.750 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:14.750 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:28:14.750 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:14.751 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:14.751 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:28:14.752 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:14.752 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:14.752 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:28:14.753 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:14.753 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:14.753 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:28:14.753 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:14.753 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:14.753 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:28:14.755 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:14.755 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:28:14.755 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:28:14.755 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:28:18.163 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:28:18.163 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:28:18.164 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:28:18.164 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:28:18.164 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:28:18.165 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:28:18.167 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:28:18.167 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:28:18.167 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:18.167 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:28:18.169 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:18.169 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:18.169 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:28:18.171 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:18.171 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:18.171 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:28:18.172 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:18.172 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:18.172 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:28:18.173 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:18.173 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:18.173 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:28:18.174 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:18.174 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:18.174 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:28:18.174 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:18.174 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:28:18.174 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:28:18.175 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:28:21.379 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:28:21.379 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:28:21.379 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:28:21.380 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:28:21.380 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:28:21.381 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:28:21.381 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:28:21.381 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:28:21.381 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:21.381 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:28:21.383 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:21.383 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:21.384 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:28:21.384 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:21.385 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:21.385 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:28:21.385 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:21.385 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:21.385 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:28:21.386 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:21.386 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:21.386 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:28:21.387 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:21.387 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:21.387 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:28:21.388 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:21.389 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:28:21.389 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:28:21.390 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:28:24.282 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:28:24.282 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:28:24.282 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:28:24.282 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:28:24.282 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:28:24.284 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:28:24.284 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:28:24.284 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:28:24.284 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:24.284 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:28:24.285 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:24.285 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:24.285 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:28:24.286 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:24.286 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:24.286 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:28:24.286 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:24.286 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:24.286 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:28:24.288 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:24.288 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:24.288 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:28:24.288 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:24.289 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:24.289 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:28:24.289 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:24.290 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:28:24.290 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:28:24.291 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:28:27.045 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:28:27.045 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:28:27.046 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:28:27.047 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:28:27.047 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:28:27.048 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:28:27.048 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:28:27.049 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:28:27.049 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:27.049 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:28:27.050 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:27.050 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:27.050 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:28:27.051 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:27.051 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:27.052 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:28:27.052 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:27.053 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:27.053 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:28:27.054 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:27.054 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:27.054 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:28:27.056 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:27.056 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:28:27.056 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:28:27.058 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:28:27.058 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:28:27.058 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:28:27.059 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:39:54.654 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:39:54.654 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 20:39:54.654 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:39:54.656 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:39:54.657 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:39:54.659 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:39:54.660 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:39:54.660 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:39:54.665 [http-nio-8080-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 20:39:54.686 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:39:54.686 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:39:54.686 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:39:54.690 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:39:54.711 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:39:54.711 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:39:54.711 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:39:54.713 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:39:54.713 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:39:54.713 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:39:54.713 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:39:54.715 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:39:54.715 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 20:39:54.716 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 20:39:54.718 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 20:39:54.718 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 20:39:54.719 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 20:39:54.721 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 20:39:54.737 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:39:54.737 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:39:54.737 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:39:54.738 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:39:54.755 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:39:54.755 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:39:54.755 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:39:54.756 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:39:54.756 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:39:54.757 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:39:54.758 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:39:54.758 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:39:54.759 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:39:54.760 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:39:54.760 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:39:54.760 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:39:54.761 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:39:54.761 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:39:54.761 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:39:54.762 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:39:54.762 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:39:54.762 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:39:54.763 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:39:54.763 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:39:54.763 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:39:54.764 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:39:54.779 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:39:54.779 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:39:54.779 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:39:54.780 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:39:54.781 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 20:39:54.781 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 20:39:54.782 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 20:39:54.802 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:39:54.802 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:39:54.802 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:39:56.733 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:39:56.733 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:39:56.733 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:39:56.735 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:39:56.735 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:39:56.736 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:39:56.736 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:39:56.736 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:39:56.737 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:39:56.738 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:39:56.739 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:39:56.739 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:39:56.739 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:39:56.741 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:39:56.741 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:39:56.742 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:39:56.743 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:39:56.743 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:39:56.743 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:39:56.744 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:39:56.744 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:39:56.745 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:39:56.745 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:39:56.746 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:39:56.746 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:39:56.747 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:39:56.749 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:39:56.749 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:39:56.751 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:39:58.941 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:39:58.942 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:39:58.942 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:39:58.942 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:39:58.942 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:39:58.944 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:39:58.944 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:39:58.944 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:39:58.945 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:39:58.945 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:39:58.947 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:39:58.947 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:39:58.947 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:39:58.948 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:39:58.948 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:39:58.948 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:39:58.949 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:39:58.949 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:39:58.950 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:39:58.952 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:39:58.952 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:39:58.952 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:39:58.954 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:39:58.954 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:39:58.954 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:39:58.956 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:39:58.956 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:39:58.956 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:39:58.958 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:39:59.914 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:39:59.914 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 20:39:59.915 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:39:59.915 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:39:59.915 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:39:59.922 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:39:59.922 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:39:59.922 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:39:59.923 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor110.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 20:39:59.948 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:39:59.948 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:39:59.949 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:39:59.950 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:39:59.970 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:39:59.970 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:39:59.971 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:39:59.973 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:39:59.973 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:39:59.973 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:39:59.973 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:39:59.975 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:39:59.975 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 20:39:59.976 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 20:39:59.977 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 20:39:59.977 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 20:39:59.977 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 20:40:00.083 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 20:40:00.101 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:40:00.101 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:40:00.102 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:40:00.105 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:40:00.123 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:40:00.124 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:40:00.124 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:40:00.125 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:40:00.125 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:40:00.125 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:40:00.127 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:40:00.127 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:40:00.127 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:40:00.128 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:40:00.128 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:40:00.128 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:40:00.129 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:40:00.129 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:40:00.130 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:40:00.130 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:40:00.130 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:40:00.130 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:40:00.131 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:40:00.131 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:40:00.131 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:40:00.133 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:40:00.157 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:40:00.157 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:40:00.157 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:40:00.159 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:40:00.159 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 20:40:00.159 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 20:40:00.160 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 20:40:00.184 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:40:00.184 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:40:00.185 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:42:00.009 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:42:00.010 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:42:00.010 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:42:00.014 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:42:07.576 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:42:07.576 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:42:07.576 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:42:07.577 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:42:07.682 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:42:07.682 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:42:07.682 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:42:07.682 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:42:07.682 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:42:07.683 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:42:07.684 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:42:07.684 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:42:07.684 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:42:07.684 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:42:07.685 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:42:07.685 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:42:07.685 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:42:07.685 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:42:07.686 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:42:07.686 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:42:07.689 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:42:07.689 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:42:07.689 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:42:07.691 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:42:07.692 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:42:07.692 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:42:07.693 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:42:07.693 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:42:07.694 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:42:07.695 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:42:07.695 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:42:07.695 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:42:07.696 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:45:12.911 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:45:12.913 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:45:12.913 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:45:12.916 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:45:13.026 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:45:13.027 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:45:13.027 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:45:13.027 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:45:13.027 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:45:13.030 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:45:13.030 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:45:13.030 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:45:13.030 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:13.031 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:45:13.034 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:13.035 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:13.035 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:45:13.038 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:13.038 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:13.038 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:45:13.039 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:13.039 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:13.040 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:45:13.040 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:13.042 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:13.042 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:45:13.043 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:13.044 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:13.044 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:45:13.044 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:13.046 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:45:13.046 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:45:13.047 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:45:14.585 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:45:14.585 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:45:14.586 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:45:14.588 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:45:14.619 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:45:14.619 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 20:45:14.620 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:45:14.620 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:45:14.620 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:45:14.621 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:45:14.621 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:45:14.621 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:45:14.623 [http-nio-8080-exec-9] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor110.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 20:45:17.453 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:45:17.453 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:45:17.454 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:45:17.456 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:45:17.480 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:45:17.480 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:45:17.480 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:45:17.480 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:45:17.480 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:45:17.481 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:45:17.481 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:45:17.481 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:45:17.481 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:17.481 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:45:17.482 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:17.482 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:17.482 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:45:17.482 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:17.483 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:17.483 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:45:17.483 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:17.483 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:17.483 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:45:17.485 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:17.485 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:17.485 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:45:17.486 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:17.486 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:17.486 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:45:17.486 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:17.486 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:45:17.486 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:45:17.487 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:45:24.482 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:45:24.482 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:45:24.482 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:45:24.482 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:45:24.483 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:45:24.484 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:45:24.484 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:45:24.484 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:45:24.485 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:24.485 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:45:24.488 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:24.488 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:24.488 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:45:24.489 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:24.489 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:24.489 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:45:24.490 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:24.491 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:24.491 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:45:24.491 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:24.491 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:24.491 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:45:24.492 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:24.492 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:24.492 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:45:24.493 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:24.493 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:45:24.493 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:45:24.494 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:45:27.407 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:45:27.408 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:45:27.408 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:45:27.410 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:45:27.480 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:45:27.481 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:45:27.481 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:45:27.481 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:45:27.481 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:45:27.483 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:45:27.483 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:45:27.483 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:45:27.484 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:27.484 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:45:27.486 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:27.486 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:27.486 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:45:27.487 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:27.487 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:27.487 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:45:27.489 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:27.491 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:27.491 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:45:27.493 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:27.493 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:27.493 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:45:27.494 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:27.494 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:27.494 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:45:27.496 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:27.496 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:45:27.496 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:45:27.498 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:45:35.679 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:45:35.680 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:45:35.681 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:45:35.684 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:45:35.791 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:45:35.791 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:45:35.791 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:45:35.791 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:45:35.791 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:45:35.794 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:45:35.794 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:45:35.794 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:45:35.794 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:35.794 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:45:35.795 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:35.795 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:35.795 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:45:35.795 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:35.795 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:35.796 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:45:35.796 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:35.796 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:35.796 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:45:35.797 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:35.797 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:35.797 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:45:35.798 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:35.798 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:35.798 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:45:35.800 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:35.801 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:45:35.801 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:45:35.802 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:45:39.213 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:45:39.214 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:45:39.214 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:45:39.216 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:45:39.263 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:45:39.263 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:45:39.263 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:45:39.263 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:45:39.263 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:45:39.264 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:45:39.264 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:45:39.265 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:45:39.265 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:39.265 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:45:39.266 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:39.266 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:39.266 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:45:39.267 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:39.267 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:39.267 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:45:39.268 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:39.268 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:39.268 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:45:39.268 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:39.268 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:39.268 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:45:39.269 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:39.269 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:39.269 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:45:39.272 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:39.272 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:45:39.272 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:45:39.274 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:45:52.190 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:45:52.191 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:45:52.191 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:45:52.194 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:45:52.249 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:45:52.249 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:45:52.249 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:45:52.249 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:45:52.249 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:45:52.251 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:45:52.251 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:45:52.251 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:45:52.251 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:52.252 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:45:52.254 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:52.254 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:52.254 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:45:52.255 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:52.256 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:52.256 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:45:52.256 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:52.256 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:52.257 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:45:52.257 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:52.257 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:52.257 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:45:52.259 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:52.259 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:45:52.260 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:45:52.261 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:45:52.261 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:45:52.261 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:45:52.262 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:46:00.952 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:46:00.953 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:46:00.953 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:46:00.958 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:46:01.068 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:46:01.068 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:46:01.068 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:46:01.068 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:46:01.068 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:46:01.069 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:46:01.069 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:46:01.069 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:46:01.069 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:46:01.069 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:46:01.071 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:46:01.071 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:46:01.071 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:46:01.072 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:46:01.072 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:46:01.072 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:46:01.073 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:46:01.073 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:46:01.073 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:46:01.074 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:46:01.074 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:46:01.074 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:46:01.074 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:46:01.075 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:46:01.075 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:46:01.075 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:46:01.075 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:46:01.075 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:46:01.076 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:46:04.612 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:46:04.612 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:46:04.613 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:46:04.614 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:46:04.646 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:46:04.646 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 20:46:04.646 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:46:04.647 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:46:04.647 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:46:04.648 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:46:04.648 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:46:04.648 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:46:04.649 [http-nio-8080-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor110.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 20:46:10.045 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:46:10.046 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:46:10.047 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:46:10.048 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:46:10.077 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:46:10.077 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:46:10.078 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:46:10.078 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:46:10.078 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:46:10.079 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:46:10.079 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:46:10.079 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:46:10.079 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:46:10.079 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:46:10.080 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:46:10.080 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:46:10.080 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:46:10.080 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:46:10.080 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:46:10.080 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:46:10.081 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:46:10.081 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:46:10.081 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:46:10.082 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:46:10.082 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:46:10.082 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:46:10.083 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:46:10.083 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:46:10.083 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:46:10.084 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:46:10.084 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:46:10.085 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:46:10.085 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:46:12.981 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:46:12.982 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:46:12.982 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:46:12.985 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:46:13.021 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:46:13.021 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 20:46:13.021 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:46:13.021 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:46:13.021 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:46:13.023 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:46:13.023 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:46:13.023 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:46:13.024 [http-nio-8080-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor110.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 20:46:45.514 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:46:45.515 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:46:45.515 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:46:45.516 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:46:45.544 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:46:45.544 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:46:45.544 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:46:45.544 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:46:45.544 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:46:45.545 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:46:45.545 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:46:45.545 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:46:45.545 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:46:45.545 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:46:45.546 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:46:45.546 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:46:45.546 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:46:45.546 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:46:45.546 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:46:45.547 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:46:45.547 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:46:45.547 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:46:45.547 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:46:45.547 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:46:45.548 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:46:45.548 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:46:45.549 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:46:45.549 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:46:45.549 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:46:45.550 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:46:45.550 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:46:45.550 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:46:45.551 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:47:07.604 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:47:07.605 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:47:07.606 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:47:07.606 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:47:07.636 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:47:07.636 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:47:07.636 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:47:07.636 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:47:07.636 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:47:07.637 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:47:07.637 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:47:07.637 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:47:07.638 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:47:07.638 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:47:07.639 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:47:07.639 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:47:07.640 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:47:07.641 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:47:07.641 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:47:07.641 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:47:07.641 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:47:07.641 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:47:07.641 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:47:07.643 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:47:07.643 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:47:07.643 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:47:07.644 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:47:07.644 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:47:07.644 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:47:07.645 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:47:07.646 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:47:07.646 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:47:07.646 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:50:43.180 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:50:43.181 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:50:43.181 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:50:43.185 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:50:43.220 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:50:43.220 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 20:50:43.221 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:50:43.221 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:50:43.221 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:50:43.222 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:50:43.222 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:50:43.222 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:50:43.225 [http-nio-8080-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor110.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 20:50:47.743 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:50:47.745 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:50:47.745 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:50:47.752 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:50:47.776 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:50:47.776 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:50:47.776 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:50:47.776 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:50:47.776 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:50:47.777 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:50:47.777 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:50:47.777 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:50:47.777 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:50:47.778 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:50:47.778 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:50:47.778 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:50:47.778 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:50:47.779 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:50:47.779 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:50:47.779 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:50:47.780 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:50:47.780 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:50:47.780 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:50:47.781 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:50:47.781 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:50:47.781 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:50:47.782 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:50:47.782 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:50:47.782 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:50:47.783 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:50:47.783 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:50:47.783 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:50:47.784 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:51:00.804 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:51:00.805 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:51:00.805 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:51:00.807 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:51:00.928 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:51:00.928 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:51:00.928 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:51:00.928 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:51:00.928 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:51:00.930 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:51:00.930 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:51:00.930 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:51:00.930 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:51:00.930 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:51:00.932 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:51:00.932 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:51:00.934 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:51:00.936 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:51:00.937 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:51:00.937 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:51:00.939 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:51:00.940 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:51:00.940 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:51:00.941 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:51:00.941 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:51:00.941 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:51:00.942 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:51:00.942 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:51:00.942 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:51:00.943 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:51:00.943 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:51:00.943 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:51:00.944 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:51:01.473 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:51:01.473 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:51:01.473 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:51:01.473 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:51:01.474 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:51:01.474 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:51:01.474 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:51:01.474 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:51:01.475 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:51:01.475 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:51:01.477 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:51:01.478 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:51:01.478 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:51:01.479 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:51:01.480 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:51:01.480 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:51:01.480 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:51:01.480 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:51:01.480 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:51:01.481 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:51:01.481 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:51:01.481 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:51:01.482 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:51:01.482 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:51:01.482 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:51:01.483 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:51:01.483 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:51:01.483 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:51:01.484 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:51:02.782 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:51:02.782 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 20:51:02.782 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:51:02.783 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:51:02.783 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:51:02.784 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:51:02.784 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:51:02.784 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:51:02.785 [http-nio-8080-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor110.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 20:51:02.795 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:51:02.795 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:51:02.795 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:51:02.797 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:51:02.806 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:51:02.806 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:51:02.806 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:51:02.808 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:51:02.808 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:51:02.808 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:51:02.808 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:51:02.809 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:51:02.809 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 20:51:02.809 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 20:51:02.810 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 20:51:02.810 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 20:51:02.810 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 20:51:02.811 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 20:51:02.826 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:51:02.826 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:51:02.826 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:51:02.826 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:51:02.839 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:51:02.839 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:51:02.839 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:51:02.840 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:51:02.841 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:51:02.841 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:51:02.843 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:51:02.843 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:51:02.843 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:51:02.844 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:51:02.844 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:51:02.844 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:51:02.844 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:51:02.844 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:51:02.844 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:51:02.845 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:51:02.845 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:51:02.845 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:51:02.845 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:51:02.845 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:51:02.845 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:51:02.845 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:51:02.855 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:51:02.855 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:51:02.855 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:51:02.856 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:51:02.857 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 20:51:02.857 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 20:51:02.857 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 20:51:02.866 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:51:02.866 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:51:02.868 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:51:03.590 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:51:03.590 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:51:03.590 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:51:03.590 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:51:03.590 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:51:03.593 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:51:03.593 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:51:03.593 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:51:03.593 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:51:03.593 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:51:03.594 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:51:03.594 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:51:03.595 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:51:03.595 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:51:03.595 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:51:03.595 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:51:03.596 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:51:03.596 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:51:03.596 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:51:03.597 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:51:03.597 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:51:03.597 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:51:03.599 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:51:03.599 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:51:03.599 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:51:03.600 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:51:03.601 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:51:03.601 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:51:03.602 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:52:48.322 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:52:48.324 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:52:48.324 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:52:48.325 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:52:48.325 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:52:48.326 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:52:48.326 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:52:48.326 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:52:48.326 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:52:48.326 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:52:48.327 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:52:48.327 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:52:48.327 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:52:48.328 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:52:48.328 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:52:48.328 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:52:48.329 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:52:48.329 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:52:48.329 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:52:48.330 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:52:48.330 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:52:48.330 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:52:48.331 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:52:48.331 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:52:48.331 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:52:48.332 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:52:48.332 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:52:48.332 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:52:48.332 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:52:52.700 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:52:52.700 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:52:52.700 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:52:52.700 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:52:52.701 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:52:52.701 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:52:52.701 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:52:52.702 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:52:52.702 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:52:52.702 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:52:52.703 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:52:52.703 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:52:52.703 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:52:52.703 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:52:52.704 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:52:52.704 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:52:52.704 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:52:52.704 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:52:52.704 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:52:52.704 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:52:52.705 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:52:52.705 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:52:52.705 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:52:52.705 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:52:52.705 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:52:52.706 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:52:52.706 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:52:52.706 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:52:52.707 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:53:32.048 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:53:32.048 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 20:53:32.048 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:53:32.049 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:53:32.049 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:53:32.051 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:53:32.051 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:53:32.051 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:53:32.053 [http-nio-8080-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor110.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 20:53:32.070 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 20:53:32.070 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 20:53:32.070 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 20:53:32.073 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 20:53:32.085 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:53:32.085 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:53:32.085 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:53:32.086 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:53:32.087 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:53:32.087 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:53:32.087 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:53:32.088 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:53:32.089 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 20:53:32.089 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 20:53:32.090 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 20:53:32.091 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 20:53:32.091 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 20:53:32.093 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 20:53:32.110 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:53:32.110 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:53:32.110 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:53:32.111 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:53:32.125 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:53:32.125 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:53:32.126 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:53:32.128 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:53:32.128 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:53:32.128 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:53:32.130 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:53:32.130 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:53:32.130 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:53:32.132 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:53:32.132 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:53:32.132 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:53:32.132 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:53:32.132 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:53:32.133 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:53:32.133 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:53:32.133 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:53:32.133 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:53:32.133 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:53:32.133 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:53:32.133 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:53:32.134 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:53:32.148 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:53:32.149 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:53:32.149 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:53:32.150 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:53:32.150 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 20:53:32.150 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 20:53:32.151 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 20:53:32.166 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:53:32.166 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:53:32.168 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:54:56.713 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:54:56.713 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:54:56.713 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:54:56.714 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:54:56.714 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:54:56.716 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:54:56.716 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:54:56.716 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:54:56.716 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:54:56.716 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:54:56.719 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:54:56.719 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:54:56.719 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:54:56.720 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:54:56.720 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:54:56.720 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:54:56.720 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:54:56.720 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:54:56.720 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:54:56.721 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:54:56.721 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:54:56.721 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:54:56.721 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:54:56.721 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:54:56.721 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:54:56.722 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:54:56.722 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:54:56.722 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:54:56.723 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:59:40.135 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:59:40.135 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:59:40.135 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:59:40.136 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:59:40.137 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:59:40.139 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:59:40.140 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:59:40.140 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:59:40.140 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:59:40.140 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:59:40.141 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:59:40.143 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:59:40.143 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:59:40.144 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:59:40.144 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:59:40.144 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:59:40.145 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:59:40.145 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:59:40.145 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:59:40.145 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:59:40.146 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:59:40.146 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:59:40.146 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:59:40.146 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:59:40.146 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:59:40.147 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:59:40.147 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:59:40.147 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:59:40.149 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 20:59:40.650 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 20:59:40.650 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 20:59:40.650 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 20:59:40.650 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 20:59:40.650 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 20:59:40.652 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 20:59:40.652 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 20:59:40.652 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 20:59:40.652 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:59:40.652 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:59:40.653 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:59:40.653 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:59:40.653 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:59:40.654 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:59:40.655 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:59:40.655 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:59:40.656 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:59:40.657 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:59:40.657 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 20:59:40.658 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:59:40.658 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:59:40.658 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 20:59:40.659 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:59:40.659 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 20:59:40.659 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 20:59:40.661 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 20:59:40.662 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 20:59:40.662 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 20:59:40.665 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:00:13.040 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:00:13.041 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:00:13.041 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:00:13.041 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:00:13.041 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:00:13.042 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:00:13.042 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:00:13.043 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:00:13.043 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:00:13.043 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:00:13.044 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:00:13.044 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:00:13.044 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:00:13.045 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:00:13.046 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:00:13.046 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:00:13.046 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:00:13.046 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:00:13.046 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:00:13.047 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:00:13.048 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:00:13.048 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:00:13.050 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:00:13.050 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:00:13.050 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:00:13.051 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:00:13.051 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:00:13.051 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:00:13.052 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:00:29.294 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:00:29.294 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:00:29.294 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:00:29.296 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:00:29.296 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:00:29.297 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:00:29.297 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:00:29.297 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:00:29.297 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:00:29.297 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:00:29.298 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:00:29.299 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:00:29.299 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:00:29.299 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:00:29.299 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:00:29.299 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:00:29.300 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:00:29.300 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:00:29.301 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:00:29.301 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:00:29.302 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:00:29.302 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:00:29.302 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:00:29.302 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:00:29.302 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:00:29.303 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:00:29.304 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:00:29.304 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:00:29.305 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:00:46.667 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:00:46.667 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:00:46.667 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:00:46.669 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:00:46.669 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:00:46.670 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:00:46.670 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:00:46.670 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:00:46.670 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:00:46.670 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:00:46.671 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:00:46.672 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:00:46.672 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:00:46.675 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:00:46.675 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:00:46.676 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:00:46.677 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:00:46.677 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:00:46.677 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:00:46.678 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:00:46.679 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:00:46.679 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:00:46.680 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:00:46.680 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:00:46.680 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:00:46.681 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:00:46.681 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:00:46.681 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:00:46.682 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:00:51.096 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:00:51.096 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 21:00:51.096 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:00:51.097 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:00:51.098 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:00:51.099 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:00:51.099 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:00:51.099 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:00:51.101 [http-nio-8080-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor110.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 21:00:51.117 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:00:51.117 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:00:51.118 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:00:51.121 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 21:00:51.135 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:00:51.135 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:00:51.135 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:00:51.137 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:00:51.137 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:00:51.137 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:00:51.137 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:00:51.138 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:00:51.139 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 21:00:51.139 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 21:00:51.140 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 21:00:51.141 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:00:51.141 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:00:51.142 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:00:51.162 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:00:51.162 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:00:51.162 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:00:51.165 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:00:51.180 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:00:51.181 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:00:51.181 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:00:51.183 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:00:51.183 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:00:51.183 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:00:51.184 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:00:51.184 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:00:51.184 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:00:51.184 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:00:51.184 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:00:51.185 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:00:51.185 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:00:51.185 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:00:51.185 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:00:51.185 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:00:51.186 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:00:51.186 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:00:51.187 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:00:51.187 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:00:51.188 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:00:51.189 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:00:51.207 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:00:51.207 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:00:51.207 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:00:51.208 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:00:51.209 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:00:51.209 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:00:51.209 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:00:51.227 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:00:51.228 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:00:51.229 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:01:04.474 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:01:04.474 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:01:04.474 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:01:04.475 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:01:04.475 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:01:04.476 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:01:04.476 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:01:04.476 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:01:04.476 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:01:04.476 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:01:04.477 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:01:04.477 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:01:04.477 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:01:04.479 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:01:04.480 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:01:04.480 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:01:04.480 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:01:04.480 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:01:04.481 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:01:04.481 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:01:04.481 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:01:04.482 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:01:04.483 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:01:04.483 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:01:04.483 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:01:04.485 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:01:04.485 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:01:04.485 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:01:04.487 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:01:14.971 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:01:14.971 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:01:14.971 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:01:14.972 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:01:14.972 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:01:14.974 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:01:14.974 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:01:14.974 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:01:14.974 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:01:14.975 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:01:14.978 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:01:14.978 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:01:14.978 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:01:14.979 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:01:14.979 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:01:14.979 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:01:14.980 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:01:14.980 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:01:14.981 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:01:14.983 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:01:14.983 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:01:14.983 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:01:14.984 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:01:14.984 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:01:14.984 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:01:14.985 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:01:14.985 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:01:14.985 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:01:14.987 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:02:37.999 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:02:38.000 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:02:38.000 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:02:38.000 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:02:38.000 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:02:38.002 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:02:38.002 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:02:38.002 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:02:38.002 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:02:38.002 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:02:38.002 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:02:38.002 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:02:38.002 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:02:38.003 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:02:38.003 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:02:38.003 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:02:38.003 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:02:38.003 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:02:38.003 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:02:38.004 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:02:38.004 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:02:38.004 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:02:38.005 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:02:38.005 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:02:38.005 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:02:38.006 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:02:38.006 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:02:38.006 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:02:38.007 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:02:42.898 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:02:42.898 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 21:02:42.898 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:02:42.898 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:02:42.898 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:02:42.900 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:02:42.900 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:02:42.900 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:02:42.902 [http-nio-8080-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor110.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 21:02:42.926 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:02:42.926 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:02:42.926 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:02:42.929 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 21:02:42.942 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:02:42.942 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:02:42.942 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:02:42.943 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:02:42.944 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:02:42.944 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:02:42.944 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:02:42.945 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:02:42.945 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 21:02:42.945 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 21:02:42.946 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 21:02:42.946 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:02:42.946 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:02:42.948 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:02:42.970 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:02:42.971 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:02:42.971 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:02:42.972 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:02:42.986 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:02:42.988 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:02:42.988 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:02:42.989 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:02:42.989 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:02:42.989 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:02:42.989 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:02:42.990 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:02:42.990 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:02:42.991 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:02:42.992 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:02:42.992 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:02:42.993 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:02:42.993 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:02:42.993 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:02:42.993 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:02:42.994 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:02:42.994 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:02:42.994 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:02:42.994 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:02:42.994 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:02:42.995 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:02:43.011 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:02:43.012 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:02:43.012 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:02:43.013 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:02:43.013 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:02:43.013 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:02:43.014 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:02:43.029 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:02:43.029 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:02:43.031 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:03:53.909 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:03:53.909 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:03:53.909 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:03:53.909 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:03:53.910 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:03:53.911 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:03:53.912 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:03:53.912 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:03:53.912 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:03:53.912 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:03:53.913 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:03:53.913 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:03:53.913 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:03:53.914 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:03:53.914 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:03:53.914 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:03:53.914 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:03:53.914 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:03:53.914 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:03:53.916 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:03:53.916 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:03:53.916 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:03:53.917 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:03:53.917 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:03:53.917 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:03:53.918 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:03:53.918 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:03:53.918 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:03:53.920 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:04:08.174 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:04:08.175 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:04:08.175 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:04:08.175 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:04:08.175 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:04:08.176 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:04:08.177 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:04:08.177 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:04:08.177 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:04:08.177 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:04:08.179 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:04:08.179 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:04:08.179 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:04:08.180 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:04:08.180 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:04:08.181 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:04:08.181 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:04:08.181 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:04:08.181 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:04:08.182 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:04:08.182 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:04:08.182 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:04:08.184 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:04:08.185 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:04:08.185 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:04:08.185 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:04:08.185 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:04:08.185 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:04:08.186 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:04:18.202 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:04:18.202 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:04:18.202 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:04:18.202 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:04:18.202 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:04:18.203 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:04:18.203 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:04:18.203 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:04:18.203 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:04:18.203 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:04:18.204 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:04:18.204 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:04:18.204 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:04:18.204 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:04:18.204 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:04:18.204 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:04:18.205 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:04:18.205 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:04:18.205 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:04:18.205 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:04:18.205 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:04:18.205 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:04:18.205 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:04:18.205 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:04:18.205 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:04:18.206 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:04:18.206 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:04:18.206 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:04:18.207 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:04:26.129 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:04:26.129 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:04:26.130 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:04:26.130 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:04:26.130 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:04:26.130 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:04:26.131 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:04:26.131 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:04:26.131 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:04:26.131 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:04:26.131 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:04:26.132 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:04:26.132 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:04:26.132 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:04:26.132 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:04:26.132 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:04:26.133 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:04:26.133 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:04:26.133 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:04:26.133 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:04:26.133 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:04:26.133 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:04:26.134 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:04:26.134 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:04:26.134 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:04:26.135 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:04:26.136 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:04:26.136 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:04:26.136 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:05:42.420 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:05:42.420 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:05:42.421 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:05:42.421 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:05:42.421 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:05:42.423 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:05:42.423 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:05:42.423 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:05:42.423 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:05:42.423 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:05:42.425 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:05:42.425 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:05:42.425 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:05:42.426 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:05:42.426 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:05:42.426 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:05:42.427 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:05:42.427 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:05:42.427 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:05:42.427 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:05:42.427 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:05:42.427 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:05:42.429 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:05:42.429 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:05:42.430 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:05:42.431 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:05:42.431 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:05:42.431 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:05:42.432 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:06:40.744 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:06:40.744 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:06:40.746 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:06:40.754 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:06:40.756 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:06:40.756 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:06:40.759 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 21:06:41.258 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:06:41.258 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:06:41.258 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:06:41.261 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 21:06:41.270 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:06:41.270 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:06:41.272 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:06:41.275 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:06:41.275 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:06:41.277 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:06:46.899 [http-nio-8080-exec-2] INFO  c.e.h.s.impl.BookingServiceImpl - 更新订单信息，ID: 24
2025-05-20 21:06:46.901 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.update - ==>  Preparing: UPDATE booking SET customer_id=?, room_id=?, checkin_date=?, checkout_date=?, status=?, total_price=?, payment_status=?, synced_to_finance=? WHERE id=?
2025-05-20 21:06:46.907 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.update - ==> Parameters: 3(Integer), 3(Integer), 2025-05-16 08:00:00.0(Timestamp), 2025-05-20 08:00:00.0(Timestamp), checked-in(String), 2000.0(Double), paid(String), null, 24(Integer)
2025-05-20 21:06:46.948 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.update - <==    Updates: 1
2025-05-20 21:06:46.948 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单更新成功: 24
2025-05-20 21:06:46.965 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:06:46.965 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:06:46.965 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:06:46.966 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 21:06:49.097 [http-nio-8080-exec-5] INFO  c.e.h.s.impl.BookingServiceImpl - 更新订单信息，ID: 25
2025-05-20 21:06:49.097 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.update - ==>  Preparing: UPDATE booking SET customer_id=?, room_id=?, checkin_date=?, checkout_date=?, status=?, total_price=?, payment_status=?, synced_to_finance=? WHERE id=?
2025-05-20 21:06:49.098 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.update - ==> Parameters: 4(Integer), 1(Integer), 2025-05-22 08:00:00.0(Timestamp), 2025-05-23 08:00:00.0(Timestamp), checked-in(String), 200.0(Double), paid(String), null, 25(Integer)
2025-05-20 21:06:49.099 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.update - <==    Updates: 1
2025-05-20 21:06:49.101 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单更新成功: 25
2025-05-20 21:06:49.110 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:06:49.110 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:06:49.110 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:06:49.111 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 21:06:54.021 [http-nio-8080-exec-7] INFO  c.e.h.s.impl.BookingServiceImpl - 更新订单信息，ID: 24
2025-05-20 21:06:54.021 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.update - ==>  Preparing: UPDATE booking SET customer_id=?, room_id=?, checkin_date=?, checkout_date=?, status=?, total_price=?, payment_status=?, synced_to_finance=? WHERE id=?
2025-05-20 21:06:54.022 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.update - ==> Parameters: 3(Integer), 3(Integer), 2025-05-16 08:00:00.0(Timestamp), 2025-05-20 08:00:00.0(Timestamp), checked-out(String), 2000.0(Double), paid(String), null, 24(Integer)
2025-05-20 21:06:54.027 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.update - <==    Updates: 1
2025-05-20 21:06:54.027 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单更新成功: 24
2025-05-20 21:06:54.059 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:06:54.059 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:06:54.060 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:06:54.062 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 21:07:04.152 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:07:04.153 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:07:04.153 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:07:04.153 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:07:04.154 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:07:04.154 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:07:04.155 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:07:04.157 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:07:04.158 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:07:04.159 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:07:04.160 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:07:04.162 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:07:04.163 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:07:04.163 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:07:04.165 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:07:04.165 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:07:04.165 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:07:04.167 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:07:04.256 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:07:04.257 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:07:04.258 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:07:04.258 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:07:04.258 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:07:04.261 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:07:04.261 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:07:04.261 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:07:04.263 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:07:04.263 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:07:04.263 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:07:04.264 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:07:04.265 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:07:04.265 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:07:04.267 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:07:05.606 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:07:05.606 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:07:05.606 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:07:05.607 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:07:05.607 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:07:05.610 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:07:05.610 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:07:05.610 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:07:05.610 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:05.611 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:05.613 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:05.613 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:05.614 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:07:05.615 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:05.616 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:05.616 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:05.617 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:05.618 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:05.618 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:05.619 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:05.620 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:05.620 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:07:05.620 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:05.620 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:05.621 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:07:05.622 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:05.622 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:07:05.622 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:07:05.623 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:07:15.936 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:07:15.936 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:07:15.936 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:07:15.937 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:07:15.938 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:07:15.940 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:07:15.940 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:07:15.940 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:07:15.940 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:15.941 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:15.942 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:15.942 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:15.942 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:07:15.944 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:15.944 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:15.944 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:15.945 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:15.946 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:15.946 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:15.947 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:15.947 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:15.947 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:07:15.947 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:15.947 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:15.947 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:07:15.948 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:15.948 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:07:15.948 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:07:15.955 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:07:20.599 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:07:20.599 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:07:20.600 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:07:20.600 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:07:20.600 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:07:20.601 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:07:20.602 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:07:20.602 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:07:20.602 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:20.602 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:20.602 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:20.603 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:20.603 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:07:20.604 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:20.605 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:20.605 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:20.607 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:20.607 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:20.607 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:20.609 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:20.609 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:20.610 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:07:20.611 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:20.611 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:20.612 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:07:20.613 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:20.614 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:07:20.614 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:07:20.615 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:07:25.829 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:07:25.829 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:07:25.829 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:07:25.829 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:07:25.829 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:07:25.832 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:07:25.832 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:07:25.832 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:07:25.832 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:25.833 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:25.833 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:25.833 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:25.834 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:07:25.834 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:25.835 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:25.835 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:25.835 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:25.836 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:25.836 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:25.836 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:25.836 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:25.836 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:07:25.837 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:25.837 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:25.837 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:07:25.837 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:25.837 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:07:25.837 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:07:25.838 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:07:33.432 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:07:33.433 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:07:33.433 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:07:33.433 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:07:33.433 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:07:33.435 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:07:33.435 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:07:33.435 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:07:33.435 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:33.435 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:33.438 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:33.438 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:33.438 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:07:33.439 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:33.439 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:33.439 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:33.441 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:33.441 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:33.442 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:33.443 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:33.443 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:33.443 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:07:33.444 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:33.445 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:33.445 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:07:33.445 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:33.446 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:07:33.446 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:07:33.448 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:07:40.964 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:07:40.965 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:07:40.966 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:07:40.968 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 21:07:43.824 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:07:43.824 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:07:43.824 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:07:43.825 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:07:43.826 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:07:43.828 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:07:43.828 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:07:43.828 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:07:43.828 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:43.828 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:43.830 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:43.830 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:43.830 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:07:43.831 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:43.831 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:43.831 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:43.832 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:43.833 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:43.833 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:43.834 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:43.834 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:43.834 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:07:43.835 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:43.835 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:43.835 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:07:43.836 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:43.837 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:07:43.837 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:07:43.837 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:07:46.882 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:07:46.883 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:07:46.883 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:07:46.883 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:07:46.883 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:07:46.885 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:07:46.885 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:07:46.885 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:07:46.885 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:46.885 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:46.886 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:46.886 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:46.886 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:07:46.888 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:46.888 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:46.888 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:46.889 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:46.889 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:46.889 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:46.890 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:46.890 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:46.890 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:07:46.891 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:46.891 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:46.891 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:07:46.891 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:46.891 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:07:46.892 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:07:46.893 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:07:50.255 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:07:50.255 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:07:50.255 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:07:50.256 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:07:50.256 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:07:50.257 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:07:50.257 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:07:50.257 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:07:50.258 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:50.258 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:50.260 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:50.260 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:50.260 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:07:50.261 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:50.261 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:50.261 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:50.261 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:50.262 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:50.262 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:50.262 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:50.262 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:50.262 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:07:50.263 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:50.263 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:50.264 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:07:50.264 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:50.264 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:07:50.264 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:07:50.265 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:07:52.205 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:07:52.205 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:07:52.205 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:07:52.206 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:07:52.206 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:07:52.207 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:07:52.207 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:07:52.207 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:07:52.207 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:52.207 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:52.207 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:52.207 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:52.207 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:07:52.208 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:52.208 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:52.208 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:52.210 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:52.211 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:52.211 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:07:52.213 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:52.213 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:52.213 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:07:52.214 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:52.214 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:07:52.214 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:07:52.218 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:07:52.219 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:07:52.219 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:07:52.222 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:08:42.219 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:08:42.219 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:08:42.219 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:08:42.219 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:08:42.219 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:08:42.221 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:08:42.221 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:08:42.221 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:08:42.221 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:08:42.221 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:08:42.222 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:08:42.222 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:08:42.222 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:08:42.222 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:08:42.222 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:08:42.222 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:08:42.224 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:08:42.224 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:08:42.224 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:08:42.225 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:08:42.225 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:08:42.225 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:08:42.225 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:08:42.225 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:08:42.225 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:08:42.226 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:08:42.226 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:08:42.226 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:08:42.227 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:08:56.910 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:08:56.910 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:08:56.910 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:08:56.910 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:08:56.910 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:08:56.912 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:08:56.912 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:08:56.912 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:08:56.912 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:08:56.912 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:08:56.913 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:08:56.913 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:08:56.913 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:08:56.914 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:08:56.914 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:08:56.914 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:08:56.916 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:08:56.916 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:08:56.916 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:08:56.919 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:08:56.919 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:08:56.919 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:08:56.920 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:08:56.921 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:08:56.921 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:08:56.922 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:08:56.922 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:08:56.923 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:08:56.924 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:09:17.897 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:09:17.897 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:09:17.897 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:09:17.898 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:09:17.898 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:09:17.899 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:09:17.899 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:09:17.899 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:09:17.899 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:09:17.899 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:09:17.900 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:09:17.900 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:09:17.900 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:09:17.900 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:09:17.901 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:09:17.901 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:09:17.901 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:09:17.901 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:09:17.901 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:09:17.901 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:09:17.901 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:09:17.902 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:09:17.902 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:09:17.902 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:09:17.902 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:09:17.903 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:09:17.903 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:09:17.903 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:09:17.904 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:09:41.993 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:09:41.993 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:09:41.993 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:09:41.994 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:09:41.994 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:09:41.996 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:09:41.996 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:09:41.996 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:09:41.996 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:09:41.996 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:09:41.996 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:09:41.997 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:09:41.997 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:09:41.998 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:09:41.998 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:09:41.998 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:09:41.999 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:09:41.999 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:09:41.999 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:09:41.999 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:09:42.000 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:09:42.000 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:09:42.001 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:09:42.001 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:09:42.002 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:09:42.003 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:09:42.003 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:09:42.003 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:09:42.004 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:12:29.315 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:12:29.315 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:12:29.315 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:12:29.316 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:12:29.316 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:12:29.317 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:12:29.317 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:12:29.317 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:12:29.317 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:12:29.317 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:12:29.319 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:12:29.320 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:12:29.320 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:12:29.322 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:12:29.323 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:12:29.323 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:12:29.324 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:12:29.324 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:12:29.325 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:12:29.327 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:12:29.328 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:12:29.328 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:12:29.329 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:12:29.330 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:12:29.330 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:12:29.332 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:12:29.332 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:12:29.333 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:12:29.334 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:12:32.117 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:12:32.117 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 21:12:32.117 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:12:32.117 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:12:32.117 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:12:32.119 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:12:32.119 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:12:32.119 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:12:32.121 [http-nio-8080-exec-7] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor110.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 21:12:32.152 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:12:32.152 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:12:32.152 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:12:32.153 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 21:12:32.170 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:12:32.170 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:12:32.170 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:12:32.171 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:12:32.172 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:12:32.172 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:12:32.172 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:12:32.173 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:12:32.174 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 21:12:32.174 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 21:12:32.175 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 21:12:32.175 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:12:32.176 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:12:32.177 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:12:32.204 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:12:32.205 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:12:32.205 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:12:32.208 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:12:32.229 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:12:32.229 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:12:32.229 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:12:32.232 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:12:32.232 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:12:32.232 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:12:32.233 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:12:32.234 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:12:32.234 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:12:32.236 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:12:32.237 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:12:32.237 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:12:32.239 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:12:32.239 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:12:32.239 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:12:32.240 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:12:32.240 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:12:32.241 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:12:32.242 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:12:32.242 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:12:32.243 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:12:32.244 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:12:32.268 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:12:32.268 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:12:32.268 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:12:32.271 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:12:32.271 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:12:32.271 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:12:32.274 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:12:32.304 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:12:32.304 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:12:32.305 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:13:43.213 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:13:43.213 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:13:43.213 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:13:43.213 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:13:43.213 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:13:43.215 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:13:43.215 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:13:43.215 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:13:43.216 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:13:43.216 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:13:43.217 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:13:43.217 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:13:43.217 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:13:43.218 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:13:43.218 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:13:43.218 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:13:43.219 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:13:43.219 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:13:43.219 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:13:43.220 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:13:43.220 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:13:43.220 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:13:43.221 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:13:43.222 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:13:43.222 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:13:43.222 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:13:43.222 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:13:43.222 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:13:43.223 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:13:55.437 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:13:55.437 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 21:13:55.437 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:13:55.437 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:13:55.437 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:13:55.440 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:13:55.441 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:13:55.441 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:13:55.442 [http-nio-8080-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor110.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 21:13:55.469 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:13:55.470 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:13:55.470 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:13:55.473 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 21:13:55.487 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:13:55.487 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:13:55.487 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:13:55.489 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:13:55.489 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:13:55.489 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:13:55.489 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:13:55.490 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:13:55.490 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 21:13:55.491 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 21:13:55.491 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 21:13:55.491 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:13:55.491 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:13:55.492 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:13:55.510 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:13:55.511 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:13:55.511 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:13:55.514 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:13:55.536 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:13:55.537 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:13:55.537 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:13:55.538 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:13:55.538 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:13:55.539 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:13:55.540 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:13:55.540 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:13:55.541 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:13:55.543 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:13:55.543 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:13:55.543 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:13:55.544 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:13:55.545 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:13:55.545 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:13:55.545 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:13:55.545 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:13:55.546 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:13:55.546 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:13:55.546 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:13:55.546 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:13:55.547 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:13:55.567 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:13:55.567 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:13:55.567 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:13:55.568 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:13:55.568 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:13:55.568 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:13:55.569 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:13:55.592 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:13:55.592 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:13:55.593 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:13:58.116 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:13:58.116 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:13:58.116 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:13:58.117 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:13:58.117 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:13:58.118 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:13:58.119 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:13:58.119 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:13:58.119 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:13:58.119 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:13:58.121 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:13:58.122 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:13:58.122 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:13:58.123 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:13:58.124 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:13:58.124 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:13:58.125 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:13:58.126 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:13:58.126 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:13:58.127 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:13:58.127 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:13:58.127 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:13:58.129 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:13:58.129 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:13:58.129 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:13:58.131 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:13:58.131 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:13:58.132 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:13:58.133 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:14:07.228 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:14:07.228 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:14:07.228 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:14:07.228 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:14:07.229 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:14:07.230 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:14:07.230 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:14:07.230 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:14:07.230 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:07.230 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:14:07.232 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:07.232 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:07.233 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:14:07.233 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:07.234 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:07.234 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:14:07.234 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:07.234 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:07.235 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:14:07.235 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:07.235 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:07.236 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:14:07.237 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:07.237 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:07.237 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:14:07.238 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:07.238 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:14:07.238 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:14:07.240 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:14:18.964 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:14:18.964 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:14:18.964 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:14:18.965 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:14:18.965 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:14:18.967 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:14:18.967 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:14:18.967 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:14:18.968 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:18.968 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:14:18.969 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:18.969 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:18.970 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:14:18.972 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:18.973 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:18.973 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:14:18.974 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:18.975 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:18.975 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:14:18.976 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:18.976 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:18.976 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:14:18.977 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:18.977 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:18.977 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:14:18.980 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:18.980 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:14:18.980 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:14:18.981 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:14:27.390 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:14:27.391 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:14:27.391 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:14:27.391 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:14:27.392 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:14:27.393 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:14:27.393 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:14:27.393 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:14:27.393 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:27.393 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:14:27.394 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:27.394 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:27.394 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:14:27.396 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:27.396 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:27.396 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:14:27.398 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:27.398 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:27.398 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:14:27.398 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:27.399 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:27.399 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:14:27.400 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:27.400 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:27.400 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:14:27.400 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:27.400 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:14:27.401 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:14:27.402 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:14:30.918 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:14:30.918 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:14:30.918 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:14:30.919 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:14:30.919 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:14:30.922 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:14:30.923 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:14:30.923 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:14:30.923 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:30.923 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:14:30.925 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:30.925 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:30.925 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:14:30.926 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:30.926 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:30.926 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:14:30.927 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:30.927 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:30.927 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:14:30.927 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:30.927 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:30.927 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:14:30.928 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:30.928 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:30.928 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:14:30.930 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:30.930 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:14:30.930 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:14:30.933 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:14:31.163 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:14:31.163 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:14:31.163 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:14:31.163 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:14:31.164 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:14:31.167 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:14:31.167 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:14:31.168 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:14:31.168 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:31.168 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:14:31.172 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:31.172 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:31.172 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:14:31.175 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:31.175 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:31.175 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:14:31.176 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:31.176 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:31.176 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:14:31.178 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:31.178 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:31.178 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:14:31.180 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:31.180 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:31.180 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:14:31.182 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:31.183 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:14:31.183 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:14:31.187 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:14:35.231 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:14:35.232 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:14:35.233 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:14:35.233 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:14:35.233 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:14:35.235 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:14:35.236 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:14:35.236 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:14:35.236 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:35.236 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:14:35.236 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:35.237 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:35.237 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:14:35.237 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:35.237 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:35.238 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:14:35.239 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:35.239 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:35.239 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:14:35.239 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:35.239 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:35.239 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:14:35.240 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:35.241 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:14:35.241 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:14:35.241 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:14:35.241 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:14:35.242 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:14:35.243 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:15:14.590 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:15:14.590 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:15:14.590 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:15:14.591 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:15:14.591 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:15:14.593 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:15:14.594 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:15:14.595 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:15:14.595 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:15:14.595 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:15:14.596 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:15:14.596 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:15:14.597 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:15:14.598 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:15:14.598 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:15:14.598 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:15:14.599 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:15:14.599 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:15:14.600 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:15:14.601 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:15:14.601 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:15:14.601 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:15:14.602 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:15:14.602 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:15:14.602 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:15:14.603 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:15:14.603 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:15:14.603 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:15:14.605 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:15:18.999 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:15:18.999 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:15:18.999 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:15:19.000 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:15:19.000 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:15:19.001 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:15:19.001 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:15:19.002 [http-nio-8080-exec-10] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:15:19.002 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:15:19.002 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:15:19.002 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:15:19.003 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:15:19.003 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:15:19.003 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:15:19.003 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:15:19.003 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:15:19.004 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:15:19.004 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:15:19.004 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:15:19.004 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:15:19.004 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:15:19.004 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:15:19.006 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:15:19.006 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:15:19.007 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:15:19.008 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:15:19.008 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:15:19.009 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:15:19.009 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:16:37.703 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:16:37.703 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:16:37.703 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:16:37.704 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:16:37.704 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:16:37.706 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:16:37.706 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:16:37.706 [http-nio-8080-exec-3] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:16:37.706 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:16:37.706 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:16:37.707 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:16:37.707 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:16:37.707 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:16:37.709 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:16:37.709 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:16:37.709 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:16:37.709 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:16:37.709 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:16:37.709 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:16:37.710 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:16:37.710 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:16:37.710 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:16:37.711 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:16:37.711 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:16:37.711 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:16:37.711 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:16:37.712 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:16:37.712 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:16:37.713 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:16:51.798 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:16:51.798 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:16:51.798 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:16:51.799 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:16:51.799 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:16:51.800 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:16:51.800 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:16:51.800 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:16:51.800 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:16:51.800 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:16:51.802 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:16:51.802 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:16:51.802 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:16:51.803 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:16:51.803 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:16:51.803 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:16:51.804 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:16:51.804 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:16:51.804 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:16:51.804 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:16:51.805 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:16:51.805 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:16:51.805 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:16:51.805 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:16:51.805 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:16:51.806 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:16:51.806 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:16:51.806 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:16:51.807 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:16:56.067 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:16:56.067 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:16:56.067 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:16:56.068 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:16:56.068 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:16:56.069 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:16:56.069 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:16:56.069 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:16:56.069 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:16:56.069 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:16:56.069 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:16:56.069 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:16:56.069 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:16:56.070 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:16:56.070 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:16:56.070 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:16:56.071 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:16:56.071 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:16:56.071 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:16:56.071 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:16:56.071 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:16:56.071 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:16:56.072 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:16:56.072 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:16:56.072 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:16:56.073 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:16:56.073 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:16:56.073 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:16:56.074 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:16:58.569 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:16:58.569 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:16:58.570 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:16:58.571 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:16:58.571 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:16:58.572 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:16:58.572 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:16:58.572 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:16:58.573 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:16:58.573 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:16:58.574 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:16:58.575 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:16:58.575 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:16:58.576 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:16:58.576 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:16:58.576 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:16:58.576 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:16:58.576 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:16:58.576 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:16:58.577 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:16:58.577 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:16:58.577 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:16:58.578 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:16:58.578 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:16:58.578 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:16:58.579 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:16:58.579 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:16:58.579 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:16:58.579 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:17:02.840 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:17:02.841 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:17:02.841 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:17:02.841 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:17:02.841 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:17:02.844 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:17:02.844 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:17:02.844 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:17:02.844 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:17:02.844 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:17:02.846 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:17:02.846 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:17:02.846 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:17:02.846 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:17:02.846 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:17:02.846 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:17:02.847 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:17:02.847 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:17:02.847 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:17:02.848 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:17:02.848 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:17:02.848 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:17:02.848 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:17:02.848 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:17:02.848 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:17:02.849 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:17:02.849 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:17:02.849 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:17:02.849 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:17:11.287 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:17:11.287 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:17:11.287 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:17:11.287 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:17:11.287 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:17:11.289 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:17:11.290 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:17:11.290 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:17:11.290 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:17:11.290 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:17:11.291 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:17:11.291 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:17:11.291 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:17:11.292 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:17:11.293 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:17:11.293 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:17:11.293 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:17:11.294 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:17:11.294 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:17:11.295 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:17:11.295 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:17:11.295 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:17:11.295 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:17:11.295 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:17:11.296 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:17:11.296 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:17:11.297 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:17:11.297 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:17:11.299 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:17:20.801 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:17:20.801 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:17:20.802 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:17:20.803 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:17:20.803 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:17:20.803 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:17:20.805 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 21:17:21.626 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:17:21.626 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:17:21.627 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:17:21.632 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 21:17:21.648 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:21.648 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:21.648 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:17:21.648 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:17:21.650 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:17:21.652 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:22.894 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:22.894 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:22.896 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:22.897 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:22.897 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:22.898 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:22.898 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:22.898 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:22.900 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:22.902 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:22.902 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:22.904 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:22.905 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:22.905 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:22.906 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:22.907 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:22.907 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:22.909 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:22.916 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:22.916 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:22.918 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:22.919 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:22.919 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:22.920 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:22.921 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:22.921 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:22.923 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:22.923 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:22.923 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:22.925 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:22.925 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:22.926 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:22.928 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:23.823 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:17:23.824 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:17:23.824 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:17:23.827 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 21:17:23.828 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:23.828 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:23.831 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:23.836 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:17:23.836 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:17:23.839 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:17:29.456 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:29.456 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:29.457 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:29.467 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:29.467 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:29.470 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:29.470 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:29.470 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:29.473 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:29.473 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:29.473 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:29.475 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:29.476 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:29.476 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:29.477 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:29.477 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:29.477 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:29.479 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:29.488 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:29.488 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:29.492 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:29.493 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:29.493 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:29.494 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:29.496 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:29.496 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:29.499 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:29.500 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:29.500 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:29.503 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:29.503 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:29.503 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:29.506 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:34.651 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:17:34.651 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:17:34.652 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:17:34.654 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 21:17:34.655 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:34.655 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:34.656 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:34.658 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:17:34.658 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:17:34.659 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:17:36.131 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:36.132 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:36.134 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:36.140 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:36.140 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:36.143 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:36.143 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:36.143 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:36.145 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:36.146 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:36.146 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:36.147 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:36.147 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:36.147 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:36.149 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:36.149 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:36.149 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:36.151 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:36.164 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:36.164 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:36.166 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:36.167 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:36.167 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:36.170 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:36.172 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:36.172 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:36.173 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:36.174 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:36.174 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:36.175 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:17:36.176 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:17:36.176 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:17:36.177 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:18:11.560 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:18:11.560 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:18:11.560 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:18:11.562 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:18:11.562 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:18:11.564 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:18:11.564 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:18:11.565 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:18:11.565 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:18:11.565 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:18:11.566 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:18:11.566 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:18:11.567 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:18:11.569 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:18:11.569 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:18:11.569 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:18:11.570 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:18:11.570 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:18:11.571 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:18:11.571 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:18:11.571 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:18:11.571 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:18:11.572 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:18:11.572 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:18:11.572 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:18:11.573 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:18:11.574 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:18:11.574 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:18:11.575 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:18:20.965 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:18:20.965 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:18:20.966 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:18:20.968 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 21:19:20.959 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:19:20.960 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:19:20.961 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:19:20.963 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 21:20:20.964 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:20:20.964 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:20:20.964 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:20:20.967 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 21:21:20.784 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:21:20.784 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:21:20.784 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:21:20.787 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 21:22:02.844 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:22:02.844 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:22:02.844 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:22:02.845 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:22:02.845 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:22:02.848 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:22:02.848 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:22:02.848 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:22:02.848 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:22:02.848 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:22:02.849 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:22:02.849 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:22:02.850 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:22:02.850 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:22:02.850 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:22:02.850 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:22:02.851 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:22:02.851 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:22:02.851 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:22:02.851 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:22:02.851 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:22:02.851 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:22:02.853 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:22:02.853 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:22:02.853 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:22:02.853 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:22:02.854 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:22:02.854 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:22:02.855 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:22:18.331 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:22:18.331 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:22:18.331 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:22:18.332 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:22:18.332 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:22:18.334 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:22:18.334 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:22:18.334 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:22:18.334 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:22:18.334 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:22:18.335 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:22:18.336 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:22:18.336 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:22:18.338 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:22:18.338 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:22:18.338 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:22:18.339 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:22:18.339 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:22:18.339 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:22:18.340 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:22:18.340 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:22:18.340 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:22:18.341 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:22:18.341 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:22:18.341 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:22:18.342 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:22:18.342 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:22:18.342 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:22:18.343 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:22:20.771 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:22:20.772 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:22:20.772 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:22:20.776 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 21:22:58.175 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:22:58.175 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:22:58.175 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:22:58.175 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:22:58.175 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:22:58.176 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:22:58.176 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:22:58.176 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:22:58.178 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:22:58.178 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:22:58.178 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:22:58.178 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:22:58.178 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:22:58.179 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:22:58.179 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:22:58.179 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:22:58.180 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:22:58.180 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:22:58.180 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:22:58.181 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:22:58.181 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:22:58.181 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:22:58.181 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:22:58.181 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:22:58.181 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:22:58.182 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:22:58.182 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:22:58.182 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:22:58.183 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:23:04.262 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:23:04.262 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:23:04.262 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:23:04.262 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:23:04.262 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:23:04.263 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:23:04.263 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:23:04.263 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:23:04.263 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:23:04.263 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:23:04.265 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:23:04.265 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:23:04.265 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:23:04.266 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:23:04.266 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:23:04.266 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:23:04.266 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:23:04.267 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:23:04.267 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:23:04.268 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:23:04.268 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:23:04.268 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:23:04.271 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:23:04.271 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:23:04.272 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:23:04.273 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:23:04.273 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:23:04.273 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:23:04.275 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:38:06.972 [http-nio-8080-exec-7] DEBUG c.e.h.m.AdminMapper.findByUsername - ==>  Preparing: SELECT * FROM admin WHERE username = ?
2025-05-20 21:38:06.972 [http-nio-8080-exec-7] DEBUG c.e.h.m.AdminMapper.findByUsername - ==> Parameters: admin(String)
2025-05-20 21:38:06.979 [http-nio-8080-exec-7] DEBUG c.e.h.m.AdminMapper.findByUsername - <==      Total: 1
2025-05-20 21:38:07.037 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:38:07.037 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:38:07.041 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:38:07.041 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:38:07.042 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:38:07.042 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:38:07.045 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:38:07.103 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:38:07.103 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:38:07.103 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:38:07.105 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:38:07.105 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:38:07.105 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:38:07.105 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:38:07.106 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:38:07.120 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:38:07.120 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:38:07.125 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:38:07.125 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:38:07.126 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:38:07.126 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:38:07.142 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:38:07.142 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:38:07.142 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:38:07.143 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:38:07.143 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:38:07.143 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:38:07.143 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:38:07.144 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:38:07.144 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 21:38:07.144 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 21:38:07.146 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 21:38:07.147 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:38:07.147 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:38:07.148 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:38:07.168 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:38:07.168 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:38:07.169 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:38:07.169 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:38:07.169 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:38:07.169 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:38:07.170 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:38:07.170 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:38:07.170 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:38:07.170 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:38:07.171 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:38:07.171 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:38:07.171 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:38:07.171 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:38:07.171 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:38:07.172 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:38:07.172 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:38:07.172 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:38:07.172 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:38:07.172 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:38:07.172 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:38:07.172 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:38:07.172 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:38:07.172 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:38:07.173 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:38:07.173 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:38:07.173 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:38:07.173 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:38:07.173 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:38:07.173 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:38:07.175 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:38:07.185 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:38:07.186 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:38:07.186 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:38:07.186 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:38:07.186 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:38:07.186 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:38:07.188 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:38:07.188 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:38:07.188 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:38:07.189 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:38:07.189 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:38:07.189 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:38:07.190 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:38:07.190 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:38:07.190 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:38:07.190 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:38:07.190 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:38:07.190 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:38:07.191 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:38:07.191 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:38:07.191 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:38:07.191 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:38:07.205 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:38:07.205 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:38:07.205 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:38:07.206 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:38:07.206 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:38:07.206 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:38:07.208 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:38:08.758 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:38:08.758 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:38:08.758 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:38:08.760 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:38:08.760 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:38:08.762 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:38:08.762 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:38:08.763 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:38:08.763 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:38:08.763 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:38:08.764 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:38:08.764 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:38:08.764 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:38:08.767 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:38:08.767 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:38:08.767 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:38:08.769 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:38:08.769 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:38:08.769 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:38:08.769 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:38:08.770 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:38:08.770 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:38:08.770 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:38:08.770 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:38:08.771 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:38:08.771 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:38:08.771 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:38:08.772 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:38:08.782 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:38:14.271 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:38:14.272 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 开始日期: Tue May 20 00:00:00 CST 2025, 结束日期: Tue May 20 00:00:00 CST 2025
2025-05-20 21:38:14.272 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:38:14.272 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:38:14.273 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:38:14.274 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:38:14.275 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:38:14.275 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:38:14.276 [http-nio-8080-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'startDate' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at com.sun.proxy.$Proxy90.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy103.findByDateRange(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor110.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy104.findByDateRange(Unknown Source)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl.getExpensesByDateRange(ExpenseServiceImpl.java:66)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$602cae8a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.hotelmanagement.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9b3ad7bb.getExpensesByDateRange(<generated>)
	at com.example.hotelmanagement.controller.FinanceController.getFinanceDetails(FinanceController.java:170)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2025-05-20 21:38:14.299 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:38:14.299 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:38:14.299 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:38:14.302 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 21:38:14.313 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:38:14.314 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:38:14.314 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:38:14.314 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:38:14.314 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:38:14.314 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:38:14.314 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:38:14.316 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:38:14.316 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 21:38:14.316 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 21:38:14.316 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 21:38:14.317 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:38:14.317 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:38:14.317 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:38:14.326 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:38:14.327 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:38:14.327 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:38:14.328 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:38:14.345 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:38:14.345 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:38:14.346 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:38:14.348 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:38:14.348 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:38:14.348 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:38:14.348 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:38:14.349 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:38:14.349 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:38:14.349 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:38:14.350 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:38:14.350 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:38:14.351 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:38:14.351 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:38:14.351 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:38:14.352 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:38:14.352 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:38:14.352 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:38:14.353 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:38:14.353 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:38:14.353 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:38:14.354 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:38:14.376 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:38:14.376 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:38:14.376 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:38:14.377 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:38:14.377 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:38:14.377 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:38:14.378 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:38:14.396 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:38:14.396 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:38:14.397 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:38:16.774 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:38:16.774 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:38:16.774 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:38:16.774 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:38:16.774 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:38:16.776 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:38:16.776 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:38:16.776 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:38:16.776 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:38:16.776 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:38:16.777 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:38:16.777 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:38:16.777 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:38:16.778 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:38:16.778 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:38:16.778 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:38:16.778 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:38:16.778 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:38:16.778 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:38:16.779 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:38:16.779 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:38:16.779 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:38:16.780 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:38:16.780 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:38:16.780 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:38:16.781 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:38:16.781 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:38:16.781 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:38:16.783 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:39:03.422 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 

=================== 获取财务详情 ===================
2025-05-20 21:39:03.422 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 开始日期: null, 结束日期: null
2025-05-20 21:39:03.422 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:39:03.423 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:39:03.423 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:39:03.424 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:39:03.424 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 获取到 6 条预订记录
2025-05-20 21:39:03.424 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 筛选出 6 条已付款预订
2025-05-20 21:39:03.424 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:39:03.424 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:39:03.425 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:39:03.425 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:39:03.425 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:39:03.426 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:39:03.426 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:39:03.426 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:39:03.426 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:39:03.426 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:39:03.426 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:39:03.426 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:39:03.426 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:39:03.428 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:39:03.428 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:39:03.429 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:39:03.429 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:39:03.429 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:39:03.429 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:39:03.429 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:39:03.430 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:46:29.421 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 21:46:29.432 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-20 21:46:29.440 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-20 21:46:37.514 [main] INFO  c.e.h.HotelManagementApplication - Starting HotelManagementApplication using Java 1.8.0_331 on LAPTOP-6LBVHJ60 with PID 7352 (D:\LearnProject\HotelManagement\target\classes started by 815101909 in D:\LearnProject\HotelManagement)
2025-05-20 21:46:37.516 [main] DEBUG c.e.h.HotelManagementApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-05-20 21:46:37.517 [main] INFO  c.e.h.HotelManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-20 21:46:38.034 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-20 21:46:38.049 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 JPA repository interfaces.
2025-05-20 21:46:38.441 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-20 21:46:38.442 [main] INFO  o.a.c.core.AprLifecycleListener - An older version [1.2.35] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.38]
2025-05-20 21:46:38.442 [main] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.35] using APR version [1.7.0].
2025-05-20 21:46:38.442 [main] INFO  o.a.c.core.AprLifecycleListener - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-20 21:46:38.442 [main] INFO  o.a.c.core.AprLifecycleListener - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-20 21:46:38.458 [main] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1q  5 Jul 2022]
2025-05-20 21:46:38.464 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-05-20 21:46:38.466 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-20 21:46:38.466 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-05-20 21:46:38.619 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-20 21:46:38.619 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1070 ms
2025-05-20 21:46:38.696 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-20 21:46:42.437 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-20 21:46:42.551 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-20 21:46:42.615 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-05-20 21:46:42.800 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-20 21:46:42.925 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-20 21:46:43.092 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-20 21:46:43.108 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 21:46:43.397 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 初始化订单表结构...
2025-05-20 21:46:43.425 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - payment_status字段已存在
2025-05-20 21:46:43.428 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - synced_to_finance字段已存在
2025-05-20 21:46:43.428 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 订单表结构初始化完成
2025-05-20 21:46:43.540 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-20 21:46:43.941 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-05-20 21:46:43.969 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-20 21:46:43.983 [main] INFO  c.e.h.HotelManagementApplication - Started HotelManagementApplication in 6.811 seconds (JVM running for 10.715)
2025-05-20 21:47:43.139 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-20 21:47:43.139 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-20 21:47:43.141 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-05-20 21:47:43.248 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到0条收入记录
2025-05-20 21:47:43.332 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:47:43.343 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:47:43.358 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:47:43.427 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:47:43.427 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:47:43.427 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:47:43.442 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:47:43.460 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:47:43.460 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:47:43.460 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:47:43.463 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:47:43.464 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:47:43.464 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:47:43.466 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:47:43.467 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:47:43.467 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:47:43.468 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:47:43.468 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:47:43.468 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:47:43.469 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:47:43.470 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:47:43.470 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:47:43.472 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:47:43.472 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:47:43.472 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:47:43.473 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:47:43.474 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:47:43.474 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:47:43.475 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:47:43.496 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:47:43.496 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:47:43.497 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:47:43.501 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:47:43.502 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:47:43.502 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:47:43.504 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:49:51.722 [main] INFO  c.e.h.HotelManagementApplication - Starting HotelManagementApplication using Java 1.8.0_331 on LAPTOP-6LBVHJ60 with PID 14452 (D:\LearnProject\HotelManagement\target\classes started by 815101909 in D:\LearnProject\HotelManagement)
2025-05-20 21:49:51.724 [main] DEBUG c.e.h.HotelManagementApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-05-20 21:49:51.724 [main] INFO  c.e.h.HotelManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-20 21:49:52.263 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-20 21:49:52.291 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.
2025-05-20 21:49:52.683 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-20 21:49:52.684 [main] INFO  o.a.c.core.AprLifecycleListener - An older version [1.2.35] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.38]
2025-05-20 21:49:52.684 [main] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.35] using APR version [1.7.0].
2025-05-20 21:49:52.684 [main] INFO  o.a.c.core.AprLifecycleListener - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-20 21:49:52.685 [main] INFO  o.a.c.core.AprLifecycleListener - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-20 21:49:52.695 [main] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1q  5 Jul 2022]
2025-05-20 21:49:52.700 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-05-20 21:49:52.701 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-20 21:49:52.701 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-05-20 21:49:52.849 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-20 21:49:52.849 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1091 ms
2025-05-20 21:49:52.914 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-20 21:49:59.601 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-20 21:49:59.792 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-20 21:49:59.891 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-05-20 21:50:00.181 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-20 21:50:00.410 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-20 21:50:00.695 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-20 21:50:00.713 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 21:50:01.103 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 初始化订单表结构...
2025-05-20 21:50:01.139 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - payment_status字段已存在
2025-05-20 21:50:01.141 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - synced_to_finance字段已存在
2025-05-20 21:50:01.141 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 订单表结构初始化完成
2025-05-20 21:50:01.278 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-20 21:50:01.901 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-05-20 21:50:01.941 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-20 21:50:01.975 [main] INFO  c.e.h.HotelManagementApplication - Started HotelManagementApplication in 10.534 seconds (JVM running for 14.382)
2025-05-20 21:50:02.872 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-20 21:50:02.872 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-20 21:50:02.873 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-20 21:50:03.046 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到0条收入记录
2025-05-20 21:50:03.182 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:50:03.195 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:50:03.219 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:50:03.307 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:50:03.307 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:50:03.308 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:50:03.314 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:50:03.339 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:50:03.340 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:50:03.340 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:50:03.345 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:50:03.346 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:50:03.347 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:50:03.350 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:50:03.352 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:50:03.352 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:50:03.354 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:50:03.354 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:50:03.355 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:50:03.357 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:50:03.358 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:50:03.358 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:50:03.360 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:50:03.361 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:50:03.361 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:50:03.364 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:50:03.364 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:50:03.365 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:50:03.366 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:50:03.386 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:50:03.387 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:50:03.387 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:50:03.394 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 6
2025-05-20 21:50:03.395 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:50:03.395 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:50:03.397 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:50:20.826 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:50:20.827 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:50:20.828 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:50:20.831 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:50:20.831 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:50:20.836 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 21:50:20.836 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:50:22.947 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:50:22.947 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:50:22.947 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:50:22.948 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:50:22.952 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:50:22.956 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:50:22.957 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:50:22.958 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:50:22.963 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:50:22.972 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:50:22.973 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:50:22.975 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:50:22.976 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:50:22.977 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:50:22.979 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:50:22.980 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:50:22.980 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:50:22.983 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:50:22.996 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:50:22.996 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:50:22.998 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:50:22.999 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:50:22.999 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:50:23.002 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:50:23.004 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:50:23.004 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:50:23.006 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:50:23.006 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:50:23.006 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:50:23.008 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:50:23.008 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:50:23.008 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:50:23.010 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:50:23.444 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:50:23.445 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:50:23.445 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:50:23.446 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:50:23.446 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:50:23.446 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:50:23.446 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:50:23.448 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:50:23.449 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 6
2025-05-20 21:50:23.451 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:50:35.510 [http-nio-8080-exec-6] INFO  c.e.h.s.impl.BookingServiceImpl - 删除订单，ID: 25
2025-05-20 21:50:35.511 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.delete - ==>  Preparing: DELETE FROM booking WHERE id=?
2025-05-20 21:50:35.512 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.delete - ==> Parameters: 25(Integer)
2025-05-20 21:50:35.518 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.delete - <==    Updates: 1
2025-05-20 21:50:35.518 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单删除成功: 25
2025-05-20 21:50:35.536 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:50:35.537 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:50:35.537 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:50:35.547 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 21:50:36.995 [http-nio-8080-exec-3] INFO  c.e.h.s.impl.BookingServiceImpl - 删除订单，ID: 24
2025-05-20 21:50:36.997 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.delete - ==>  Preparing: DELETE FROM booking WHERE id=?
2025-05-20 21:50:36.997 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.delete - ==> Parameters: 24(Integer)
2025-05-20 21:50:37.000 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.delete - <==    Updates: 1
2025-05-20 21:50:37.000 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单删除成功: 24
2025-05-20 21:50:37.016 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:50:37.016 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:50:37.017 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:50:37.018 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 4
2025-05-20 21:50:38.722 [http-nio-8080-exec-8] INFO  c.e.h.s.impl.BookingServiceImpl - 删除订单，ID: 18
2025-05-20 21:50:38.723 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.delete - ==>  Preparing: DELETE FROM booking WHERE id=?
2025-05-20 21:50:38.724 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.delete - ==> Parameters: 18(Integer)
2025-05-20 21:50:38.727 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.delete - <==    Updates: 1
2025-05-20 21:50:38.727 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单删除成功: 18
2025-05-20 21:50:38.740 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:50:38.741 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:50:38.741 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:50:38.743 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 3
2025-05-20 21:50:40.101 [http-nio-8080-exec-10] INFO  c.e.h.s.impl.BookingServiceImpl - 删除订单，ID: 5
2025-05-20 21:50:40.102 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.delete - ==>  Preparing: DELETE FROM booking WHERE id=?
2025-05-20 21:50:40.102 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.delete - ==> Parameters: 5(Integer)
2025-05-20 21:50:40.109 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.delete - <==    Updates: 1
2025-05-20 21:50:40.109 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单删除成功: 5
2025-05-20 21:50:40.128 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:50:40.128 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:50:40.129 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:50:40.131 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 2
2025-05-20 21:50:42.292 [http-nio-8080-exec-1] INFO  c.e.h.s.impl.BookingServiceImpl - 删除订单，ID: 3
2025-05-20 21:50:42.294 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.delete - ==>  Preparing: DELETE FROM booking WHERE id=?
2025-05-20 21:50:42.295 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.delete - ==> Parameters: 3(Integer)
2025-05-20 21:50:42.297 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.delete - <==    Updates: 1
2025-05-20 21:50:42.297 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单删除成功: 3
2025-05-20 21:50:42.315 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:50:42.316 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:50:42.316 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:50:42.319 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 1
2025-05-20 21:50:44.301 [http-nio-8080-exec-6] INFO  c.e.h.s.impl.BookingServiceImpl - 删除订单，ID: 1
2025-05-20 21:50:44.302 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.delete - ==>  Preparing: DELETE FROM booking WHERE id=?
2025-05-20 21:50:44.302 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.delete - ==> Parameters: 1(Integer)
2025-05-20 21:50:44.310 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.delete - <==    Updates: 1
2025-05-20 21:50:44.311 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单删除成功: 1
2025-05-20 21:50:44.324 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:50:44.324 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:50:44.324 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:50:44.326 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 0
2025-05-20 21:50:45.859 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:50:45.859 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:50:45.859 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:50:45.859 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:50:45.860 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:50:45.861 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:50:45.861 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:50:45.861 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:50:45.864 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:50:45.865 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:50:45.865 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:50:45.868 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:50:45.868 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:50:45.868 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:50:45.870 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:50:45.870 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:50:45.871 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:50:45.873 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:50:45.880 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:50:45.880 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:50:45.883 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:50:45.884 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:50:45.885 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:50:45.888 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:50:45.888 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:50:45.889 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:50:45.891 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:50:45.891 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:50:45.891 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:50:45.893 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:50:45.893 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:50:45.893 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:50:45.894 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:50:47.330 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:50:47.331 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:50:47.331 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:50:47.332 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:50:47.332 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:50:47.332 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:50:47.332 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:50:47.333 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 0
2025-05-20 21:50:47.333 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:50:47.334 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:51:10.507 [http-nio-8080-exec-1] INFO  c.e.h.s.impl.BookingServiceImpl - 新增订单: roomId=1, customerId=5, 入住日期=Fri May 16 08:00:00 CST 2025, 退房日期=Tue May 20 08:00:00 CST 2025
2025-05-20 21:51:10.507 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.insert - ==>  Preparing: INSERT INTO booking (customer_id, room_id, checkin_date, checkout_date, status, total_price, create_time, payment_status, synced_to_finance) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-20 21:51:10.509 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.insert - ==> Parameters: 5(Integer), 1(Integer), 2025-05-16 08:00:00.0(Timestamp), 2025-05-20 08:00:00.0(Timestamp), checked-in(String), 500.0(Double), 2025-05-20 21:50:47.291(Timestamp), paid(String), false(Boolean)
2025-05-20 21:51:10.514 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.insert - <==    Updates: 1
2025-05-20 21:51:10.515 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单新增结果: 1, 生成ID: null
2025-05-20 21:51:10.525 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:51:10.526 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:51:10.526 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:51:10.527 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 1
2025-05-20 21:51:20.818 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:51:20.820 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:51:20.820 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:51:20.822 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 1
2025-05-20 21:52:19.571 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:52:19.572 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:52:19.572 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:52:19.572 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:52:19.572 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:52:19.572 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:52:19.572 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:52:19.573 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:52:19.573 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 1
2025-05-20 21:52:19.573 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 6
2025-05-20 21:52:47.494 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.insert - ==>  Preparing: INSERT INTO customer (name, gender, phone, id_card, email, create_time, type, status, id_type, address, notes) VALUES (?, ?, ?, ?, ?, NOW(), ?, ?, ?, ?, ?)
2025-05-20 21:52:47.496 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.insert - ==> Parameters: 王五(String), null, null, null, null, regular(String), null, null, null, null
2025-05-20 21:52:47.500 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.CustomerMapper.insert - <==    Updates: 1
2025-05-20 21:52:47.509 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:52:47.510 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:52:47.510 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:52:47.510 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:52:47.511 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:52:47.511 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 7
2025-05-20 21:52:47.521 [http-nio-8080-exec-10] INFO  c.e.h.s.impl.BookingServiceImpl - 新增订单: roomId=3, customerId=1, 入住日期=Wed May 07 08:00:00 CST 2025, 退房日期=Fri May 09 08:00:00 CST 2025
2025-05-20 21:52:47.521 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.insert - ==>  Preparing: INSERT INTO booking (customer_id, room_id, checkin_date, checkout_date, status, total_price, create_time, payment_status, synced_to_finance) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-20 21:52:47.523 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.insert - ==> Parameters: 1(Integer), 3(Integer), 2025-05-07 08:00:00.0(Timestamp), 2025-05-09 08:00:00.0(Timestamp), checked-out(String), 600.0(Double), 2025-05-20 21:52:19.562(Timestamp), paid(String), false(Boolean)
2025-05-20 21:52:47.525 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.insert - <==    Updates: 1
2025-05-20 21:52:47.525 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单新增结果: 1, 生成ID: null
2025-05-20 21:52:47.539 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:52:47.539 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:52:47.539 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:52:47.541 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 2
2025-05-20 21:53:41.513 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:53:41.513 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:53:41.514 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:53:41.514 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:53:41.514 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:53:41.514 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:53:41.514 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:53:41.515 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:53:41.515 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 0
2025-05-20 21:53:41.515 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 7
2025-05-20 21:54:26.593 [http-nio-8080-exec-3] INFO  c.e.h.s.impl.BookingServiceImpl - 新增订单: roomId=1, customerId=5, 入住日期=Fri Dec 20 08:00:00 CST 2024, 退房日期=Thu May 22 08:00:00 CST 2025
2025-05-20 21:54:26.594 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.insert - ==>  Preparing: INSERT INTO booking (customer_id, room_id, checkin_date, checkout_date, status, total_price, create_time, payment_status, synced_to_finance) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-20 21:54:26.595 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.insert - ==> Parameters: 5(Integer), 1(Integer), 2024-12-20 08:00:00.0(Timestamp), 2025-05-22 08:00:00.0(Timestamp), checked-out(String), 400.0(Double), 2025-05-20 21:53:41.504(Timestamp), paid(String), false(Boolean)
2025-05-20 21:54:26.599 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.insert - <==    Updates: 1
2025-05-20 21:54:26.599 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单新增结果: 1, 生成ID: null
2025-05-20 21:54:26.610 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:54:26.610 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:54:26.610 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:54:26.612 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 1
2025-05-20 21:55:17.403 [http-nio-8080-exec-8] INFO  c.e.h.s.impl.BookingServiceImpl - 新增订单: roomId=2, customerId=7, 入住日期=Mon Jan 20 08:00:00 CST 2025, 退房日期=Fri May 23 08:00:00 CST 2025
2025-05-20 21:55:17.404 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.insert - ==>  Preparing: INSERT INTO booking (customer_id, room_id, checkin_date, checkout_date, status, total_price, create_time, payment_status, synced_to_finance) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-20 21:55:17.405 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.insert - ==> Parameters: 7(Integer), 2(Integer), 2025-01-20 08:00:00.0(Timestamp), 2025-05-23 08:00:00.0(Timestamp), checked-out(String), 900.0(Double), 2025-05-20 21:54:26.603(Timestamp), paid(String), false(Boolean)
2025-05-20 21:55:17.414 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.insert - <==    Updates: 1
2025-05-20 21:55:17.414 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单新增结果: 1, 生成ID: null
2025-05-20 21:55:17.424 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:55:17.425 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:55:17.425 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:55:17.427 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 2
2025-05-20 21:55:46.175 [http-nio-8080-exec-9] INFO  c.e.h.s.impl.BookingServiceImpl - 新增订单: roomId=3, customerId=1, 入住日期=Fri Apr 18 08:00:00 CST 2025, 退房日期=Tue May 20 08:00:00 CST 2025
2025-05-20 21:55:46.176 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.insert - ==>  Preparing: INSERT INTO booking (customer_id, room_id, checkin_date, checkout_date, status, total_price, create_time, payment_status, synced_to_finance) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-20 21:55:46.177 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.insert - ==> Parameters: 1(Integer), 3(Integer), 2025-04-18 08:00:00.0(Timestamp), 2025-05-20 08:00:00.0(Timestamp), checked-out(String), 1000.0(Double), 2025-05-20 21:55:17.417(Timestamp), paid(String), false(Boolean)
2025-05-20 21:55:46.185 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.insert - <==    Updates: 1
2025-05-20 21:55:46.185 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单新增结果: 1, 生成ID: null
2025-05-20 21:55:46.195 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:55:46.196 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:55:46.196 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:55:46.197 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 3
2025-05-20 21:56:23.173 [http-nio-8080-exec-1] INFO  c.e.h.s.impl.BookingServiceImpl - 新增订单: roomId=1, customerId=6, 入住日期=Fri May 16 08:00:00 CST 2025, 退房日期=Tue May 20 08:00:00 CST 2025
2025-05-20 21:56:23.174 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.insert - ==>  Preparing: INSERT INTO booking (customer_id, room_id, checkin_date, checkout_date, status, total_price, create_time, payment_status, synced_to_finance) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-20 21:56:23.175 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.insert - ==> Parameters: 6(Integer), 1(Integer), 2025-05-16 08:00:00.0(Timestamp), 2025-05-20 08:00:00.0(Timestamp), checked-in(String), 800.0(Double), 2025-05-20 21:55:46.188(Timestamp), paid(String), false(Boolean)
2025-05-20 21:56:23.178 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.insert - <==    Updates: 1
2025-05-20 21:56:23.178 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单新增结果: 1, 生成ID: null
2025-05-20 21:56:23.185 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:56:23.186 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:56:23.187 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:56:23.188 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 4
2025-05-20 21:57:07.585 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.insert - ==>  Preparing: INSERT INTO customer (name, gender, phone, id_card, email, create_time, type, status, id_type, address, notes) VALUES (?, ?, ?, ?, ?, NOW(), ?, ?, ?, ?, ?)
2025-05-20 21:57:07.586 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.insert - ==> Parameters: 李斯(String), null, null, null, null, regular(String), null, null, null, null
2025-05-20 21:57:07.589 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.insert - <==    Updates: 1
2025-05-20 21:57:07.598 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:57:07.598 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:57:07.598 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:57:07.599 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:57:07.599 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:57:07.601 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 21:57:07.608 [http-nio-8080-exec-7] INFO  c.e.h.s.impl.BookingServiceImpl - 新增订单: roomId=4, customerId=1, 入住日期=Wed May 21 08:00:00 CST 2025, 退房日期=Fri May 23 08:00:00 CST 2025
2025-05-20 21:57:07.609 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.insert - ==>  Preparing: INSERT INTO booking (customer_id, room_id, checkin_date, checkout_date, status, total_price, create_time, payment_status, synced_to_finance) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-20 21:57:07.609 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.insert - ==> Parameters: 1(Integer), 4(Integer), 2025-05-21 08:00:00.0(Timestamp), 2025-05-23 08:00:00.0(Timestamp), confirmed(String), 598.0(Double), 2025-05-20 21:56:23.181(Timestamp), unpaid(String), false(Boolean)
2025-05-20 21:57:07.611 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.insert - <==    Updates: 1
2025-05-20 21:57:07.611 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单新增结果: 1, 生成ID: null
2025-05-20 21:57:07.620 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:57:07.620 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:57:07.620 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:57:07.623 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 21:57:17.343 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:57:17.344 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:57:17.344 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:57:17.344 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:57:17.344 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:57:17.344 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:57:17.344 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:57:17.345 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:57:17.345 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 21:57:17.345 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 21:57:21.656 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:57:21.657 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:57:21.657 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:57:21.658 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:57:21.658 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:57:21.658 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:57:21.658 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:57:21.659 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:57:21.660 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 21:57:21.660 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 21:57:57.558 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:57:57.559 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:57:57.561 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 21:57:57.561 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:57:57.562 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:57:57.564 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 21:57:57.565 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:57:57.565 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:57:57.566 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 21:57:57.567 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:57:57.567 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:57:57.570 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 21:57:57.571 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:57:57.572 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:57:57.575 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 21:57:57.576 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:57:57.576 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:57:57.579 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 21:57:57.593 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:57:57.594 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:57:57.596 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 21:57:57.596 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:57:57.596 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:57:57.598 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 21:57:57.598 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:57:57.599 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:57:57.600 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 21:57:57.600 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:57:57.601 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:57:57.604 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 21:57:57.606 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:57:57.606 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:57:57.607 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 21:58:01.573 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:58:01.574 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:58:01.574 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:58:01.574 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:58:01.575 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:58:01.575 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:58:01.578 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 21:58:02.450 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:58:02.451 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:58:02.452 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:58:02.454 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 21:58:02.457 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:58:02.457 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:58:02.458 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:58:02.458 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:58:02.459 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:58:02.461 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 21:58:16.930 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:58:16.931 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:58:16.933 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:58:16.941 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:58:16.942 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:58:16.942 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:58:16.945 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 21:58:22.607 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:58:22.608 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:58:22.608 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:58:22.611 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 21:58:22.618 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:58:22.618 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:58:22.618 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:58:22.618 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:58:22.621 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:58:22.622 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 21:58:23.396 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:58:23.397 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:58:23.398 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:58:23.399 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:58:23.399 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:58:23.400 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:58:23.402 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 21:58:25.475 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 21:58:25.476 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 21:58:25.476 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 21:58:25.479 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 21:58:25.484 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 21:58:25.484 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 21:58:25.485 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:58:25.485 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:58:25.486 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:58:25.486 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 21:58:26.497 [http-nio-8080-exec-5] INFO  c.e.h.controller.FinanceController - 获取到0条收入记录
2025-05-20 21:58:26.507 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:58:26.508 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:58:26.509 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:58:26.533 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:58:26.534 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:58:26.534 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:58:26.537 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 21:58:26.549 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:58:26.550 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:58:26.550 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:58:26.553 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 21:58:26.553 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:58:26.553 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:58:26.555 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:58:26.555 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:58:26.555 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:58:26.555 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:58:26.556 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:58:26.556 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:58:26.556 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:58:26.556 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:58:26.556 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:58:26.558 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:58:26.567 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:58:26.567 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:58:26.567 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:58:26.568 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 21:58:26.568 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:58:26.568 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:58:26.570 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 21:58:30.107 [http-nio-8080-exec-8] INFO  c.e.h.controller.FinanceController - 获取到0条收入记录
2025-05-20 21:58:30.132 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 21:58:30.132 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 21:58:30.135 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 21:58:30.192 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:58:30.193 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:58:30.193 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:58:30.195 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 21:58:30.205 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:58:30.205 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:58:30.205 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:58:30.207 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 21:58:30.207 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:58:30.207 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:58:30.208 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:58:30.208 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:58:30.209 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 21:58:30.209 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:58:30.210 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:58:30.210 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 21:58:30.210 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:58:30.210 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 21:58:30.211 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 21:58:30.211 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 21:58:30.219 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 21:58:30.219 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 21:58:30.219 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 21:58:30.220 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 21:58:30.220 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 21:58:30.220 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 21:58:30.221 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 22:13:49.364 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 22:13:49.397 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-20 22:13:49.424 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-20 22:13:59.435 [main] INFO  c.e.h.HotelManagementApplication - Starting HotelManagementApplication using Java 1.8.0_331 on LAPTOP-6LBVHJ60 with PID 33012 (D:\LearnProject\HotelManagement\target\classes started by 815101909 in D:\LearnProject\HotelManagement)
2025-05-20 22:13:59.437 [main] DEBUG c.e.h.HotelManagementApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-05-20 22:13:59.437 [main] INFO  c.e.h.HotelManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-20 22:13:59.925 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-20 22:13:59.939 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.
2025-05-20 22:14:00.321 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-20 22:14:00.322 [main] INFO  o.a.c.core.AprLifecycleListener - An older version [1.2.35] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.38]
2025-05-20 22:14:00.322 [main] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.35] using APR version [1.7.0].
2025-05-20 22:14:00.322 [main] INFO  o.a.c.core.AprLifecycleListener - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-20 22:14:00.322 [main] INFO  o.a.c.core.AprLifecycleListener - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-20 22:14:00.344 [main] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1q  5 Jul 2022]
2025-05-20 22:14:00.350 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-05-20 22:14:00.351 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-20 22:14:00.351 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-05-20 22:14:00.501 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-20 22:14:00.501 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1034 ms
2025-05-20 22:14:00.567 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-20 22:14:05.466 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-20 22:14:05.535 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-20 22:14:05.580 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-05-20 22:14:05.712 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-20 22:14:05.827 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-20 22:14:05.966 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-20 22:14:05.986 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 22:14:06.185 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 初始化订单表结构...
2025-05-20 22:14:06.221 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - payment_status字段已存在
2025-05-20 22:14:06.223 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - synced_to_finance字段已存在
2025-05-20 22:14:06.223 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 订单表结构初始化完成
2025-05-20 22:14:06.289 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-20 22:14:06.572 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-05-20 22:14:06.588 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-20 22:14:06.596 [main] INFO  c.e.h.HotelManagementApplication - Started HotelManagementApplication in 7.457 seconds (JVM running for 14.08)
2025-05-20 22:23:27.866 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-20 22:23:27.866 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-20 22:23:27.868 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-20 22:23:28.043 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 获取到0条收入记录
2025-05-20 22:23:28.185 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 22:23:28.193 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 22:23:28.216 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 22:23:28.294 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 22:23:28.295 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 22:23:28.295 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 22:23:28.304 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 22:23:28.328 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 22:23:28.329 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 22:23:28.330 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 22:23:28.333 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 22:23:28.334 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 22:23:28.335 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 22:23:28.338 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 22:23:28.339 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 22:23:28.339 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 22:23:28.340 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 22:23:28.340 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 22:23:28.340 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 22:23:28.341 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 22:23:28.341 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 22:23:28.341 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 22:23:28.343 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 22:23:28.361 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 22:23:28.361 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 22:23:28.361 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 22:23:28.364 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 22:23:28.365 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 22:23:28.365 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 22:23:28.367 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 22:23:45.169 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 22:23:45.169 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 22:23:45.171 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:23:45.173 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:23:45.173 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 22:23:45.174 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:23:45.186 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:23:45.914 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:23:45.915 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:23:45.916 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:23:45.920 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 22:23:45.921 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 22:23:45.924 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:23:45.924 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 22:23:45.924 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 22:23:45.930 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 22:23:45.932 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 22:23:50.359 [http-nio-8080-exec-2] INFO  c.e.h.s.impl.BookingServiceImpl - 更新订单信息，ID: 31
2025-05-20 22:23:50.360 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询订单，ID: 31
2025-05-20 22:23:50.361 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findById - ==>  Preparing: SELECT * FROM booking WHERE id = ?
2025-05-20 22:23:50.361 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findById - ==> Parameters: 31(Integer)
2025-05-20 22:23:50.363 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findById - <==      Total: 1
2025-05-20 22:23:50.364 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.update - ==>  Preparing: UPDATE booking SET customer_id=?, room_id=?, checkin_date=?, checkout_date=?, status=?, total_price=?, payment_status=?, synced_to_finance=? WHERE id=?
2025-05-20 22:23:50.366 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.update - ==> Parameters: 6(Integer), 1(Integer), 2025-05-16 08:00:00.0(Timestamp), 2025-05-20 08:00:00.0(Timestamp), checked-in(String), 800.0(Double), unpaid(String), null, 31(Integer)
2025-05-20 22:23:50.389 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.update - <==    Updates: 1
2025-05-20 22:23:50.389 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单更新成功: 31
2025-05-20 22:23:50.407 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:23:50.407 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:23:50.408 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:23:50.415 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:24:05.065 [http-nio-8080-exec-5] INFO  c.e.h.s.impl.BookingServiceImpl - 更新订单信息，ID: 31
2025-05-20 22:24:05.065 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询订单，ID: 31
2025-05-20 22:24:05.067 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findById - ==>  Preparing: SELECT * FROM booking WHERE id = ?
2025-05-20 22:24:05.067 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findById - ==> Parameters: 31(Integer)
2025-05-20 22:24:05.069 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findById - <==      Total: 1
2025-05-20 22:24:05.070 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.update - ==>  Preparing: UPDATE booking SET customer_id=?, room_id=?, checkin_date=?, checkout_date=?, status=?, total_price=?, payment_status=?, synced_to_finance=? WHERE id=?
2025-05-20 22:24:05.071 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.update - ==> Parameters: 6(Integer), 1(Integer), 2025-05-16 08:00:00.0(Timestamp), 2025-05-20 08:00:00.0(Timestamp), checked-in(String), 800.0(Double), paid(String), null, 31(Integer)
2025-05-20 22:24:05.074 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.update - <==    Updates: 1
2025-05-20 22:24:05.074 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单更新成功: 31
2025-05-20 22:24:05.075 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 22:24:05.075 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 22:24:05.077 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 22:24:05.088 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.updateSyncStatus - ==>  Preparing: UPDATE booking SET synced_to_finance=? WHERE id=?
2025-05-20 22:24:05.088 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.updateSyncStatus - ==> Parameters: true(Boolean), 31(Integer)
2025-05-20 22:24:05.090 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.updateSyncStatus - <==    Updates: 1
2025-05-20 22:24:05.091 [http-nio-8080-exec-5] INFO  c.e.h.s.impl.BookingServiceImpl - 订单更新后自动同步到财务系统，ID: 31
2025-05-20 22:24:05.111 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:24:05.111 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:24:05.112 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:24:05.121 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:24:45.160 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:24:45.161 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:24:45.161 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:24:45.166 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:25:45.150 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:25:45.151 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:25:45.152 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:25:45.155 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:26:45.141 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:26:45.142 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:26:45.143 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:26:45.146 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:27:45.153 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:27:45.156 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:27:45.157 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:27:45.160 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:28:29.029 [http-nio-8080-exec-10] INFO  c.e.h.s.impl.BookingServiceImpl - 更新订单信息，ID: 31
2025-05-20 22:28:29.029 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询订单，ID: 31
2025-05-20 22:28:29.030 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findById - ==>  Preparing: SELECT * FROM booking WHERE id = ?
2025-05-20 22:28:29.030 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findById - ==> Parameters: 31(Integer)
2025-05-20 22:28:29.032 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findById - <==      Total: 1
2025-05-20 22:28:29.032 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.update - ==>  Preparing: UPDATE booking SET customer_id=?, room_id=?, checkin_date=?, checkout_date=?, status=?, total_price=?, payment_status=?, synced_to_finance=? WHERE id=?
2025-05-20 22:28:29.034 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.update - ==> Parameters: 6(Integer), 1(Integer), 2025-05-16 08:00:00.0(Timestamp), 2025-05-20 08:00:00.0(Timestamp), checked-in(String), 800.0(Double), unpaid(String), null, 31(Integer)
2025-05-20 22:28:29.038 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.update - <==    Updates: 1
2025-05-20 22:28:29.038 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单更新成功: 31
2025-05-20 22:28:29.051 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:28:29.052 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:28:29.052 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:28:29.056 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:28:35.841 [http-nio-8080-exec-2] INFO  c.e.h.s.impl.BookingServiceImpl - 更新订单信息，ID: 31
2025-05-20 22:28:35.841 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询订单，ID: 31
2025-05-20 22:28:35.843 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findById - ==>  Preparing: SELECT * FROM booking WHERE id = ?
2025-05-20 22:28:35.843 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findById - ==> Parameters: 31(Integer)
2025-05-20 22:28:35.845 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findById - <==      Total: 1
2025-05-20 22:28:35.845 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.update - ==>  Preparing: UPDATE booking SET customer_id=?, room_id=?, checkin_date=?, checkout_date=?, status=?, total_price=?, payment_status=?, synced_to_finance=? WHERE id=?
2025-05-20 22:28:35.846 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.update - ==> Parameters: 6(Integer), 1(Integer), 2025-05-16 08:00:00.0(Timestamp), 2025-05-20 08:00:00.0(Timestamp), checked-in(String), 800.0(Double), paid(String), null, 31(Integer)
2025-05-20 22:28:35.849 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.update - <==    Updates: 1
2025-05-20 22:28:35.849 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单更新成功: 31
2025-05-20 22:28:35.850 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 22:28:35.850 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 22:28:35.852 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 22:28:35.856 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.updateSyncStatus - ==>  Preparing: UPDATE booking SET synced_to_finance=? WHERE id=?
2025-05-20 22:28:35.856 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.updateSyncStatus - ==> Parameters: true(Boolean), 31(Integer)
2025-05-20 22:28:35.859 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.updateSyncStatus - <==    Updates: 1
2025-05-20 22:28:35.859 [http-nio-8080-exec-2] INFO  c.e.h.s.impl.BookingServiceImpl - 订单更新后自动同步到财务系统，ID: 31
2025-05-20 22:28:35.871 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:28:35.872 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:28:35.872 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:28:35.875 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:28:45.959 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:28:45.960 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:28:45.960 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:28:45.963 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:29:45.961 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:29:45.962 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:29:45.962 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:29:45.965 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:31:23.971 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:31:23.972 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:31:23.973 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:31:23.975 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:32:23.962 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:32:23.963 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:32:23.964 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:32:23.965 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:33:23.967 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:33:23.968 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:33:23.970 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:33:23.975 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:34:23.982 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:34:23.983 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:34:23.984 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:34:23.987 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:35:16.793 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 22:35:16.797 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-20 22:35:16.814 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-20 22:35:23.337 [main] INFO  c.e.h.HotelManagementApplication - Starting HotelManagementApplication using Java 1.8.0_331 on LAPTOP-6LBVHJ60 with PID 4616 (D:\LearnProject\HotelManagement\target\classes started by 815101909 in D:\LearnProject\HotelManagement)
2025-05-20 22:35:23.339 [main] DEBUG c.e.h.HotelManagementApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-05-20 22:35:23.340 [main] INFO  c.e.h.HotelManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-20 22:35:23.811 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-20 22:35:23.825 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 JPA repository interfaces.
2025-05-20 22:35:24.197 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-20 22:35:24.197 [main] INFO  o.a.c.core.AprLifecycleListener - An older version [1.2.35] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.38]
2025-05-20 22:35:24.197 [main] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.35] using APR version [1.7.0].
2025-05-20 22:35:24.197 [main] INFO  o.a.c.core.AprLifecycleListener - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-20 22:35:24.197 [main] INFO  o.a.c.core.AprLifecycleListener - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-20 22:35:24.202 [main] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1q  5 Jul 2022]
2025-05-20 22:35:24.208 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-05-20 22:35:24.209 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-20 22:35:24.209 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-05-20 22:35:24.363 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-20 22:35:24.364 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 995 ms
2025-05-20 22:35:24.447 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-20 22:35:33.640 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-20 22:35:33.790 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-20 22:35:33.882 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-05-20 22:35:34.229 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-20 22:35:34.621 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-20 22:35:34.915 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-20 22:35:34.944 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 22:35:35.682 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 初始化订单表结构...
2025-05-20 22:35:35.732 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - payment_status字段已存在
2025-05-20 22:35:35.734 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - synced_to_finance字段已存在
2025-05-20 22:35:35.735 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 订单表结构初始化完成
2025-05-20 22:35:35.947 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-20 22:35:36.598 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-05-20 22:35:36.630 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-20 22:35:36.647 [main] INFO  c.e.h.HotelManagementApplication - Started HotelManagementApplication in 13.596 seconds (JVM running for 17.828)
2025-05-20 22:35:46.114 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-20 22:35:46.114 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-20 22:35:46.115 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-20 22:35:46.294 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:35:46.320 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:35:46.344 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:35:46.367 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:36:49.699 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:36:49.701 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:36:49.702 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:36:49.709 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:36:51.953 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:36:51.967 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:36:51.969 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:36:51.969 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 22:36:51.969 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 22:36:51.970 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 22:36:51.970 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 22:36:51.976 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 22:36:51.978 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:36:51.986 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 22:36:54.145 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 22:36:54.147 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:36:54.147 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 22:36:54.147 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 22:36:54.147 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 22:36:54.147 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:36:54.148 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:36:54.149 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 22:36:54.154 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 22:36:54.157 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:37:18.504 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 22:37:18.506 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-20 22:37:18.516 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-20 22:37:25.433 [main] INFO  c.e.h.HotelManagementApplication - Starting HotelManagementApplication using Java 1.8.0_331 on LAPTOP-6LBVHJ60 with PID 13068 (D:\LearnProject\HotelManagement\target\classes started by 815101909 in D:\LearnProject\HotelManagement)
2025-05-20 22:37:25.435 [main] DEBUG c.e.h.HotelManagementApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-05-20 22:37:25.436 [main] INFO  c.e.h.HotelManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-20 22:37:26.050 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-20 22:37:26.063 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 JPA repository interfaces.
2025-05-20 22:37:26.385 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-20 22:37:26.386 [main] INFO  o.a.c.core.AprLifecycleListener - An older version [1.2.35] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.38]
2025-05-20 22:37:26.386 [main] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.35] using APR version [1.7.0].
2025-05-20 22:37:26.386 [main] INFO  o.a.c.core.AprLifecycleListener - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-20 22:37:26.386 [main] INFO  o.a.c.core.AprLifecycleListener - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-20 22:37:26.389 [main] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1q  5 Jul 2022]
2025-05-20 22:37:26.395 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-05-20 22:37:26.396 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-20 22:37:26.396 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-05-20 22:37:26.500 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-20 22:37:26.501 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1034 ms
2025-05-20 22:37:26.554 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-20 22:37:33.548 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-20 22:37:33.683 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-20 22:37:33.747 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-05-20 22:37:33.953 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-20 22:37:34.116 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-20 22:37:34.367 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-20 22:37:34.383 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 22:37:34.756 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 初始化订单表结构...
2025-05-20 22:37:34.794 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - payment_status字段已存在
2025-05-20 22:37:34.796 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - synced_to_finance字段已存在
2025-05-20 22:37:34.796 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 订单表结构初始化完成
2025-05-20 22:37:34.929 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-20 22:37:35.428 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-05-20 22:37:35.451 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-20 22:37:35.469 [main] INFO  c.e.h.HotelManagementApplication - Started HotelManagementApplication in 10.325 seconds (JVM running for 14.626)
2025-05-20 22:37:36.952 [http-nio-8080-exec-5] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-20 22:37:36.952 [http-nio-8080-exec-5] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-20 22:37:36.953 [http-nio-8080-exec-5] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-20 22:37:37.114 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:37:37.126 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 22:37:37.126 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:37:37.126 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 22:37:37.146 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 22:37:37.147 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 22:37:37.146 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:37:37.162 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 22:37:37.168 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:37:37.169 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 22:44:45.320 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 22:44:45.335 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-20 22:44:45.357 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-20 22:44:53.273 [main] INFO  c.e.h.HotelManagementApplication - Starting HotelManagementApplication using Java 1.8.0_331 on LAPTOP-6LBVHJ60 with PID 40392 (D:\LearnProject\HotelManagement\target\classes started by 815101909 in D:\LearnProject\HotelManagement)
2025-05-20 22:44:53.275 [main] DEBUG c.e.h.HotelManagementApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-05-20 22:44:53.276 [main] INFO  c.e.h.HotelManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-20 22:44:53.734 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-20 22:44:53.747 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.
2025-05-20 22:44:54.078 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-20 22:44:54.078 [main] INFO  o.a.c.core.AprLifecycleListener - An older version [1.2.35] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.38]
2025-05-20 22:44:54.079 [main] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.35] using APR version [1.7.0].
2025-05-20 22:44:54.079 [main] INFO  o.a.c.core.AprLifecycleListener - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-20 22:44:54.079 [main] INFO  o.a.c.core.AprLifecycleListener - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-20 22:44:54.089 [main] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1q  5 Jul 2022]
2025-05-20 22:44:54.095 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-05-20 22:44:54.096 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-20 22:44:54.096 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-05-20 22:44:54.240 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-20 22:44:54.241 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 936 ms
2025-05-20 22:44:54.299 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-20 22:44:59.543 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-20 22:44:59.614 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-20 22:44:59.660 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-05-20 22:44:59.783 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-20 22:44:59.879 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-20 22:45:00.025 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-20 22:45:00.036 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 22:45:00.225 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 初始化订单表结构...
2025-05-20 22:45:00.248 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - payment_status字段已存在
2025-05-20 22:45:00.251 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - synced_to_finance字段已存在
2025-05-20 22:45:00.251 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 订单表结构初始化完成
2025-05-20 22:45:00.311 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-20 22:45:00.534 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-05-20 22:45:00.547 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-20 22:45:00.556 [main] INFO  c.e.h.HotelManagementApplication - Started HotelManagementApplication in 7.691 seconds (JVM running for 11.587)
2025-05-20 22:45:28.038 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-20 22:45:28.038 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-20 22:45:28.043 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-05-20 22:45:28.216 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:45:28.236 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 22:45:28.236 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:45:28.236 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 22:45:28.263 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 22:45:28.263 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 22:45:28.263 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:45:28.286 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 22:45:28.298 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:45:28.299 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 22:45:29.794 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 22:45:29.795 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 22:45:29.799 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 22:45:29.799 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 22:45:29.800 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 22:45:29.800 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 22:45:29.806 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 22:45:29.841 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 22:45:29.842 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 22:45:29.842 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 22:45:29.847 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 22:45:29.848 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 22:45:29.849 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 22:45:29.849 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 22:45:29.853 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 22:45:29.863 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 22:45:29.863 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 22:45:29.875 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 22:45:29.876 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 22:45:29.877 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 22:45:29.883 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 22:45:29.895 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 22:45:29.896 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 22:45:29.896 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 22:45:29.903 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 22:45:29.910 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 22:45:29.910 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 22:45:29.911 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 22:45:29.913 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 22:45:29.914 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==>  Preparing: SELECT * FROM finance
2025-05-20 22:45:29.915 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.FinanceMapper.findAll - ==> Parameters: 
2025-05-20 22:45:29.919 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.FinanceMapper.findAll - <==      Total: 2
2025-05-20 22:45:29.920 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 22:45:29.920 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 22:45:29.924 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 22:45:29.940 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 22:45:29.940 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 22:45:29.943 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 22:45:29.944 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 22:45:29.945 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 22:45:29.945 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 22:45:29.948 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 22:45:29.949 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 22:45:29.950 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 22:45:29.951 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 22:45:29.954 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 22:45:29.957 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 22:45:29.957 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 22:45:29.957 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 22:45:29.960 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 22:45:29.961 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 22:45:29.961 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 22:45:29.962 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 22:45:29.965 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 22:45:29.966 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 22:45:29.967 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 22:45:29.967 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 22:45:29.969 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 22:45:29.970 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 22:45:29.970 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 22:45:29.970 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 22:45:29.973 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 22:45:29.974 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 22:45:29.974 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 22:45:29.974 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 22:45:29.976 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 22:45:29.988 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 22:45:29.989 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 22:45:29.989 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 22:45:29.991 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 22:45:29.994 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 22:45:29.995 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 22:45:29.998 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 22:45:29.999 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 22:45:29.999 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 22:45:30.000 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 22:45:30.001 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 22:45:30.001 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 22:45:30.002 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 22:45:30.003 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 22:45:30.003 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 22:45:30.008 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 22:45:30.027 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 22:45:30.027 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 22:45:30.028 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 22:45:30.031 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 22:45:30.038 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 22:45:30.038 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 22:45:30.040 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 22:45:31.426 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 22:45:31.426 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:45:31.427 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 22:45:31.428 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:45:31.428 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:45:31.429 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 22:45:31.432 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:45:32.720 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:45:32.722 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:45:32.723 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:45:32.737 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:45:32.741 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 22:45:32.742 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 22:45:32.748 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 22:45:32.753 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 22:45:32.753 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 22:45:32.756 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 22:45:37.131 [http-nio-8080-exec-9] INFO  c.e.h.s.impl.BookingServiceImpl - 更新订单信息，ID: 31
2025-05-20 22:45:37.131 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询订单，ID: 31
2025-05-20 22:45:37.132 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findById - ==>  Preparing: SELECT * FROM booking WHERE id = ?
2025-05-20 22:45:37.133 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findById - ==> Parameters: 31(Integer)
2025-05-20 22:45:37.134 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findById - <==      Total: 1
2025-05-20 22:45:37.135 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.update - ==>  Preparing: UPDATE booking SET customer_id=?, room_id=?, checkin_date=?, checkout_date=?, status=?, total_price=?, payment_status=?, synced_to_finance=? WHERE id=?
2025-05-20 22:45:37.137 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.update - ==> Parameters: 6(Integer), 1(Integer), 2025-05-16 08:00:00.0(Timestamp), 2025-05-20 08:00:00.0(Timestamp), checked-in(String), 800.0(Double), unpaid(String), null, 31(Integer)
2025-05-20 22:45:37.150 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.update - <==    Updates: 1
2025-05-20 22:45:37.150 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单更新成功: 31
2025-05-20 22:45:37.165 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:45:37.166 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:45:37.166 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:45:37.175 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:46:31.965 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:46:31.966 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:46:31.966 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:46:31.969 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:47:03.518 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 22:47:03.523 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-20 22:47:03.548 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-20 22:49:34.727 [main] INFO  c.e.h.HotelManagementApplication - Starting HotelManagementApplication using Java 1.8.0_331 on LAPTOP-6LBVHJ60 with PID 42008 (D:\LearnProject\HotelManagement\target\classes started by 815101909 in D:\LearnProject\HotelManagement)
2025-05-20 22:49:34.729 [main] DEBUG c.e.h.HotelManagementApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-05-20 22:49:34.730 [main] INFO  c.e.h.HotelManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-20 22:49:35.139 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-20 22:49:35.151 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 0 JPA repository interfaces.
2025-05-20 22:49:35.466 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-20 22:49:35.467 [main] INFO  o.a.c.core.AprLifecycleListener - An older version [1.2.35] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.38]
2025-05-20 22:49:35.467 [main] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.35] using APR version [1.7.0].
2025-05-20 22:49:35.467 [main] INFO  o.a.c.core.AprLifecycleListener - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-20 22:49:35.467 [main] INFO  o.a.c.core.AprLifecycleListener - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-20 22:49:35.470 [main] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1q  5 Jul 2022]
2025-05-20 22:49:35.474 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-05-20 22:49:35.476 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-20 22:49:35.476 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-05-20 22:49:35.583 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-20 22:49:35.583 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 828 ms
2025-05-20 22:49:35.635 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-20 22:49:38.816 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-20 22:49:38.896 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-20 22:49:38.934 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-05-20 22:49:39.078 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-20 22:49:39.192 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-20 22:49:39.345 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-20 22:49:39.355 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 22:49:39.542 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 初始化订单表结构...
2025-05-20 22:49:39.565 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - payment_status字段已存在
2025-05-20 22:49:39.568 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - synced_to_finance字段已存在
2025-05-20 22:49:39.568 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 订单表结构初始化完成
2025-05-20 22:49:39.635 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-20 22:49:39.855 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-05-20 22:49:39.869 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-20 22:49:39.877 [main] INFO  c.e.h.HotelManagementApplication - Started HotelManagementApplication in 5.39 seconds (JVM running for 10.961)
2025-05-20 22:49:47.312 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-20 22:49:47.313 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-20 22:49:47.314 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-20 22:49:47.454 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:49:47.467 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 22:49:47.467 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:49:47.467 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 22:49:47.496 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 22:49:47.496 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 22:49:47.496 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:49:47.518 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 22:49:47.524 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:49:47.524 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 22:49:51.920 [http-nio-8080-exec-4] INFO  c.e.h.s.impl.BookingServiceImpl - 更新订单信息，ID: 31
2025-05-20 22:49:51.920 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询订单，ID: 31
2025-05-20 22:49:51.921 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findById - ==>  Preparing: SELECT * FROM booking WHERE id = ?
2025-05-20 22:49:51.921 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findById - ==> Parameters: 31(Integer)
2025-05-20 22:49:51.924 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findById - <==      Total: 1
2025-05-20 22:49:51.925 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.update - ==>  Preparing: UPDATE booking SET customer_id=?, room_id=?, checkin_date=?, checkout_date=?, status=?, total_price=?, payment_status=?, synced_to_finance=? WHERE id=?
2025-05-20 22:49:51.926 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.update - ==> Parameters: 6(Integer), 1(Integer), 2025-05-16 08:00:00.0(Timestamp), 2025-05-20 08:00:00.0(Timestamp), checked-in(String), 800.0(Double), paid(String), null, 31(Integer)
2025-05-20 22:49:51.933 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.update - <==    Updates: 1
2025-05-20 22:49:51.933 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单更新成功: 31
2025-05-20 22:49:51.940 [http-nio-8080-exec-4] INFO  c.e.h.s.impl.BookingServiceImpl - 订单 31 已存在收入记录，不重复创建
2025-05-20 22:49:51.941 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.updateSyncStatus - ==>  Preparing: UPDATE booking SET synced_to_finance=? WHERE id=?
2025-05-20 22:49:51.942 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.updateSyncStatus - ==> Parameters: true(Boolean), 31(Integer)
2025-05-20 22:49:51.946 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.updateSyncStatus - <==    Updates: 1
2025-05-20 22:49:51.965 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:49:51.966 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:49:51.966 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:49:51.971 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:49:58.830 [http-nio-8080-exec-6] INFO  c.e.h.s.impl.BookingServiceImpl - 更新订单信息，ID: 31
2025-05-20 22:49:58.831 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询订单，ID: 31
2025-05-20 22:49:58.832 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findById - ==>  Preparing: SELECT * FROM booking WHERE id = ?
2025-05-20 22:49:58.832 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findById - ==> Parameters: 31(Integer)
2025-05-20 22:49:58.834 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findById - <==      Total: 1
2025-05-20 22:49:58.835 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.update - ==>  Preparing: UPDATE booking SET customer_id=?, room_id=?, checkin_date=?, checkout_date=?, status=?, total_price=?, payment_status=?, synced_to_finance=? WHERE id=?
2025-05-20 22:49:58.835 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.update - ==> Parameters: 6(Integer), 1(Integer), 2025-05-16 08:00:00.0(Timestamp), 2025-05-20 08:00:00.0(Timestamp), checked-in(String), 800.0(Double), unpaid(String), null, 31(Integer)
2025-05-20 22:49:58.839 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.update - <==    Updates: 1
2025-05-20 22:49:58.840 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单更新成功: 31
2025-05-20 22:49:58.854 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:49:58.854 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:49:58.855 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:49:58.859 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:50:09.766 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:50:09.767 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:50:09.767 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 22:50:09.767 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 22:50:09.767 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:50:09.767 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 22:50:09.767 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 22:50:09.769 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 22:50:09.776 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:50:09.776 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 22:50:19.856 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:50:19.856 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 22:50:19.856 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 22:50:19.858 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:50:19.858 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 22:50:19.858 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:50:19.858 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 22:50:19.859 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 22:50:19.860 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:50:19.862 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 22:53:44.391 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 22:53:44.393 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-20 22:53:44.402 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-20 22:53:51.214 [main] INFO  c.e.h.HotelManagementApplication - Starting HotelManagementApplication using Java 1.8.0_331 on LAPTOP-6LBVHJ60 with PID 36904 (D:\LearnProject\HotelManagement\target\classes started by 815101909 in D:\LearnProject\HotelManagement)
2025-05-20 22:53:51.216 [main] DEBUG c.e.h.HotelManagementApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-05-20 22:53:51.217 [main] INFO  c.e.h.HotelManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-20 22:53:51.679 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-20 22:53:51.691 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 JPA repository interfaces.
2025-05-20 22:53:52.048 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-20 22:53:52.048 [main] INFO  o.a.c.core.AprLifecycleListener - An older version [1.2.35] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.38]
2025-05-20 22:53:52.049 [main] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.35] using APR version [1.7.0].
2025-05-20 22:53:52.049 [main] INFO  o.a.c.core.AprLifecycleListener - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-20 22:53:52.049 [main] INFO  o.a.c.core.AprLifecycleListener - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-20 22:53:52.052 [main] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1q  5 Jul 2022]
2025-05-20 22:53:52.057 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-05-20 22:53:52.059 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-20 22:53:52.059 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-05-20 22:53:52.175 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-20 22:53:52.175 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 928 ms
2025-05-20 22:53:52.238 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-20 22:53:56.247 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-20 22:53:56.328 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-20 22:53:56.367 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-05-20 22:53:56.475 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-20 22:53:56.557 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-20 22:53:56.715 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-20 22:53:56.728 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 22:53:56.956 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 初始化订单表结构...
2025-05-20 22:53:56.982 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - payment_status字段已存在
2025-05-20 22:53:56.984 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - synced_to_finance字段已存在
2025-05-20 22:53:56.984 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 订单表结构初始化完成
2025-05-20 22:53:57.051 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-20 22:53:57.281 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-05-20 22:53:57.293 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-20 22:53:57.303 [main] INFO  c.e.h.HotelManagementApplication - Started HotelManagementApplication in 6.359 seconds (JVM running for 10.299)
2025-05-20 22:54:25.709 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-20 22:54:25.711 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-20 22:54:25.712 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-20 22:54:25.809 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:54:25.818 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 22:54:25.818 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 22:54:25.818 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:54:25.830 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 22:54:25.830 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:54:25.830 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 22:54:25.843 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 22:54:25.847 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:54:25.847 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 22:54:33.528 [http-nio-8080-exec-4] INFO  c.e.h.s.impl.BookingServiceImpl - 更新订单信息，ID: 31
2025-05-20 22:54:33.528 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询订单，ID: 31
2025-05-20 22:54:33.529 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findById - ==>  Preparing: SELECT * FROM booking WHERE id = ?
2025-05-20 22:54:33.530 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findById - ==> Parameters: 31(Integer)
2025-05-20 22:54:33.533 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findById - <==      Total: 1
2025-05-20 22:54:33.533 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.update - ==>  Preparing: UPDATE booking SET customer_id=?, room_id=?, checkin_date=?, checkout_date=?, status=?, total_price=?, payment_status=?, synced_to_finance=? WHERE id=?
2025-05-20 22:54:33.535 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.update - ==> Parameters: 6(Integer), 1(Integer), 2025-05-16 08:00:00.0(Timestamp), 2025-05-20 08:00:00.0(Timestamp), checked-in(String), 800.0(Double), paid(String), null, 31(Integer)
2025-05-20 22:54:33.543 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.update - <==    Updates: 1
2025-05-20 22:54:33.543 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单更新成功: 31
2025-05-20 22:54:33.549 [http-nio-8080-exec-4] INFO  c.e.h.s.impl.BookingServiceImpl - 订单 31 已存在收入记录，不重复创建
2025-05-20 22:54:33.551 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.updateSyncStatus - ==>  Preparing: UPDATE booking SET synced_to_finance=? WHERE id=?
2025-05-20 22:54:33.552 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.updateSyncStatus - ==> Parameters: true(Boolean), 31(Integer)
2025-05-20 22:54:33.557 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.updateSyncStatus - <==    Updates: 1
2025-05-20 22:54:33.577 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:54:33.577 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:54:33.578 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:54:33.583 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:54:40.714 [http-nio-8080-exec-6] INFO  c.e.h.s.impl.BookingServiceImpl - 更新订单信息，ID: 31
2025-05-20 22:54:40.714 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询订单，ID: 31
2025-05-20 22:54:40.715 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findById - ==>  Preparing: SELECT * FROM booking WHERE id = ?
2025-05-20 22:54:40.716 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findById - ==> Parameters: 31(Integer)
2025-05-20 22:54:40.717 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findById - <==      Total: 1
2025-05-20 22:54:40.718 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.update - ==>  Preparing: UPDATE booking SET customer_id=?, room_id=?, checkin_date=?, checkout_date=?, status=?, total_price=?, payment_status=?, synced_to_finance=? WHERE id=?
2025-05-20 22:54:40.718 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.update - ==> Parameters: 6(Integer), 1(Integer), 2025-05-16 08:00:00.0(Timestamp), 2025-05-20 08:00:00.0(Timestamp), checked-in(String), 800.0(Double), unpaid(String), null, 31(Integer)
2025-05-20 22:54:40.722 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.update - <==    Updates: 1
2025-05-20 22:54:40.722 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单更新成功: 31
2025-05-20 22:54:40.734 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:54:40.734 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:54:40.735 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:54:40.738 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:55:07.807 [http-nio-8080-exec-8] INFO  c.e.h.s.impl.BookingServiceImpl - 更新订单信息，ID: 31
2025-05-20 22:55:07.807 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询订单，ID: 31
2025-05-20 22:55:07.808 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findById - ==>  Preparing: SELECT * FROM booking WHERE id = ?
2025-05-20 22:55:07.808 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findById - ==> Parameters: 31(Integer)
2025-05-20 22:55:07.810 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findById - <==      Total: 1
2025-05-20 22:55:07.810 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.update - ==>  Preparing: UPDATE booking SET customer_id=?, room_id=?, checkin_date=?, checkout_date=?, status=?, total_price=?, payment_status=?, synced_to_finance=? WHERE id=?
2025-05-20 22:55:07.810 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.update - ==> Parameters: 6(Integer), 1(Integer), 2025-05-16 08:00:00.0(Timestamp), 2025-05-20 08:00:00.0(Timestamp), checked-in(String), 800.0(Double), paid(String), null, 31(Integer)
2025-05-20 22:55:07.819 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.update - <==    Updates: 1
2025-05-20 22:55:07.819 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单更新成功: 31
2025-05-20 22:55:07.820 [http-nio-8080-exec-8] INFO  c.e.h.s.impl.BookingServiceImpl - 订单 31 已存在收入记录，不重复创建
2025-05-20 22:55:07.820 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.updateSyncStatus - ==>  Preparing: UPDATE booking SET synced_to_finance=? WHERE id=?
2025-05-20 22:55:07.821 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.updateSyncStatus - ==> Parameters: true(Boolean), 31(Integer)
2025-05-20 22:55:07.823 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.updateSyncStatus - <==    Updates: 1
2025-05-20 22:55:07.846 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:55:07.848 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:55:07.849 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:55:07.858 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:55:10.085 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:55:10.086 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:55:10.086 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 22:55:10.086 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 22:55:10.086 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:55:10.086 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 22:55:10.086 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 22:55:10.088 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 22:55:10.090 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:55:10.091 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 22:55:20.982 [http-nio-8080-exec-2] INFO  c.e.h.s.impl.BookingServiceImpl - 更新订单信息，ID: 30
2025-05-20 22:55:20.983 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询订单，ID: 30
2025-05-20 22:55:20.983 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findById - ==>  Preparing: SELECT * FROM booking WHERE id = ?
2025-05-20 22:55:20.984 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findById - ==> Parameters: 30(Integer)
2025-05-20 22:55:20.986 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findById - <==      Total: 1
2025-05-20 22:55:20.987 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.update - ==>  Preparing: UPDATE booking SET customer_id=?, room_id=?, checkin_date=?, checkout_date=?, status=?, total_price=?, payment_status=?, synced_to_finance=? WHERE id=?
2025-05-20 22:55:20.988 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.update - ==> Parameters: 1(Integer), 3(Integer), 2025-04-18 08:00:00.0(Timestamp), 2025-05-20 08:00:00.0(Timestamp), checked-out(String), 1000.0(Double), unpaid(String), null, 30(Integer)
2025-05-20 22:55:20.993 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.update - <==    Updates: 1
2025-05-20 22:55:20.993 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单更新成功: 30
2025-05-20 22:55:21.008 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:55:21.008 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:55:21.009 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:55:21.011 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:55:23.393 [http-nio-8080-exec-5] INFO  c.e.h.s.impl.BookingServiceImpl - 更新订单信息，ID: 29
2025-05-20 22:55:23.394 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询订单，ID: 29
2025-05-20 22:55:23.394 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findById - ==>  Preparing: SELECT * FROM booking WHERE id = ?
2025-05-20 22:55:23.395 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findById - ==> Parameters: 29(Integer)
2025-05-20 22:55:23.397 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findById - <==      Total: 1
2025-05-20 22:55:23.397 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.update - ==>  Preparing: UPDATE booking SET customer_id=?, room_id=?, checkin_date=?, checkout_date=?, status=?, total_price=?, payment_status=?, synced_to_finance=? WHERE id=?
2025-05-20 22:55:23.397 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.update - ==> Parameters: 7(Integer), 2(Integer), 2025-01-20 08:00:00.0(Timestamp), 2025-05-23 08:00:00.0(Timestamp), checked-out(String), 900.0(Double), unpaid(String), null, 29(Integer)
2025-05-20 22:55:23.401 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.update - <==    Updates: 1
2025-05-20 22:55:23.402 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单更新成功: 29
2025-05-20 22:55:23.423 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:55:23.424 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:55:23.424 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:55:23.427 [http-nio-8080-exec-6] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:55:25.687 [http-nio-8080-exec-7] INFO  c.e.h.s.impl.BookingServiceImpl - 更新订单信息，ID: 28
2025-05-20 22:55:25.687 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询订单，ID: 28
2025-05-20 22:55:25.689 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findById - ==>  Preparing: SELECT * FROM booking WHERE id = ?
2025-05-20 22:55:25.689 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findById - ==> Parameters: 28(Integer)
2025-05-20 22:55:25.691 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findById - <==      Total: 1
2025-05-20 22:55:25.692 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.update - ==>  Preparing: UPDATE booking SET customer_id=?, room_id=?, checkin_date=?, checkout_date=?, status=?, total_price=?, payment_status=?, synced_to_finance=? WHERE id=?
2025-05-20 22:55:25.692 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.update - ==> Parameters: 5(Integer), 1(Integer), 2024-12-20 08:00:00.0(Timestamp), 2025-05-22 08:00:00.0(Timestamp), checked-out(String), 400.0(Double), unpaid(String), null, 28(Integer)
2025-05-20 22:55:25.695 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.update - <==    Updates: 1
2025-05-20 22:55:25.696 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单更新成功: 28
2025-05-20 22:55:25.708 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:55:25.709 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:55:25.709 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:55:25.712 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:56:50.002 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 22:56:50.004 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-20 22:56:50.016 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-20 22:58:46.429 [main] INFO  c.e.h.HotelManagementApplication - Starting HotelManagementApplication using Java 1.8.0_331 on LAPTOP-6LBVHJ60 with PID 28244 (D:\LearnProject\HotelManagement\target\classes started by 815101909 in D:\LearnProject\HotelManagement)
2025-05-20 22:58:46.432 [main] DEBUG c.e.h.HotelManagementApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-05-20 22:58:46.433 [main] INFO  c.e.h.HotelManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-20 22:58:47.342 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-20 22:58:47.372 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 JPA repository interfaces.
2025-05-20 22:58:48.186 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-20 22:58:48.187 [main] INFO  o.a.c.core.AprLifecycleListener - An older version [1.2.35] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.38]
2025-05-20 22:58:48.187 [main] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.35] using APR version [1.7.0].
2025-05-20 22:58:48.187 [main] INFO  o.a.c.core.AprLifecycleListener - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-20 22:58:48.187 [main] INFO  o.a.c.core.AprLifecycleListener - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-20 22:58:48.193 [main] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1q  5 Jul 2022]
2025-05-20 22:58:48.202 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-05-20 22:58:48.203 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-20 22:58:48.204 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-05-20 22:58:48.462 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-20 22:58:48.462 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1957 ms
2025-05-20 22:58:48.578 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-20 22:58:57.247 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-20 22:58:57.385 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-20 22:58:57.466 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-05-20 22:58:57.699 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-20 22:58:57.878 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-20 22:58:58.136 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-20 22:58:58.164 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 22:58:58.609 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 初始化订单表结构...
2025-05-20 22:58:58.650 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - payment_status字段已存在
2025-05-20 22:58:58.652 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - synced_to_finance字段已存在
2025-05-20 22:58:58.653 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 订单表结构初始化完成
2025-05-20 22:58:58.826 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-20 22:58:59.462 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-05-20 22:58:59.491 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-20 22:58:59.510 [main] INFO  c.e.h.HotelManagementApplication - Started HotelManagementApplication in 13.503 seconds (JVM running for 21.288)
2025-05-20 22:59:12.922 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 22:59:12.924 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-20 22:59:12.933 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-20 22:59:21.472 [main] INFO  c.e.h.HotelManagementApplication - Starting HotelManagementApplication using Java 1.8.0_331 on LAPTOP-6LBVHJ60 with PID 39552 (D:\LearnProject\HotelManagement\target\classes started by 815101909 in D:\LearnProject\HotelManagement)
2025-05-20 22:59:21.474 [main] DEBUG c.e.h.HotelManagementApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-05-20 22:59:21.475 [main] INFO  c.e.h.HotelManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-20 22:59:21.902 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-20 22:59:21.915 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 JPA repository interfaces.
2025-05-20 22:59:22.254 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-20 22:59:22.255 [main] INFO  o.a.c.core.AprLifecycleListener - An older version [1.2.35] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.38]
2025-05-20 22:59:22.255 [main] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.35] using APR version [1.7.0].
2025-05-20 22:59:22.255 [main] INFO  o.a.c.core.AprLifecycleListener - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-20 22:59:22.255 [main] INFO  o.a.c.core.AprLifecycleListener - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-20 22:59:22.263 [main] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1q  5 Jul 2022]
2025-05-20 22:59:22.268 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-05-20 22:59:22.269 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-20 22:59:22.269 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-05-20 22:59:22.416 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-20 22:59:22.416 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 912 ms
2025-05-20 22:59:22.499 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-20 22:59:26.285 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-20 22:59:26.361 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-20 22:59:26.406 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-05-20 22:59:26.538 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-20 22:59:26.619 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-20 22:59:26.768 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-20 22:59:26.788 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 22:59:27.061 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 初始化订单表结构...
2025-05-20 22:59:27.092 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - payment_status字段已存在
2025-05-20 22:59:27.093 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - synced_to_finance字段已存在
2025-05-20 22:59:27.093 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 订单表结构初始化完成
2025-05-20 22:59:27.162 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-20 22:59:27.428 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-05-20 22:59:27.444 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-20 22:59:27.454 [main] INFO  c.e.h.HotelManagementApplication - Started HotelManagementApplication in 6.265 seconds (JVM running for 12.034)
2025-05-20 22:59:28.243 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-20 22:59:28.243 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-20 22:59:28.247 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-05-20 22:59:28.343 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:59:28.351 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 22:59:28.351 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:59:28.351 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 22:59:28.364 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 22:59:28.364 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:59:28.364 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 22:59:28.374 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 22:59:28.378 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 22:59:28.378 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 22:59:36.745 [http-nio-8080-exec-3] INFO  c.e.h.s.impl.BookingServiceImpl - 更新订单信息，ID: 31
2025-05-20 22:59:36.745 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询订单，ID: 31
2025-05-20 22:59:36.749 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findById - ==>  Preparing: SELECT * FROM booking WHERE id = ?
2025-05-20 22:59:36.751 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findById - ==> Parameters: 31(Integer)
2025-05-20 22:59:36.758 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findById - <==      Total: 1
2025-05-20 22:59:36.759 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.update - ==>  Preparing: UPDATE booking SET customer_id=?, room_id=?, checkin_date=?, checkout_date=?, status=?, total_price=?, payment_status=?, synced_to_finance=? WHERE id=?
2025-05-20 22:59:36.762 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.update - ==> Parameters: 6(Integer), 1(Integer), 2025-05-16 08:00:00.0(Timestamp), 2025-05-20 08:00:00.0(Timestamp), checked-in(String), 800.0(Double), unpaid(String), null, 31(Integer)
2025-05-20 22:59:36.774 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.update - <==    Updates: 1
2025-05-20 22:59:36.775 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单更新成功: 31
2025-05-20 22:59:36.802 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 22:59:36.803 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 22:59:36.804 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 22:59:36.818 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 23:02:15.448 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 23:02:15.450 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-20 23:02:15.459 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-20 23:05:18.629 [main] INFO  c.e.h.HotelManagementApplication - Starting HotelManagementApplication using Java 1.8.0_331 on LAPTOP-6LBVHJ60 with PID 27104 (D:\LearnProject\HotelManagement\target\classes started by 815101909 in D:\LearnProject\HotelManagement)
2025-05-20 23:05:18.631 [main] DEBUG c.e.h.HotelManagementApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-05-20 23:05:18.631 [main] INFO  c.e.h.HotelManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-20 23:05:19.059 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-20 23:05:19.072 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 JPA repository interfaces.
2025-05-20 23:05:19.393 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-20 23:05:19.394 [main] INFO  o.a.c.core.AprLifecycleListener - An older version [1.2.35] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.38]
2025-05-20 23:05:19.394 [main] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.35] using APR version [1.7.0].
2025-05-20 23:05:19.394 [main] INFO  o.a.c.core.AprLifecycleListener - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-20 23:05:19.395 [main] INFO  o.a.c.core.AprLifecycleListener - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-20 23:05:19.399 [main] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1q  5 Jul 2022]
2025-05-20 23:05:19.404 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-05-20 23:05:19.405 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-20 23:05:19.406 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-05-20 23:05:19.516 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-20 23:05:19.516 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 858 ms
2025-05-20 23:05:19.584 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-20 23:05:22.583 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-20 23:05:22.658 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-20 23:05:22.686 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-05-20 23:05:22.808 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-20 23:05:22.892 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-20 23:05:23.022 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-20 23:05:23.040 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 23:05:23.231 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 初始化订单表结构...
2025-05-20 23:05:23.264 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - payment_status字段已存在
2025-05-20 23:05:23.265 [main] DEBUG c.e.h.s.impl.BookingServiceImpl - synced_to_finance字段已存在
2025-05-20 23:05:23.277 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 创建自动删除income记录的触发器
2025-05-20 23:05:23.314 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 触发器创建成功
2025-05-20 23:05:23.314 [main] INFO  c.e.h.s.impl.BookingServiceImpl - 订单表结构初始化完成
2025-05-20 23:05:23.372 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-20 23:05:23.600 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-05-20 23:05:23.612 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-20 23:05:23.621 [main] INFO  c.e.h.HotelManagementApplication - Started HotelManagementApplication in 5.276 seconds (JVM running for 11.846)
2025-05-20 23:05:37.142 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-20 23:05:37.143 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-20 23:05:37.144 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-20 23:05:37.238 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 23:05:37.247 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 23:05:37.247 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 23:05:37.247 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 23:05:37.262 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 23:05:37.262 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 23:05:37.262 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 23:05:37.273 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 23:05:37.287 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 23:05:37.288 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 23:05:53.495 [http-nio-8080-exec-4] INFO  c.e.h.s.impl.BookingServiceImpl - 更新订单信息，ID: 31
2025-05-20 23:05:53.495 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询订单，ID: 31
2025-05-20 23:05:53.496 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findById - ==>  Preparing: SELECT * FROM booking WHERE id = ?
2025-05-20 23:05:53.498 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findById - ==> Parameters: 31(Integer)
2025-05-20 23:05:53.500 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findById - <==      Total: 1
2025-05-20 23:05:53.501 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.update - ==>  Preparing: UPDATE booking SET customer_id=?, room_id=?, checkin_date=?, checkout_date=?, status=?, total_price=?, payment_status=?, synced_to_finance=? WHERE id=?
2025-05-20 23:05:53.502 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.update - ==> Parameters: 6(Integer), 1(Integer), 2025-05-16 08:00:00.0(Timestamp), 2025-05-20 08:00:00.0(Timestamp), checked-in(String), 800.0(Double), paid(String), null, 31(Integer)
2025-05-20 23:05:53.511 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.update - <==    Updates: 1
2025-05-20 23:05:53.511 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单更新成功: 31
2025-05-20 23:05:53.517 [http-nio-8080-exec-4] INFO  c.e.h.s.impl.BookingServiceImpl - 订单 31 已存在收入记录，不重复创建
2025-05-20 23:05:53.518 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.updateSyncStatus - ==>  Preparing: UPDATE booking SET synced_to_finance=? WHERE id=?
2025-05-20 23:05:53.518 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.updateSyncStatus - ==> Parameters: true(Boolean), 31(Integer)
2025-05-20 23:05:53.521 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.updateSyncStatus - <==    Updates: 1
2025-05-20 23:05:53.533 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 23:05:53.533 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 23:05:53.534 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 23:05:53.539 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 23:05:58.998 [http-nio-8080-exec-6] INFO  c.e.h.s.impl.BookingServiceImpl - 更新订单信息，ID: 31
2025-05-20 23:05:58.998 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询订单，ID: 31
2025-05-20 23:05:58.999 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findById - ==>  Preparing: SELECT * FROM booking WHERE id = ?
2025-05-20 23:05:59.000 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findById - ==> Parameters: 31(Integer)
2025-05-20 23:05:59.001 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findById - <==      Total: 1
2025-05-20 23:05:59.002 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.update - ==>  Preparing: UPDATE booking SET customer_id=?, room_id=?, checkin_date=?, checkout_date=?, status=?, total_price=?, payment_status=?, synced_to_finance=? WHERE id=?
2025-05-20 23:05:59.002 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.update - ==> Parameters: 6(Integer), 1(Integer), 2025-05-16 08:00:00.0(Timestamp), 2025-05-20 08:00:00.0(Timestamp), checked-in(String), 800.0(Double), unpaid(String), null, 31(Integer)
2025-05-20 23:05:59.011 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.update - <==    Updates: 1
2025-05-20 23:05:59.012 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单更新成功: 31
2025-05-20 23:05:59.027 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 23:05:59.027 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 23:05:59.027 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 23:05:59.029 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 23:06:06.942 [http-nio-8080-exec-8] INFO  c.e.h.s.impl.BookingServiceImpl - 更新订单信息，ID: 28
2025-05-20 23:06:06.942 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询订单，ID: 28
2025-05-20 23:06:06.943 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findById - ==>  Preparing: SELECT * FROM booking WHERE id = ?
2025-05-20 23:06:06.943 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findById - ==> Parameters: 28(Integer)
2025-05-20 23:06:06.944 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findById - <==      Total: 1
2025-05-20 23:06:06.945 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.update - ==>  Preparing: UPDATE booking SET customer_id=?, room_id=?, checkin_date=?, checkout_date=?, status=?, total_price=?, payment_status=?, synced_to_finance=? WHERE id=?
2025-05-20 23:06:06.945 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.update - ==> Parameters: 5(Integer), 1(Integer), 2024-12-20 08:00:00.0(Timestamp), 2025-05-22 08:00:00.0(Timestamp), checked-out(String), 400.0(Double), paid(String), null, 28(Integer)
2025-05-20 23:06:06.947 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.update - <==    Updates: 1
2025-05-20 23:06:06.949 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单更新成功: 28
2025-05-20 23:06:06.950 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:06:06.951 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:06:06.951 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:06:06.955 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.updateSyncStatus - ==>  Preparing: UPDATE booking SET synced_to_finance=? WHERE id=?
2025-05-20 23:06:06.955 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.updateSyncStatus - ==> Parameters: true(Boolean), 28(Integer)
2025-05-20 23:06:06.957 [http-nio-8080-exec-8] DEBUG c.e.h.m.B.updateSyncStatus - <==    Updates: 1
2025-05-20 23:06:06.957 [http-nio-8080-exec-8] INFO  c.e.h.s.impl.BookingServiceImpl - 订单 28 已成功同步到财务系统
2025-05-20 23:06:06.969 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 23:06:06.969 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 23:06:06.970 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 23:06:06.974 [http-nio-8080-exec-9] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 23:06:12.952 [http-nio-8080-exec-10] INFO  c.e.h.s.impl.BookingServiceImpl - 更新订单信息，ID: 29
2025-05-20 23:06:12.953 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询订单，ID: 29
2025-05-20 23:06:12.953 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findById - ==>  Preparing: SELECT * FROM booking WHERE id = ?
2025-05-20 23:06:12.954 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findById - ==> Parameters: 29(Integer)
2025-05-20 23:06:12.956 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findById - <==      Total: 1
2025-05-20 23:06:12.957 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.update - ==>  Preparing: UPDATE booking SET customer_id=?, room_id=?, checkin_date=?, checkout_date=?, status=?, total_price=?, payment_status=?, synced_to_finance=? WHERE id=?
2025-05-20 23:06:12.957 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.update - ==> Parameters: 7(Integer), 2(Integer), 2025-01-20 08:00:00.0(Timestamp), 2025-05-23 08:00:00.0(Timestamp), checked-out(String), 900.0(Double), paid(String), null, 29(Integer)
2025-05-20 23:06:12.960 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.update - <==    Updates: 1
2025-05-20 23:06:12.960 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单更新成功: 29
2025-05-20 23:06:12.961 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:06:12.962 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 23:06:12.963 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:06:12.966 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.updateSyncStatus - ==>  Preparing: UPDATE booking SET synced_to_finance=? WHERE id=?
2025-05-20 23:06:12.966 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.updateSyncStatus - ==> Parameters: true(Boolean), 29(Integer)
2025-05-20 23:06:12.968 [http-nio-8080-exec-10] DEBUG c.e.h.m.B.updateSyncStatus - <==    Updates: 1
2025-05-20 23:06:12.969 [http-nio-8080-exec-10] INFO  c.e.h.s.impl.BookingServiceImpl - 订单 29 已成功同步到财务系统
2025-05-20 23:06:12.993 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 23:06:12.995 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 23:06:12.996 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 23:06:13.007 [http-nio-8080-exec-3] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 23:06:15.465 [http-nio-8080-exec-2] INFO  c.e.h.s.impl.BookingServiceImpl - 更新订单信息，ID: 30
2025-05-20 23:06:15.465 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询订单，ID: 30
2025-05-20 23:06:15.465 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findById - ==>  Preparing: SELECT * FROM booking WHERE id = ?
2025-05-20 23:06:15.467 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findById - ==> Parameters: 30(Integer)
2025-05-20 23:06:15.469 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findById - <==      Total: 1
2025-05-20 23:06:15.469 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.update - ==>  Preparing: UPDATE booking SET customer_id=?, room_id=?, checkin_date=?, checkout_date=?, status=?, total_price=?, payment_status=?, synced_to_finance=? WHERE id=?
2025-05-20 23:06:15.470 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.update - ==> Parameters: 1(Integer), 3(Integer), 2025-04-18 08:00:00.0(Timestamp), 2025-05-20 08:00:00.0(Timestamp), checked-out(String), 1000.0(Double), paid(String), null, 30(Integer)
2025-05-20 23:06:15.472 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.update - <==    Updates: 1
2025-05-20 23:06:15.472 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单更新成功: 30
2025-05-20 23:06:15.473 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:06:15.473 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 23:06:15.474 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:06:15.476 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.updateSyncStatus - ==>  Preparing: UPDATE booking SET synced_to_finance=? WHERE id=?
2025-05-20 23:06:15.477 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.updateSyncStatus - ==> Parameters: true(Boolean), 30(Integer)
2025-05-20 23:06:15.479 [http-nio-8080-exec-2] DEBUG c.e.h.m.B.updateSyncStatus - <==    Updates: 1
2025-05-20 23:06:15.479 [http-nio-8080-exec-2] INFO  c.e.h.s.impl.BookingServiceImpl - 订单 30 已成功同步到财务系统
2025-05-20 23:06:15.496 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 23:06:15.498 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 23:06:15.498 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 23:06:15.502 [http-nio-8080-exec-1] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 23:06:17.930 [http-nio-8080-exec-4] INFO  c.e.h.s.impl.BookingServiceImpl - 更新订单信息，ID: 31
2025-05-20 23:06:17.930 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询订单，ID: 31
2025-05-20 23:06:17.931 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findById - ==>  Preparing: SELECT * FROM booking WHERE id = ?
2025-05-20 23:06:17.932 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findById - ==> Parameters: 31(Integer)
2025-05-20 23:06:17.933 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findById - <==      Total: 1
2025-05-20 23:06:17.933 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.update - ==>  Preparing: UPDATE booking SET customer_id=?, room_id=?, checkin_date=?, checkout_date=?, status=?, total_price=?, payment_status=?, synced_to_finance=? WHERE id=?
2025-05-20 23:06:17.933 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.update - ==> Parameters: 6(Integer), 1(Integer), 2025-05-16 08:00:00.0(Timestamp), 2025-05-20 08:00:00.0(Timestamp), checked-in(String), 800.0(Double), paid(String), null, 31(Integer)
2025-05-20 23:06:17.936 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.update - <==    Updates: 1
2025-05-20 23:06:17.936 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 订单更新成功: 31
2025-05-20 23:06:17.937 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:06:17.937 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:06:17.938 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:06:17.939 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.updateSyncStatus - ==>  Preparing: UPDATE booking SET synced_to_finance=? WHERE id=?
2025-05-20 23:06:17.940 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.updateSyncStatus - ==> Parameters: true(Boolean), 31(Integer)
2025-05-20 23:06:17.942 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.updateSyncStatus - <==    Updates: 1
2025-05-20 23:06:17.943 [http-nio-8080-exec-4] INFO  c.e.h.s.impl.BookingServiceImpl - 订单 31 已成功同步到财务系统
2025-05-20 23:06:17.959 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 23:06:17.959 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 23:06:17.959 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 23:06:17.961 [http-nio-8080-exec-5] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 23:31:39.977 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 23:31:39.978 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 23:31:39.978 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 23:31:39.978 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 23:31:39.978 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 23:31:39.979 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 23:31:39.979 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 23:31:39.980 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 23:31:39.981 [http-nio-8080-exec-7] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 23:31:39.983 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 23:31:41.184 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 获取到4条收入记录
2025-05-20 23:31:41.244 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 23:31:41.244 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 23:31:41.247 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 23:31:41.272 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:31:41.273 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:31:41.273 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:31:41.276 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:31:41.296 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:31:41.297 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:31:41.298 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:31:41.301 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:31:41.301 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:31:41.301 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:31:41.304 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:31:41.306 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:31:41.306 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 23:31:41.307 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:31:41.307 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:31:41.307 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 23:31:41.308 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:31:41.308 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:31:41.308 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:31:41.312 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:31:41.325 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:31:41.327 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:31:41.327 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:31:41.329 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:31:41.330 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 23:31:41.331 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 23:31:41.332 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 23:34:23.832 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单详细信息
2025-05-20 23:34:23.835 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==>  Preparing: SELECT b.id, b.customer_id AS customerId, b.room_id AS roomId, b.checkin_date AS checkinDate, b.checkout_date AS checkoutDate, b.status, b.payment_status AS paymentStatus, b.total_price AS totalPrice, b.create_time AS createTime, c.name AS customerName, r.room_number AS roomNumber FROM booking b LEFT JOIN customer c ON b.customer_id = c.id LEFT JOIN room r ON b.room_id = r.id
2025-05-20 23:34:23.836 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - ==> Parameters: 
2025-05-20 23:34:23.837 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 23:34:23.837 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==>  Preparing: SELECT c.*, (SELECT COUNT(*) FROM booking b WHERE b.customer_id = c.id) AS visits, (SELECT SUM(total_price) FROM booking b WHERE b.customer_id = c.id AND (b.payment_status = 'paid' OR b.payment_status = '已付款')) AS spent FROM customer c
2025-05-20 23:34:23.837 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 23:34:23.837 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - ==> Parameters: 
2025-05-20 23:34:23.838 [http-nio-8080-exec-4] DEBUG c.e.h.m.B.findAllWithDetails - <==      Total: 5
2025-05-20 23:34:23.839 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 23:34:23.841 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.CustomerMapper.findAll - <==      Total: 8
2025-05-20 23:34:27.078 [http-nio-8080-exec-7] INFO  c.e.h.controller.FinanceController - 获取到4条收入记录
2025-05-20 23:34:27.094 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 23:34:27.094 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 23:34:27.096 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 23:34:27.117 [http-nio-8080-exec-9] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:34:27.118 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:34:27.118 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:34:27.120 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:34:27.159 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:34:27.159 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:34:27.160 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:34:27.162 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:34:27.163 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:34:27.163 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:34:27.164 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:34:27.165 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:34:27.165 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 23:34:27.165 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:34:27.165 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:34:27.165 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 23:34:27.166 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:34:27.166 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:34:27.166 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:34:27.167 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:34:27.177 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:34:27.177 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:34:27.177 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:34:27.178 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:34:27.179 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 23:34:27.179 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 23:34:27.180 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 23:34:29.622 [http-nio-8080-exec-2] INFO  c.e.h.controller.FinanceController - 获取到4条收入记录
2025-05-20 23:34:29.643 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 23:34:29.644 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 23:34:29.650 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 4
2025-05-20 23:34:29.672 [http-nio-8080-exec-4] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:34:29.672 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:34:29.673 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:34:29.675 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:34:29.690 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:34:29.692 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:34:29.692 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:34:29.693 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:34:29.694 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:34:29.694 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:34:29.695 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:34:29.695 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:34:29.696 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 23:34:29.697 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:34:29.698 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:34:29.698 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 23:34:29.699 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:34:29.700 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:34:29.700 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:34:29.700 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:34:29.709 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:34:29.709 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:34:29.709 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:34:29.710 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:34:29.710 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 23:34:29.710 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 23:34:29.712 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 23:43:20.487 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.insert - ==>  Preparing: INSERT INTO expense(category, amount, description, expense_date, create_time, update_time, remark) VALUES(?, ?, ?, ?, ?, ?, ?)
2025-05-20 23:43:20.487 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.insert - ==> Parameters: 人力(String), 500(BigDecimal), 搬运货物(String), 2025-05-21 07:34:00.0(Timestamp), 2025-05-20 23:43:20.484(Timestamp), 2025-05-20 23:43:20.484(Timestamp), (String)
2025-05-20 23:43:20.491 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.ExpenseMapper.insert - <==    Updates: 1
2025-05-20 23:43:23.124 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 获取到4条收入记录
2025-05-20 23:43:23.140 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 23:43:23.141 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 23:43:23.146 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 5
2025-05-20 23:43:23.170 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:43:23.170 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:43:23.171 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:43:23.173 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:43:23.203 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:43:23.203 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:43:23.204 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:43:23.205 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:43:23.205 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:43:23.206 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:43:23.208 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:43:23.208 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:43:23.208 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 23:43:23.209 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:43:23.210 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:43:23.210 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 23:43:23.211 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:43:23.211 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:43:23.212 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:43:23.214 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:43:23.235 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:43:23.235 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:43:23.235 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:43:23.236 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:43:23.237 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 23:43:23.237 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 23:43:23.239 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 23:44:53.486 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到4条收入记录
2025-05-20 23:44:53.497 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 23:44:53.498 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 23:44:53.499 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 5
2025-05-20 23:44:53.509 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:44:53.510 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:44:53.510 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:44:53.511 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:44:53.521 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:44:53.521 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:44:53.521 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:44:53.522 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:44:53.522 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:44:53.523 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:44:53.523 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:44:53.523 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:44:53.523 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 23:44:53.524 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:44:53.524 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:44:53.524 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 23:44:53.525 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:44:53.525 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:44:53.525 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:44:53.525 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:44:53.535 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:44:53.535 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:44:53.535 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:44:53.536 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:44:53.537 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 23:44:53.538 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 23:44:53.539 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 23:44:54.401 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 获取到4条收入记录
2025-05-20 23:44:54.411 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 23:44:54.411 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 23:44:54.412 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 5
2025-05-20 23:44:54.427 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:44:54.427 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:44:54.428 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:44:54.429 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:44:54.444 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:44:54.444 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:44:54.444 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:44:54.445 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:44:54.445 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:44:54.445 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:44:54.446 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:44:54.447 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:44:54.447 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 23:44:54.448 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:44:54.448 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:44:54.448 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 23:44:54.449 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:44:54.449 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:44:54.449 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:44:54.450 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:44:54.458 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:44:54.458 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:44:54.458 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:44:54.459 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:44:54.459 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 23:44:54.460 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 23:44:54.460 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 23:45:20.998 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到4条收入记录
2025-05-20 23:45:21.007 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 23:45:21.008 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 23:45:21.009 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 5
2025-05-20 23:45:21.019 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:45:21.019 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:45:21.019 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:45:21.020 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:45:21.030 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:45:21.030 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:45:21.031 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:45:21.031 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:45:21.031 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:45:21.031 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:45:21.032 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:45:21.032 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:45:21.032 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 23:45:21.033 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:45:21.033 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:45:21.033 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 23:45:21.034 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:45:21.034 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:45:21.034 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:45:21.035 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:45:21.045 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:45:21.045 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:45:21.045 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:45:21.046 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:45:21.047 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 23:45:21.047 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 23:45:21.048 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 23:45:21.891 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 获取到4条收入记录
2025-05-20 23:45:21.900 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 23:45:21.900 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 23:45:21.901 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 5
2025-05-20 23:45:21.910 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:45:21.911 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:45:21.911 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:45:21.913 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:45:21.925 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:45:21.926 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:45:21.926 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:45:21.927 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:45:21.927 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:45:21.927 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:45:21.928 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:45:21.928 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:45:21.928 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 23:45:21.929 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:45:21.929 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:45:21.929 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 23:45:21.932 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:45:21.932 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:45:21.933 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:45:21.934 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:45:21.950 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:45:21.950 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:45:21.951 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:45:21.953 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:45:21.953 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 23:45:21.953 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 23:45:21.955 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 23:45:46.226 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到4条收入记录
2025-05-20 23:45:46.240 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 23:45:46.241 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 23:45:46.242 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 5
2025-05-20 23:45:46.254 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:45:46.255 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:45:46.255 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:45:46.256 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:45:46.267 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:45:46.267 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:45:46.267 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:45:46.269 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:45:46.269 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:45:46.270 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:45:46.271 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:45:46.271 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:45:46.271 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 23:45:46.272 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:45:46.273 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:45:46.273 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 23:45:46.273 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:45:46.274 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:45:46.274 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:45:46.274 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:45:46.282 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:45:46.283 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:45:46.283 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:45:46.284 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:45:46.284 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 23:45:46.284 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 23:45:46.285 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 23:45:57.499 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 获取到4条收入记录
2025-05-20 23:45:57.522 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 23:45:57.522 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 23:45:57.524 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 5
2025-05-20 23:45:57.540 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:45:57.540 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:45:57.540 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:45:57.541 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:45:57.564 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:45:57.564 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:45:57.564 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:45:57.565 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:45:57.566 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:45:57.566 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:45:57.568 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:45:57.569 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:45:57.569 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 23:45:57.569 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:45:57.570 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:45:57.570 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 23:45:57.571 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:45:57.571 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:45:57.571 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:45:57.573 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:45:57.587 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:45:57.587 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:45:57.587 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:45:57.588 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:45:57.588 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 23:45:57.588 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 23:45:57.589 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 23:46:24.130 [http-nio-8080-exec-1] INFO  c.e.h.controller.FinanceController - 获取到4条收入记录
2025-05-20 23:46:24.152 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 23:46:24.152 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 23:46:24.154 [http-nio-8080-exec-4] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 5
2025-05-20 23:46:24.189 [http-nio-8080-exec-8] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:46:24.189 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:46:24.189 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:46:24.192 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:46:24.211 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:46:24.211 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:46:24.211 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:46:24.213 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:46:24.213 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:46:24.213 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:46:24.216 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:46:24.216 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:46:24.216 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 23:46:24.217 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:46:24.218 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:46:24.218 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 23:46:24.218 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:46:24.218 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:46:24.218 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:46:24.219 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:46:24.230 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:46:24.230 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:46:24.230 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:46:24.232 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:46:24.232 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 23:46:24.232 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 23:46:24.234 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 23:50:01.359 [http-nio-8080-exec-6] INFO  c.e.h.controller.FinanceController - 获取到4条收入记录
2025-05-20 23:50:01.399 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 23:50:01.399 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 23:50:01.401 [http-nio-8080-exec-9] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 5
2025-05-20 23:50:01.413 [http-nio-8080-exec-10] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:50:01.413 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:50:01.413 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:50:01.414 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:50:01.427 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:50:01.427 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:50:01.428 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:50:01.431 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:50:01.431 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:50:01.431 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:50:01.432 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:50:01.432 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:50:01.432 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 23:50:01.433 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:50:01.433 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:50:01.433 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 23:50:01.433 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:50:01.434 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:50:01.434 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:50:01.435 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:50:01.466 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:50:01.466 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:50:01.467 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:50:01.468 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:50:01.468 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 23:50:01.468 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 23:50:01.469 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 23:50:10.062 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.insert - ==>  Preparing: INSERT INTO expense(category, amount, description, expense_date, create_time, update_time, remark) VALUES(?, ?, ?, ?, ?, ?, ?)
2025-05-20 23:50:10.063 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.insert - ==> Parameters: 人力(String), 100(BigDecimal), 100(String), 2025-05-21 07:50:01.0(Timestamp), 2025-05-20 23:50:10.061(Timestamp), 2025-05-20 23:50:10.061(Timestamp), (String)
2025-05-20 23:50:10.064 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.ExpenseMapper.insert - <==    Updates: 1
2025-05-20 23:50:13.501 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 获取到4条收入记录
2025-05-20 23:50:13.528 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 23:50:13.528 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 23:50:13.529 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 6
2025-05-20 23:50:13.563 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:50:13.564 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:50:13.564 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:50:13.565 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:50:13.594 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:50:13.595 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:50:13.595 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:50:13.596 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:50:13.596 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:50:13.596 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:50:13.597 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:50:13.597 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:50:13.597 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 23:50:13.599 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:50:13.599 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:50:13.599 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 23:50:13.600 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:50:13.600 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:50:13.600 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:50:13.601 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:50:13.610 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:50:13.610 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:50:13.610 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:50:13.611 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:50:13.612 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 23:50:13.612 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 23:50:13.612 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 23:51:40.733 [http-nio-8080-exec-9] INFO  c.e.h.controller.FinanceController - 获取到4条收入记录
2025-05-20 23:51:40.804 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 23:51:40.804 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 23:51:40.805 [http-nio-8080-exec-10] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 6
2025-05-20 23:51:40.842 [http-nio-8080-exec-3] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:51:40.842 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:51:40.842 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:51:40.843 [http-nio-8080-exec-3] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:51:41.014 [http-nio-8080-exec-2] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:51:41.014 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:51:41.014 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:51:41.015 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:51:41.016 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:51:41.016 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:51:41.016 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:51:41.017 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:51:41.017 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 23:51:41.017 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:51:41.017 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:51:41.017 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 23:51:41.018 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:51:41.018 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:51:41.018 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:51:41.018 [http-nio-8080-exec-2] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:51:41.071 [http-nio-8080-exec-1] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:51:41.071 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:51:41.071 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:51:41.073 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:51:41.073 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 23:51:41.073 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 23:51:41.074 [http-nio-8080-exec-1] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
2025-05-20 23:52:22.623 [http-nio-8080-exec-4] INFO  c.e.h.controller.FinanceController - 获取到4条收入记录
2025-05-20 23:52:22.643 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==>  Preparing: SELECT * FROM expense ORDER BY expense_date DESC
2025-05-20 23:52:22.643 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - ==> Parameters: 
2025-05-20 23:52:22.644 [http-nio-8080-exec-8] DEBUG c.e.h.mapper.ExpenseMapper.findAll - <==      Total: 6
2025-05-20 23:52:22.678 [http-nio-8080-exec-5] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:52:22.678 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:52:22.678 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:52:22.679 [http-nio-8080-exec-5] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:52:22.704 [http-nio-8080-exec-7] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:52:22.704 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:52:22.704 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:52:22.706 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:52:22.706 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:52:22.707 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:52:22.708 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:52:22.708 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:52:22.708 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 2(Integer)
2025-05-20 23:52:22.710 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:52:22.710 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:52:22.710 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 3(Integer)
2025-05-20 23:52:22.712 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:52:22.712 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==>  Preparing: SELECT * FROM room WHERE id = ?
2025-05-20 23:52:22.712 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - ==> Parameters: 1(Integer)
2025-05-20 23:52:22.713 [http-nio-8080-exec-7] DEBUG c.e.h.mapper.RoomMapper.findById - <==      Total: 1
2025-05-20 23:52:22.723 [http-nio-8080-exec-6] DEBUG c.e.h.s.impl.BookingServiceImpl - 查询所有订单
2025-05-20 23:52:22.723 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==>  Preparing: SELECT * FROM booking
2025-05-20 23:52:22.723 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - ==> Parameters: 
2025-05-20 23:52:22.724 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.BookingMapper.findAll - <==      Total: 5
2025-05-20 23:52:22.724 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==>  Preparing: SELECT * FROM room
2025-05-20 23:52:22.724 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - ==> Parameters: 
2025-05-20 23:52:22.725 [http-nio-8080-exec-6] DEBUG c.e.h.mapper.RoomMapper.findAll - <==      Total: 4
